2025-08-10T11:08:12.322+08:00  INFO 4964 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T11:08:12.339+08:00  INFO 4964 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T11:08:12.340+08:00  INFO 4964 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T11:08:12.350+08:00  INFO 4964 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T11:08:12.618+08:00  INFO 4964 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 4964 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T11:08:12.619+08:00  INFO 4964 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T11:08:13.307+08:00  INFO 4964 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7ed1ee08-0a1c-37a3-8e51-2be717c90f7e
2025-08-10T11:08:13.368+08:00  WARN 4964 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T11:08:13.371+08:00  WARN 4964 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T11:08:13.372+08:00  WARN 4964 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T11:08:13.373+08:00  WARN 4964 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T11:08:13.375+08:00  WARN 4964 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T11:08:13.960+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T11:08:14.088+08:00  INFO 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T11:08:14.151+08:00 DEBUG 4964 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T11:08:14.184+08:00 DEBUG 4964 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T11:08:14.294+08:00  WARN 4964 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T11:08:14.337+08:00 DEBUG 4964 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T11:08:14.338+08:00 DEBUG 4964 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@6734ff92
2025-08-10T11:08:14.345+08:00 DEBUG 4964 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T11:08:14.375+08:00 DEBUG 4964 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T11:08:14.376+08:00 DEBUG 4964 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T11:08:14.464+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [1866233b, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T11:08:14.465+08:00  INFO 4964 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T11:08:14.519+08:00  INFO 4964 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T11:08:14.520+08:00  INFO 4964 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T11:08:15.278+08:00  INFO 4964 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T11:08:15.280+08:00  INFO 4964 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T11:08:15.280+08:00  INFO 4964 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T11:08:15.281+08:00  INFO 4964 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T11:08:15.327+08:00  INFO 4964 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T11:08:15.344+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T11:08:15.362+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.371+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.373+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.376+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T11:08:15.376+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T11:08:15.378+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.379+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.380+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.381+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T11:08:15.381+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T11:08:15.383+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.383+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.384+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.385+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T11:08:15.385+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T11:08:15.386+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.387+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.390+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.391+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T11:08:15.400+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T11:08:15.401+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.402+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.403+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.403+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T11:08:15.403+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T11:08:15.405+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.405+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.406+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.406+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T11:08:15.406+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T11:08:15.407+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.408+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.408+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.408+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T11:08:15.408+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T11:08:15.409+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:08:15.409+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.409+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:08:15.410+08:00 DEBUG 4964 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T11:08:15.413+08:00  INFO 4964 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 3.58 seconds (process running for 4.212)
2025-08-10T11:10:31.643+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81d44e47, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] New http connection, requesting read
2025-08-10T11:10:31.644+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [81d44e47, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:31.664+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81d44e47, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] Increasing pending responses count: 1
2025-08-10T11:10:31.674+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [81d44e47-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:31.714+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:31.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:31.719+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [81d44e47-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:31.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:31.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T11:10:31.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:31.774+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.775+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.776+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T11:10:31.776+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T11:10:31.778+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:31.778+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.779+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T11:10:31.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T11:10:31.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:31.781+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.781+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.782+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T11:10:31.782+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T11:10:31.783+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:31.783+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.784+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:31.784+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T11:10:31.921+08:00 DEBUG 4964 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T11:10:31.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:31.945+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [fbb04b4c] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:31.962+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [fbb04b4c] Connecting to [/172.22.64.1:58050].
2025-08-10T11:10:31.965+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:10:31.965+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:31.965+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:10:31.969+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:10:31.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:10:31.971+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:31.982+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [81d44e47-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:31.985+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:32.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:32.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:32.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:32.696+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-1, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:32.696+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:32.696+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:32.696+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:32.697+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:32.699+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81d44e47-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] Last HTTP response frame
2025-08-10T11:10:32.699+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81d44e47-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11162] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:32.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81d44e47-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11162] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:32.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [81d44e47-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11162] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:37.747+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [e1d55c0f, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] New http connection, requesting read
2025-08-10T11:10:37.747+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [e1d55c0f, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:37.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [e1d55c0f, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] Increasing pending responses count: 1
2025-08-10T11:10:37.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [e1d55c0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:37.749+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:10:37.749+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/account/auth/login] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:37.749+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [e1d55c0f-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:37.749+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:37.761+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T11:10:37.762+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:37.763+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.763+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.763+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T11:10:37.763+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T11:10:37.763+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:37.763+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.764+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.764+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T11:10:37.764+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T11:10:37.764+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:37.765+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.765+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.765+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T11:10:37.765+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T11:10:37.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:37.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:37.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T11:10:37.778+08:00 DEBUG 4964 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58080]
2025-08-10T11:10:37.779+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:37.779+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [51d8c8a0] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:37.779+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [51d8c8a0] Connecting to [/172.22.64.1:58080].
2025-08-10T11:10:37.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T11:10:37.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:37.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T11:10:37.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T11:10:37.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/auth/login, method=POST}
2025-08-10T11:10:37.780+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:10:37.782+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [e1d55c0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:37.783+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:10:38.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Content-Length: <filtered>
Date: <filtered>
2025-08-10T11:10:38.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-1, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [e1d55c0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] Last HTTP response frame
2025-08-10T11:10:38.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [e1d55c0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11221] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:38.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [e1d55c0f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11221] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:38.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [e1d55c0f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11221] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:38.223+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f69a95b0, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] New http connection, requesting read
2025-08-10T11:10:38.223+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [f69a95b0, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.225+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f69a95b0, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] Increasing pending responses count: 1
2025-08-10T11:10:38.225+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [f69a95b0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:38.226+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:10:38.226+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:38.226+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [f69a95b0-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:38.226+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:38.228+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.228+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:10:38.228+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:10:38.229+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [f69a95b0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.230+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:10:38.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:38.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:10:38.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-2, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f69a95b0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] Last HTTP response frame
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f69a95b0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11225] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f69a95b0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11225] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:38.328+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [f69a95b0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11225] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:38.658+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f3f1be94, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] New http connection, requesting read
2025-08-10T11:10:38.658+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [f3f1be94, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f3f1be94, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] Increasing pending responses count: 1
2025-08-10T11:10:38.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [f3f1be94-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:38.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:38.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:38.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [f3f1be94-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:38.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:38.662+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.662+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:10:38.662+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:38.663+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [f3f1be94-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.663+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-2, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.856+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f3f1be94-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] Last HTTP response frame
2025-08-10T11:10:38.858+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f3f1be94-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11228] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:38.858+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f3f1be94-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11228] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:38.858+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [f3f1be94-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11228] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:38.941+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [63c7b43a, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] New http connection, requesting read
2025-08-10T11:10:38.941+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [63c7b43a, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [9d6089ef, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] New http connection, requesting read
2025-08-10T11:10:38.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [63c7b43a, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] Increasing pending responses count: 1
2025-08-10T11:10:38.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [9d6089ef, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [63c7b43a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:38.945+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:38.945+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:38.945+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [63c7b43a-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:38.946+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:38.946+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [99755195, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] New http connection, requesting read
2025-08-10T11:10:38.946+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [99755195, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.947+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [9d6089ef, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] Increasing pending responses count: 1
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [9d6089ef-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [99755195, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] Increasing pending responses count: 1
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [99755195-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:38.948+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [9d6089ef-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:38.949+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:38.949+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:38.949+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [63c7b43a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.949+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:38.950+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [99755195-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:38.950+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:38.950+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:38.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [5ea7d243] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConnector     : [5ea7d243] Connecting to [/172.22.64.1:58050].
2025-08-10T11:10:38.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [6c64e114] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [6c64e114] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:38.956+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConnector     : [6c64e114] Connecting to [/172.22.64.1:58050].
2025-08-10T11:10:38.956+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:10:38.956+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.956+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:10:38.957+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:10:38.957+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:10:38.957+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:10:38.957+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:38.957+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:10:38.957+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:38.958+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:10:38.958+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:10:38.958+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:38.958+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [99755195-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.958+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [9d6089ef-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:38.959+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:38.959+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:39.003+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:39.003+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:39.003+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:39.003+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-3, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:39.003+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:39.004+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:39.004+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:39.004+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:39.004+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [63c7b43a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] Last HTTP response frame
2025-08-10T11:10:39.004+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [63c7b43a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11236] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:39.006+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [63c7b43a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11236] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:39.006+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [63c7b43a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11236] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:39.031+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:39.031+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:39.031+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:39.032+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [5ea7d243-1, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:39.032+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [9d6089ef-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] Last HTTP response frame
2025-08-10T11:10:39.032+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [9d6089ef-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11238] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:39.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [9d6089ef-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11238] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:39.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [9d6089ef-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11238] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:39.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:39.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:39.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:39.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:39.064+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:39.064+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:39.064+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [6c64e114-1, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [99755195-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] Last HTTP response frame
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [99755195-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11239] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [99755195-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11239] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [99755195-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11239] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:39.066+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:39.067+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:41.590+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b27e952c, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] New http connection, requesting read
2025-08-10T11:10:41.590+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [b27e952c, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:41.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b27e952c, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] Increasing pending responses count: 1
2025-08-10T11:10:41.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [b27e952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:41.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:10:41.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:41.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [b27e952c-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:41.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:41.603+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T11:10:41.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:41.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T11:10:41.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T11:10:41.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:41.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T11:10:41.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T11:10:41.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:41.607+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.607+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.607+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T11:10:41.607+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T11:10:41.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:41.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:41.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T11:10:41.618+08:00 DEBUG 4964 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58070]
2025-08-10T11:10:41.619+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:41.619+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [18689ead] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:41.619+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [18689ead] Connecting to [/192.168.0.18:58070].
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:10:41.620+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [b27e952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:41.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:10:41.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:41.917+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:10:41.917+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [18689ead-1, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b27e952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] Last HTTP response frame
2025-08-10T11:10:41.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b27e952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11269] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:41.920+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b27e952c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11269] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:41.920+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [b27e952c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11269] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:41.925+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [31e59a00, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] New http connection, requesting read
2025-08-10T11:10:41.925+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [31e59a00, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:41.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [31e59a00, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] Increasing pending responses count: 1
2025-08-10T11:10:41.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [31e59a00-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:41.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:10:41.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/10] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:41.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [31e59a00-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:41.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:41.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:41.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/10, method=GET}
2025-08-10T11:10:41.930+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/10, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:10:41.930+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [31e59a00-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:41.930+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/10, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:10:42.004+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/10, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [18689ead-2, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/10, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/10, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:10:42.005+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:42.006+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [31e59a00-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] Last HTTP response frame
2025-08-10T11:10:42.006+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [31e59a00-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11271] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:42.006+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [31e59a00-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11271] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:42.006+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [31e59a00-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11271] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:42.014+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [4b933902, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] New http connection, requesting read
2025-08-10T11:10:42.014+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [4b933902, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:42.015+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [4b933902, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] Increasing pending responses count: 1
2025-08-10T11:10:42.015+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [4b933902-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:42.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:10:42.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:42.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [4b933902-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:42.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:42.017+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:42.017+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:10:42.017+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:10:42.017+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [4b933902-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:42.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:10:42.098+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [18689ead-3, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:10:42.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [18689ead, L:/192.168.0.18:11270 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:42.100+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [4b933902-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] Last HTTP response frame
2025-08-10T11:10:42.100+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [4b933902-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11272] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:42.100+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [4b933902-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11272] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:42.100+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [4b933902-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11272] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:43.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [55cf741a, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] New http connection, requesting read
2025-08-10T11:10:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [55cf741a, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [55cf741a, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] Increasing pending responses count: 1
2025-08-10T11:10:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [55cf741a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:43.723+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:43.723+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [55cf741a-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:43.723+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:43.732+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T11:10:43.732+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:43.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T11:10:43.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T11:10:43.734+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:43.734+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.734+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.735+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T11:10:43.735+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T11:10:43.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:43.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T11:10:43.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T11:10:43.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T11:10:43.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T11:10:43.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T11:10:43.745+08:00 DEBUG 4964 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58012]
2025-08-10T11:10:43.745+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:43.745+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [9d1a553c] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:43.745+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConnector     : [9d1a553c] Connecting to [/192.168.0.18:58012].
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:43.746+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [55cf741a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:43.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-1, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:43.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:43.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:43.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [55cf741a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] Last HTTP response frame
2025-08-10T11:10:43.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [55cf741a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11283] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:43.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [55cf741a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11283] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:43.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [55cf741a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11283] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:43.933+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d6b5971c, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] New http connection, requesting read
2025-08-10T11:10:43.933+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [d6b5971c, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:43.933+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d6b5971c, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] Increasing pending responses count: 1
2025-08-10T11:10:43.933+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [d6b5971c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:43.934+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:43.934+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:43.934+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [d6b5971c-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:43.934+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:43.935+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:43.936+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:10:43.936+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:43.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [d6b5971c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:43.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:43.992+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:43.992+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:43.992+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:43.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-2, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:43.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:43.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:43.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:43.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:43.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d6b5971c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] Last HTTP response frame
2025-08-10T11:10:43.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d6b5971c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11288] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:43.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d6b5971c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11288] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:43.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [d6b5971c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11288] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:46.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6d8c45d0, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] New http connection, requesting read
2025-08-10T11:10:46.919+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [6d8c45d0, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:46.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6d8c45d0, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] Increasing pending responses count: 1
2025-08-10T11:10:46.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [6d8c45d0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:46.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:46.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:46.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [6d8c45d0-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:46.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:46.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:46.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T11:10:46.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:46.925+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [6d8c45d0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:46.925+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:46.996+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:46.996+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:46.996+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-3, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6d8c45d0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] Last HTTP response frame
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6d8c45d0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11312] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6d8c45d0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11312] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [6d8c45d0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11312] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:47.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [f083bbf3, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] New http connection, requesting read
2025-08-10T11:10:47.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [f083bbf3, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:47.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [f083bbf3, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] Increasing pending responses count: 1
2025-08-10T11:10:47.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [f083bbf3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:47.010+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:47.010+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:47.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [f083bbf3-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:47.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:47.012+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:47.013+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T11:10:47.013+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:47.013+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [f083bbf3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:47.014+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:47.051+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:47.051+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-4, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [f083bbf3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] Last HTTP response frame
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [f083bbf3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11313] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:47.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:47.053+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [f083bbf3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11313] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:47.053+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [f083bbf3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11313] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:47.060+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b186e091, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] New http connection, requesting read
2025-08-10T11:10:47.060+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [b186e091, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:47.060+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b186e091, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] Increasing pending responses count: 1
2025-08-10T11:10:47.060+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [b186e091-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:47.062+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:47.062+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:47.062+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [b186e091-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:47.062+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:47.063+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:47.064+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T11:10:47.064+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:47.064+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [b186e091-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:47.065+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:47.104+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:47.104+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:47.104+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-5, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b186e091-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] Last HTTP response frame
2025-08-10T11:10:47.105+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b186e091-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11314] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:47.106+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b186e091-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11314] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:47.106+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [b186e091-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11314] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:53.384+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [4c924e9c, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] New http connection, requesting read
2025-08-10T11:10:53.384+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [4c924e9c, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:53.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [4c924e9c, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] Increasing pending responses count: 1
2025-08-10T11:10:53.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [4c924e9c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:53.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:53.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:53.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [4c924e9c-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:53.386+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:53.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:53.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:10:53.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:53.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [4c924e9c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:53.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:53.614+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-6, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:53.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:53.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [4c924e9c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] Last HTTP response frame
2025-08-10T11:10:53.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [4c924e9c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11348] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:53.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [4c924e9c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11348] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:53.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [4c924e9c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11348] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [72d690ac, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] New http connection, requesting read
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [72d690ac, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [72d690ac, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] Increasing pending responses count: 1
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [72d690ac-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [72d690ac-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:53.622+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:53.624+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:53.624+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:10:53.624+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:10:53.624+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [72d690ac-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:53.624+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:10:53.712+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:53.712+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:10:53.712+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-7, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [72d690ac-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] Last HTTP response frame
2025-08-10T11:10:53.720+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [72d690ac-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11350] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:53.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [72d690ac-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11350] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:53.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [72d690ac-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11350] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:53.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4720d8bc, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] New http connection, requesting read
2025-08-10T11:10:53.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [4720d8bc, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:53.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4720d8bc, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] Increasing pending responses count: 1
2025-08-10T11:10:53.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [4720d8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:53.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:53.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:53.728+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [4720d8bc-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:53.728+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:53.729+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:53.729+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:10:53.729+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:53.730+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [4720d8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:53.730+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:53.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:53.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:53.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-4, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4720d8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] Last HTTP response frame
2025-08-10T11:10:53.909+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4720d8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11352] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:53.910+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4720d8bc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11352] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:53.910+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [4720d8bc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11352] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:59.134+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c3818d9f, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] New http connection, requesting read
2025-08-10T11:10:59.134+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [c3818d9f, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:59.134+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c3818d9f, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] Increasing pending responses count: 1
2025-08-10T11:10:59.134+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [c3818d9f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:59.135+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:10:59.135+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/account/auth/login] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:59.135+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [c3818d9f-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:59.135+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:59.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/auth/login, method=POST}
2025-08-10T11:10:59.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:10:59.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [c3818d9f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.138+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:10:59.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Content-Length: <filtered>
Date: <filtered>
2025-08-10T11:10:59.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:10:59.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-3, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c3818d9f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] Last HTTP response frame
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c3818d9f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11393] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c3818d9f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11393] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:59.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [c3818d9f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11393] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [8cf1334a, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] New http connection, requesting read
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [8cf1334a, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [8cf1334a, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] Increasing pending responses count: 1
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [8cf1334a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [8cf1334a-20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:59.329+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:59.330+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.331+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:10:59.331+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:10:59.331+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [8cf1334a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.331+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:10:59.373+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:59.373+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:10:59.373+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [51d8c8a0-4, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [51d8c8a0, L:/172.22.64.1:11222 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [8cf1334a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] Last HTTP response frame
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [8cf1334a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11396] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [8cf1334a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11396] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:59.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [8cf1334a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11396] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:59.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [6616294f, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] New http connection, requesting read
2025-08-10T11:10:59.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [6616294f, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:59.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [6616294f, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] Increasing pending responses count: 1
2025-08-10T11:10:59.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [6616294f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:59.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:59.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:59.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [6616294f-21] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:59.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:59.711+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.712+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:10:59.712+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:59.713+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [6616294f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.713+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:59.806+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:59.806+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:59.807+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.807+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [5ea7d243-2, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:59.807+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:59.807+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:59.807+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:59.807+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.808+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [6616294f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] Last HTTP response frame
2025-08-10T11:10:59.808+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [6616294f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11398] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:59.808+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [6616294f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11398] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:59.808+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [6616294f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11398] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:59.869+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [dbd7eefb, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] New http connection, requesting read
2025-08-10T11:10:59.869+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [dbd7eefb, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:59.869+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [dbd7eefb, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] Increasing pending responses count: 1
2025-08-10T11:10:59.869+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [dbd7eefb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [dbd7eefb-22] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f5b02b12, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] New http connection, requesting read
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [f5b02b12, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:59.870+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f5b02b12, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] Increasing pending responses count: 1
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [f5b02b12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [f5b02b12-23] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.871+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:10:59.872+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:59.872+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [dbd7eefb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1401c857, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] New http connection, requesting read
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [1401c857, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1401c857, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] Increasing pending responses count: 1
2025-08-10T11:10:59.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [1401c857-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:10:59.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [f5b02b12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:10:59.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:10:59.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [1401c857-24] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:10:59.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:10:59.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:59.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:10:59.878+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:10:59.878+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [1401c857-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.879+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:10:59.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:59.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:59.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [6c64e114-2, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:59.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:59.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:59.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:59.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [6c64e114, L:/172.22.64.1:11241 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.917+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [dbd7eefb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] Last HTTP response frame
2025-08-10T11:10:59.917+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [dbd7eefb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11403] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:59.917+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [dbd7eefb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11403] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:59.918+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [dbd7eefb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11403] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:59.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:59.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:59.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [5ea7d243-3, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:59.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:59.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:59.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:59.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [5ea7d243, L:/172.22.64.1:11240 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1401c857-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] Last HTTP response frame
2025-08-10T11:10:59.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1401c857-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11406] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:59.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1401c857-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11406] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:59.944+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [1401c857-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11406] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:10:59.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [fbb04b4c-5, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:10:59.953+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [fbb04b4c, L:/172.22.64.1:11165 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:10:59.954+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f5b02b12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] Last HTTP response frame
2025-08-10T11:10:59.954+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f5b02b12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11404] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:10:59.954+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f5b02b12-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11404] Last HTTP packet was sent, terminating the channel
2025-08-10T11:10:59.954+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [f5b02b12-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11404] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:11:14.170+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [160e1727, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] New http connection, requesting read
2025-08-10T11:11:14.170+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [160e1727, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:11:14.170+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [160e1727, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] Increasing pending responses count: 1
2025-08-10T11:11:14.170+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [160e1727-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:11:14.171+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:11:14.171+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:11:14.171+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [160e1727-25] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:11:14.171+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:11:14.172+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:11:14.172+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:11:14.172+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:11:14.172+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [160e1727-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:11:14.172+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-8, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:11:14.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:11:14.247+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:11:14.247+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [160e1727-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] Last HTTP response frame
2025-08-10T11:11:14.247+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [160e1727-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11527] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:11:14.247+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [160e1727-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11527] Last HTTP packet was sent, terminating the channel
2025-08-10T11:11:14.247+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [160e1727-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11527] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:11:14.254+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [abe54e9d, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] New http connection, requesting read
2025-08-10T11:11:14.254+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [abe54e9d, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:11:14.255+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [abe54e9d, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] Increasing pending responses count: 1
2025-08-10T11:11:14.255+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [abe54e9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:11:14.255+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:11:14.255+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:11:14.255+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [abe54e9d-26] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:11:14.255+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:11:14.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:11:14.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:11:14.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:11:14.257+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [abe54e9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:11:14.257+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9d1a553c-9, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:11:14.296+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9d1a553c, L:/192.168.0.18:11284 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:11:14.297+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [abe54e9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] Last HTTP response frame
2025-08-10T11:11:14.297+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [abe54e9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11529] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:11:14.297+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [abe54e9d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11529] Last HTTP packet was sent, terminating the channel
2025-08-10T11:11:14.297+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [abe54e9d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11529] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:11:42.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [18689ead, L:/192.168.0.18:11270 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x18689ead, L:/192.168.0.18:11270 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:11:59.676+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [51d8c8a0, L:/172.22.64.1:11222 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x51d8c8a0, L:/172.22.64.1:11222 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T11:12:00.268+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [6c64e114, L:/172.22.64.1:11241 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6c64e114, L:/172.22.64.1:11241 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:12:00.268+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [fbb04b4c, L:/172.22.64.1:11165 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xfbb04b4c, L:/172.22.64.1:11165 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:12:00.268+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [5ea7d243, L:/172.22.64.1:11240 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x5ea7d243, L:/172.22.64.1:11240 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:12:14.617+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9d1a553c, L:/192.168.0.18:11284 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9d1a553c, L:/192.168.0.18:11284 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:16:04.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [396d25bb, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] New http connection, requesting read
2025-08-10T11:16:04.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [396d25bb, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:16:04.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [396d25bb, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] Increasing pending responses count: 1
2025-08-10T11:16:04.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [396d25bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:16:04.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:16:04.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/download/url] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:16:04.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [396d25bb-27] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:16:04.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:16:04.479+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [9515e5e6] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:16:04.479+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [9515e5e6] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConnector     : [9515e5e6] Connecting to [/192.168.0.18:58012].
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.http.client.HttpClientConnect    : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/download/url, method=POST}
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:16:04.480+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [396d25bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:16:04.482+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:16:04.485+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:16:04.485+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:16:04.485+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [9515e5e6-1, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [9515e5e6, L:/192.168.0.18:13703 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [396d25bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] Last HTTP response frame
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [396d25bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13702] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [396d25bb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13702] Last HTTP packet was sent, terminating the channel
2025-08-10T11:16:04.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [396d25bb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13702] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:17:04.811+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [9515e5e6, L:/192.168.0.18:13703 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9515e5e6, L:/192.168.0.18:13703 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:17:42.610+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [5c8926fb, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] New http connection, requesting read
2025-08-10T11:17:42.610+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [5c8926fb, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:17:42.610+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [5c8926fb, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] Increasing pending responses count: 1
2025-08-10T11:17:42.610+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [5c8926fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:17:42.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:17:42.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:17:42.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [5c8926fb-28] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:17:42.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:17:42.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [7d51bdc6] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:17:42.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [7d51bdc6] Connecting to [/192.168.0.18:58012].
2025-08-10T11:17:42.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:17:42.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:17:42.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:17:42.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T11:17:42.616+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:17:42.617+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [5c8926fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:17:42.617+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:17:42.697+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:17:42.697+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:17:42.697+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-1, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [5c8926fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] Last HTTP response frame
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [5c8926fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14419] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [5c8926fb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14419] Last HTTP packet was sent, terminating the channel
2025-08-10T11:17:42.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [5c8926fb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14419] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:17:42.707+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75e59879, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] New http connection, requesting read
2025-08-10T11:17:42.707+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [75e59879, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:17:42.707+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75e59879, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] Increasing pending responses count: 1
2025-08-10T11:17:42.707+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [75e59879-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:17:42.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:17:42.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:17:42.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [75e59879-29] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:17:42.708+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:17:42.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T11:17:42.709+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:17:42.710+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [75e59879-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:17:42.710+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:17:42.747+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:17:42.747+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-2, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75e59879-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] Last HTTP response frame
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75e59879-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14426] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75e59879-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14426] Last HTTP packet was sent, terminating the channel
2025-08-10T11:17:42.748+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [75e59879-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14426] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:17:42.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [801b8494, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] New http connection, requesting read
2025-08-10T11:17:42.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [801b8494, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:17:42.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [801b8494, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] Increasing pending responses count: 1
2025-08-10T11:17:42.757+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [801b8494-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:17:42.757+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:17:42.757+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:17:42.757+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [801b8494-30] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:17:42.757+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:17:42.758+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.758+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T11:17:42.758+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:17:42.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [801b8494-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:17:42.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:17:42.866+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:17:42.866+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-3, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [801b8494-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] Last HTTP response frame
2025-08-10T11:17:42.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [801b8494-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14432] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:17:42.869+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [801b8494-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14432] Last HTTP packet was sent, terminating the channel
2025-08-10T11:17:42.869+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [801b8494-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14432] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:17:43.465+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [da0315a0, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] New http connection, requesting read
2025-08-10T11:17:43.465+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [da0315a0, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:17:43.465+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [da0315a0, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] Increasing pending responses count: 1
2025-08-10T11:17:43.465+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [da0315a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:17:43.466+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:17:43.466+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:17:43.466+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [da0315a0-31] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:17:43.466+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:17:43.467+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:43.467+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:17:43.467+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:17:43.467+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [da0315a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:17:43.467+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-4, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:17:43.721+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [da0315a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] Last HTTP response frame
2025-08-10T11:17:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [da0315a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14439] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:17:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [da0315a0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14439] Last HTTP packet was sent, terminating the channel
2025-08-10T11:17:43.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [da0315a0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14439] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:17:43.726+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cb8930d5, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] New http connection, requesting read
2025-08-10T11:17:43.726+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [cb8930d5, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:17:43.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cb8930d5, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] Increasing pending responses count: 1
2025-08-10T11:17:43.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [cb8930d5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:17:43.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:17:43.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:17:43.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [cb8930d5-32] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:17:43.728+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:17:43.728+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:43.728+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:17:43.728+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:17:43.730+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [cb8930d5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:17:43.730+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-5, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:17:43.773+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:17:43.774+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cb8930d5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] Last HTTP response frame
2025-08-10T11:17:43.774+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cb8930d5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14441] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:17:43.774+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cb8930d5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14441] Last HTTP packet was sent, terminating the channel
2025-08-10T11:17:43.774+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [cb8930d5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14441] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:18:08.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [ab6d0dd1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] New http connection, requesting read
2025-08-10T11:18:08.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [ab6d0dd1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:18:08.995+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [ab6d0dd1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] Increasing pending responses count: 1
2025-08-10T11:18:08.995+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [ab6d0dd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:18:08.995+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:18:08.995+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:18:08.996+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [ab6d0dd1-33] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:18:08.996+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:18:08.996+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:18:08.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T11:18:08.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:18:08.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [ab6d0dd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:18:08.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:18:09.242+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:18:09.242+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:18:09.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:18:09.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:18:09.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:18:09.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:18:09.245+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:18:09.245+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:18:09.245+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [ab6d0dd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] Last HTTP response frame
2025-08-10T11:18:09.245+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [ab6d0dd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14573] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:18:09.245+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [ab6d0dd1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14573] Last HTTP packet was sent, terminating the channel
2025-08-10T11:18:09.245+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [ab6d0dd1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14573] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:18:09.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5929c8c3, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] New http connection, requesting read
2025-08-10T11:18:09.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [5929c8c3, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:18:09.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5929c8c3, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Increasing pending responses count: 1
2025-08-10T11:18:09.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [5929c8c3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:18:09.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:18:09.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:18:09.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [5929c8c3-34] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:18:09.254+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:18:09.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:18:09.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T11:18:09.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:18:09.256+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [5929c8c3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:18:09.257+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:18:09.412+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-7, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5929c8c3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Last HTTP response frame
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5929c8c3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5929c8c3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14574] Last HTTP packet was sent, terminating the channel
2025-08-10T11:18:09.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [5929c8c3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14574] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:18:09.418+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [c500d0d7, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] New http connection, requesting read
2025-08-10T11:18:09.418+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [c500d0d7, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:18:09.418+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [c500d0d7, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Increasing pending responses count: 1
2025-08-10T11:18:09.418+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [c500d0d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:18:09.419+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:18:09.419+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:18:09.419+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [c500d0d7-35] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:18:09.419+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:18:09.419+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:18:09.420+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T11:18:09.420+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:18:09.420+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [c500d0d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:18:09.420+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7d51bdc6-8, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7d51bdc6, L:/192.168.0.18:14420 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [c500d0d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Last HTTP response frame
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [c500d0d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [c500d0d7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14576] Last HTTP packet was sent, terminating the channel
2025-08-10T11:18:09.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [c500d0d7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14576] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:19:09.818+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7d51bdc6, L:/192.168.0.18:14420 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x7d51bdc6, L:/192.168.0.18:14420 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:19:41.575+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [029b86a0, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] New http connection, requesting read
2025-08-10T11:19:41.575+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [029b86a0, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:19:41.576+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [029b86a0, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] Increasing pending responses count: 1
2025-08-10T11:19:41.576+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [029b86a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:19:41.576+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:19:41.576+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:19:41.576+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [029b86a0-36] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:19:41.577+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:19:41.579+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [0171af32] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:19:41.579+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [0171af32] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:19:41.579+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [0171af32] Connecting to [/172.22.64.1:58050].
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [029b86a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:19:41.580+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:19:41.789+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:19:41.789+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:19:41.789+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [0171af32-1, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [029b86a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] Last HTTP response frame
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [029b86a0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1181] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [029b86a0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1181] Last HTTP packet was sent, terminating the channel
2025-08-10T11:19:41.790+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [029b86a0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1181] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b03037a3, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] New http connection, requesting read
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [b03037a3, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b03037a3, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] Increasing pending responses count: 1
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [b03037a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:19:41.797+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [b03037a3-37] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:19:41.798+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:19:41.798+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:19:41.799+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T11:19:41.799+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:19:41.799+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [b03037a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:19:41.799+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:19:42.019+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:19:42.019+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:19:42.019+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [0171af32-2, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [0171af32, L:/172.22.64.1:1182 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b03037a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] Last HTTP response frame
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b03037a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1184] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b03037a3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1184] Last HTTP packet was sent, terminating the channel
2025-08-10T11:19:42.020+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [b03037a3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1184] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:20:42.393+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [0171af32, L:/172.22.64.1:1182 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x0171af32, L:/172.22.64.1:1182 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:21:46.073+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [070ff1e2, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] New http connection, requesting read
2025-08-10T11:21:46.073+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [070ff1e2, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.073+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [070ff1e2, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] Increasing pending responses count: 1
2025-08-10T11:21:46.073+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [070ff1e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:46.075+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:21:46.075+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:46.075+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [070ff1e2-38] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:46.075+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:46.079+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [cbdea117] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.079+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [cbdea117] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConnector     : [cbdea117] Connecting to [/172.22.64.1:58080].
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:21:46.080+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:21:46.081+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [070ff1e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.081+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d7fea1a7, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] New http connection, requesting read
2025-08-10T11:21:46.081+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [d7fea1a7, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.081+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:21:46.081+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d7fea1a7, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] Increasing pending responses count: 1
2025-08-10T11:21:46.083+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [d7fea1a7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:46.083+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:21:46.083+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:46.083+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [d7fea1a7-39] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:46.083+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:46.085+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9ba39736] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.085+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [9ba39736] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.086+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConnector     : [9ba39736] Connecting to [/172.22.64.1:58080].
2025-08-10T11:21:46.086+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T11:21:46.086+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.086+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T11:21:46.087+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T11:21:46.087+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:21:46.087+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:21:46.087+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [d7fea1a7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.087+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [cbdea117-1, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [9ba39736-1, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [cbdea117, L:/172.22.64.1:2078 - R:/172.22.64.1:58080] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d7fea1a7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] Last HTTP response frame
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [070ff1e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] Last HTTP response frame
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d7fea1a7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2079] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [070ff1e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2077] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d7fea1a7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2079] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [070ff1e2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2077] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [d7fea1a7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2079] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [070ff1e2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2077] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:21:46.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:21:46.188+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [9ba39736, L:/172.22.64.1:2080 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.334+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [7afa5ff3, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] New http connection, requesting read
2025-08-10T11:21:46.334+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [7afa5ff3, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.334+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [7afa5ff3, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] Increasing pending responses count: 1
2025-08-10T11:21:46.334+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [7afa5ff3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:46.336+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:21:46.336+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:46.336+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [7afa5ff3-40] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:46.336+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:46.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [37ab41e7] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.340+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [37ab41e7] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.341+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [37ab41e7] Connecting to [/172.22.64.1:58050].
2025-08-10T11:21:46.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:21:46.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:21:46.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:21:46.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:21:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:21:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [7afa5ff3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.344+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:21:46.501+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:46.501+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:21:46.501+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [37ab41e7-1, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [7afa5ff3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] Last HTTP response frame
2025-08-10T11:21:46.502+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [7afa5ff3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2089] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:46.503+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [7afa5ff3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2089] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:46.503+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [7afa5ff3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2089] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:46.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [b29925e6, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] New http connection, requesting read
2025-08-10T11:21:46.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [b29925e6, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [70c29ace, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] New http connection, requesting read
2025-08-10T11:21:46.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [70c29ace, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [70c29ace, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] Increasing pending responses count: 1
2025-08-10T11:21:46.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [b29925e6, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] Increasing pending responses count: 1
2025-08-10T11:21:46.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [b29925e6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:46.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [70c29ace-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:46.603+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [70c29ace-42] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [b29925e6-41] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:46.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:46.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:21:46.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:21:46.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [0b6c234f] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [0b6c234f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [70c29ace-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [0b6c234f] Connecting to [/172.22.64.1:58050].
2025-08-10T11:21:46.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:21:46.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:21:46.609+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.609+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:21:46.609+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:21:46.609+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:21:46.610+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:21:46.610+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [b29925e6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.611+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:21:46.639+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5068a336, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] New http connection, requesting read
2025-08-10T11:21:46.639+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [5068a336, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.639+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5068a336, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] Increasing pending responses count: 1
2025-08-10T11:21:46.639+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [5068a336-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:46.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:21:46.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:46.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [5068a336-43] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:46.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:46.644+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [b4495142] Created a new pooled channel, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.644+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [b4495142] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:46.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [b4495142] Connecting to [/172.22.64.1:58050].
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:21:46.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [5068a336-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [37ab41e7-2, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:21:46.647+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [70c29ace-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] Last HTTP response frame
2025-08-10T11:21:46.648+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [70c29ace-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2099] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:46.648+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [37ab41e7, L:/172.22.64.1:2090 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.648+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [70c29ace-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2099] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:46.648+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [70c29ace-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2099] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:46.670+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:46.670+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:21:46.671+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.672+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [0b6c234f-1, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:21:46.672+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [b29925e6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] Last HTTP response frame
2025-08-10T11:21:46.672+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [b29925e6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2098] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:46.673+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [b29925e6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2098] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:46.673+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [b29925e6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2098] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:46.673+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:21:46.673+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:21:46.674+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:21:46.674+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [0b6c234f, L:/172.22.64.1:2100 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:46.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:46.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:21:46.722+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:46.724+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [b4495142-1, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:21:46.724+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5068a336-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] Last HTTP response frame
2025-08-10T11:21:46.724+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5068a336-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2101] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:46.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5068a336-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2101] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:46.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [5068a336-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2101] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:46.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:21:46.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:21:46.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:21:46.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [b4495142, L:/172.22.64.1:2103 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:48.395+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [53aaf725, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] New http connection, requesting read
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [53aaf725, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [53aaf725, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] Increasing pending responses count: 1
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [53aaf725-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [53aaf725-44] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:48.396+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:48.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8d6227e9] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:48.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [8d6227e9] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:48.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConnector     : [8d6227e9] Connecting to [/192.168.0.18:58012].
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:21:48.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [53aaf725-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:48.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:21:48.470+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:48.470+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:21:48.470+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8d6227e9-1, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [53aaf725-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] Last HTTP response frame
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [53aaf725-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2129] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [53aaf725-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2129] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:48.471+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [53aaf725-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2129] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:21:48.483+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [0a487f1e, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] New http connection, requesting read
2025-08-10T11:21:48.483+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [0a487f1e, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:21:48.483+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [0a487f1e, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] Increasing pending responses count: 1
2025-08-10T11:21:48.483+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [0a487f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:21:48.484+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:21:48.484+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:21:48.484+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [0a487f1e-45] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:21:48.484+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:21:48.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:48.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:21:48.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:21:48.486+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [0a487f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:21:48.487+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:21:48.523+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:21:48.523+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:21:48.523+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:21:48.525+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8d6227e9-2, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:21:48.525+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:21:48.525+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:21:48.525+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:21:48.525+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8d6227e9, L:/192.168.0.18:2130 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:21:48.526+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [0a487f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] Last HTTP response frame
2025-08-10T11:21:48.526+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [0a487f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2131] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:21:48.526+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [0a487f1e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2131] Last HTTP packet was sent, terminating the channel
2025-08-10T11:21:48.526+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [0a487f1e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2131] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:22:46.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [9ba39736, L:/172.22.64.1:2080 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x9ba39736, L:/172.22.64.1:2080 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T11:22:46.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [cbdea117, L:/172.22.64.1:2078 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xcbdea117, L:/172.22.64.1:2078 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T11:22:47.070+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [0b6c234f, L:/172.22.64.1:2100 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x0b6c234f, L:/172.22.64.1:2100 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:22:47.070+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [b4495142, L:/172.22.64.1:2103 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xb4495142, L:/172.22.64.1:2103 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:22:47.070+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [37ab41e7, L:/172.22.64.1:2090 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x37ab41e7, L:/172.22.64.1:2090 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:22:48.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8d6227e9, L:/192.168.0.18:2130 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x8d6227e9, L:/192.168.0.18:2130 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:26:09.501+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [74f984d8, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] New http connection, requesting read
2025-08-10T11:26:09.501+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [74f984d8, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:09.503+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [74f984d8, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] Increasing pending responses count: 1
2025-08-10T11:26:09.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [74f984d8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:26:09.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:26:09.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:26:09.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [74f984d8-46] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:26:09.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:26:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [4eb6780c] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [4eb6780c] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConnector     : [4eb6780c] Connecting to [/172.22.64.1:58050].
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:26:09.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:26:09.510+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [74f984d8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:26:09.510+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:26:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:26:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:26:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [4eb6780c-1, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [4eb6780c, L:/172.22.64.1:4589 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [74f984d8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] Last HTTP response frame
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [74f984d8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4588] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [74f984d8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4588] Last HTTP packet was sent, terminating the channel
2025-08-10T11:26:09.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [74f984d8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4588] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:26:38.319+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b2943fd5, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] New http connection, requesting read
2025-08-10T11:26:38.319+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [b2943fd5, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:38.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b2943fd5, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] Increasing pending responses count: 1
2025-08-10T11:26:38.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [b2943fd5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:26:38.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:26:38.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:26:38.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [b2943fd5-47] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:26:38.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:26:38.322+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.322+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [62a27043] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:38.322+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [62a27043] Connecting to [/192.168.0.18:58012].
2025-08-10T11:26:38.322+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:26:38.322+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.323+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:26:38.323+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:26:38.323+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T11:26:38.323+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:26:38.323+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [b2943fd5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:26:38.323+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:26:38.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:26:38.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-1, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b2943fd5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] Last HTTP response frame
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b2943fd5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4870] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [b2943fd5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4870] Last HTTP packet was sent, terminating the channel
2025-08-10T11:26:38.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [b2943fd5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4870] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:26:38.445+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [34cac80a, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] New http connection, requesting read
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [34cac80a, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [34cac80a, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] Increasing pending responses count: 1
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [34cac80a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [34cac80a-48] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:26:38.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:26:38.447+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.447+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T11:26:38.447+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:26:38.447+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [34cac80a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:26:38.447+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:26:38.487+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:26:38.487+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-2, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [34cac80a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] Last HTTP response frame
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [34cac80a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4875] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [34cac80a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4875] Last HTTP packet was sent, terminating the channel
2025-08-10T11:26:38.488+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [34cac80a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4875] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:26:38.494+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dc76656d, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] New http connection, requesting read
2025-08-10T11:26:38.494+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [dc76656d, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:38.495+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dc76656d, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] Increasing pending responses count: 1
2025-08-10T11:26:38.495+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [dc76656d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:26:38.495+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:26:38.495+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:26:38.495+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [dc76656d-49] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:26:38.495+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:26:38.496+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.496+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T11:26:38.496+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:26:38.497+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [dc76656d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:26:38.497+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:26:38.563+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-3, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dc76656d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] Last HTTP response frame
2025-08-10T11:26:38.564+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dc76656d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4877] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:26:38.565+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dc76656d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4877] Last HTTP packet was sent, terminating the channel
2025-08-10T11:26:38.565+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [dc76656d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4877] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:26:52.350+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [91285a45, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] New http connection, requesting read
2025-08-10T11:26:52.350+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [91285a45, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:52.350+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [91285a45, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] Increasing pending responses count: 1
2025-08-10T11:26:52.350+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [91285a45-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:26:52.351+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:26:52.351+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:26:52.351+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [91285a45-50] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:26:52.351+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:26:52.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:52.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:26:52.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:26:52.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [91285a45-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:52.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:26:52.583+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:26:52.583+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:26:52.583+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:52.583+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-4, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [91285a45-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] Last HTTP response frame
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [91285a45-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4949] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [91285a45-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4949] Last HTTP packet was sent, terminating the channel
2025-08-10T11:26:52.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [91285a45-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4949] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:26:52.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [94031722, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] New http connection, requesting read
2025-08-10T11:26:52.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [94031722, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:26:52.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [94031722, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] Increasing pending responses count: 1
2025-08-10T11:26:52.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [94031722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:26:52.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:26:52.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:26:52.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [94031722-51] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:26:52.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:26:52.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:52.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:26:52.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:26:52.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [94031722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:26:52.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:26:52.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:26:52.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:26:52.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [62a27043-5, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [62a27043, L:/192.168.0.18:4871 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [94031722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] Last HTTP response frame
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [94031722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4953] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [94031722-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4953] Last HTTP packet was sent, terminating the channel
2025-08-10T11:26:52.641+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [94031722-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4953] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:27:09.977+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [4eb6780c, L:/172.22.64.1:4589 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x4eb6780c, L:/172.22.64.1:4589 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:27:52.984+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [62a27043, L:/192.168.0.18:4871 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x62a27043, L:/192.168.0.18:4871 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:28:00.754+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [50989373, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] New http connection, requesting read
2025-08-10T11:28:00.754+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [50989373, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:00.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [50989373, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Increasing pending responses count: 1
2025-08-10T11:28:00.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [50989373-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:00.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:28:00.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:00.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [50989373-52] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:00.756+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:00.758+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [dfd626bf] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:00.758+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [dfd626bf] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [dfd626bf] Connecting to [/172.22.64.1:58050].
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:28:00.759+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:28:00.760+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [50989373-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:28:00.760+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:28:00.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:00.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:28:00.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:00.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [dfd626bf-1, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:28:00.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:28:00.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:28:00.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:28:00.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:00.853+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [50989373-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Last HTTP response frame
2025-08-10T11:28:00.853+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [50989373-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:00.853+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [50989373-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5563] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:00.853+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [50989373-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5563] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:28:50.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e1e1c01, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] New http connection, requesting read
2025-08-10T11:28:50.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [4e1e1c01, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:50.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e1e1c01, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] Increasing pending responses count: 1
2025-08-10T11:28:50.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [4e1e1c01-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:50.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:28:50.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:50.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [4e1e1c01-53] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:50.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:50.511+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:50.511+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:28:50.511+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:28:50.512+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [4e1e1c01-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:28:50.513+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:28:50.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:50.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:28:50.766+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [dfd626bf-2, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [dfd626bf, L:/172.22.64.1:5564 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e1e1c01-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] Last HTTP response frame
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e1e1c01-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5955] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e1e1c01-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5955] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:50.767+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [4e1e1c01-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5955] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:28:51.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [0d3677ab, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] New http connection, requesting read
2025-08-10T11:28:51.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [0d3677ab, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:51.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [0d3677ab, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] Increasing pending responses count: 1
2025-08-10T11:28:51.937+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [0d3677ab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:51.938+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:28:51.938+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:51.938+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [0d3677ab-54] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:51.938+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:51.940+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:51.940+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [185bed4f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:51.941+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [185bed4f] Connecting to [/192.168.0.18:58070].
2025-08-10T11:28:51.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:28:51.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:51.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:28:51.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:28:51.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:28:51.942+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:28:51.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [0d3677ab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:51.943+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:28:52.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:52.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [185bed4f-1, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [0d3677ab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] Last HTTP response frame
2025-08-10T11:28:52.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [0d3677ab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5973] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:52.191+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [0d3677ab-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5973] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:52.191+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [0d3677ab-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5973] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:28:52.196+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [6ed4ec28, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] New http connection, requesting read
2025-08-10T11:28:52.196+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [6ed4ec28, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:52.196+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [6ed4ec28, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] Increasing pending responses count: 1
2025-08-10T11:28:52.196+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [6ed4ec28-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:52.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:28:52.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/0] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:52.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [6ed4ec28-55] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:52.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:52.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:52.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/0, method=GET}
2025-08-10T11:28:52.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:28:52.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [6ed4ec28-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:52.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [185bed4f-2, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:28:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [6ed4ec28-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] Last HTTP response frame
2025-08-10T11:28:52.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [6ed4ec28-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5975] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:52.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:52.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [6ed4ec28-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5975] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:52.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [6ed4ec28-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5975] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:28:52.298+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [43dbd121, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] New http connection, requesting read
2025-08-10T11:28:52.298+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [43dbd121, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:52.298+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [43dbd121, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] Increasing pending responses count: 1
2025-08-10T11:28:52.298+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [43dbd121-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:52.299+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:28:52.299+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:52.299+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [43dbd121-56] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:52.299+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:52.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:52.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:28:52.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:28:52.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [43dbd121-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:28:52.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:28:52.338+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:52.338+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [185bed4f-3, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [185bed4f, L:/192.168.0.18:5974 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [43dbd121-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] Last HTTP response frame
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [43dbd121-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5978] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [43dbd121-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5978] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:52.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [43dbd121-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5978] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:28:53.106+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3bf88cc3, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] New http connection, requesting read
2025-08-10T11:28:53.107+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [3bf88cc3, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:53.107+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3bf88cc3, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] Increasing pending responses count: 1
2025-08-10T11:28:53.107+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [3bf88cc3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:53.107+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:28:53.107+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:53.108+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [3bf88cc3-57] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:53.108+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [105ea179] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [105ea179] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConnector     : [105ea179] Connecting to [/192.168.0.18:58012].
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:28:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T11:28:53.111+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:28:53.111+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [3bf88cc3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:53.111+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:28:53.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [105ea179-1, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3bf88cc3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] Last HTTP response frame
2025-08-10T11:28:53.187+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3bf88cc3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5981] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:53.188+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3bf88cc3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5981] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:53.188+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [3bf88cc3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5981] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:28:53.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [2b08bf73, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] New http connection, requesting read
2025-08-10T11:28:53.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [2b08bf73, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:28:53.197+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [2b08bf73, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] Increasing pending responses count: 1
2025-08-10T11:28:53.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [2b08bf73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:28:53.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:28:53.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:28:53.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [2b08bf73-58] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:28:53.198+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:28:53.200+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:53.200+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T11:28:53.200+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:28:53.201+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [2b08bf73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:28:53.201+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:28:53.240+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:28:53.240+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:28:53.240+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:28:53.240+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [105ea179-2, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [105ea179, L:/192.168.0.18:5982 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [2b08bf73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] Last HTTP response frame
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [2b08bf73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5984] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [2b08bf73-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5984] Last HTTP packet was sent, terminating the channel
2025-08-10T11:28:53.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [2b08bf73-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5984] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:29:51.083+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [dfd626bf, L:/172.22.64.1:5564 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xdfd626bf, L:/172.22.64.1:5564 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:29:52.629+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [185bed4f, L:/192.168.0.18:5974 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x185bed4f, L:/192.168.0.18:5974 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:29:53.560+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [105ea179, L:/192.168.0.18:5982 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x105ea179, L:/192.168.0.18:5982 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:30:02.148+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [a9377f6b, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] New http connection, requesting read
2025-08-10T11:30:02.148+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [a9377f6b, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:02.149+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [a9377f6b, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] Increasing pending responses count: 1
2025-08-10T11:30:02.149+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [a9377f6b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:02.149+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:02.149+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:02.149+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [a9377f6b-59] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:02.150+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:02.152+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:02.152+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [a4fa4611] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:02.152+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [a4fa4611] Connecting to [/172.22.64.1:58050].
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [a9377f6b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:02.153+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:02.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:02.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:02.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-1, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [a9377f6b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] Last HTTP response frame
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [a9377f6b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6615] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [a9377f6b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6615] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:02.253+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [a9377f6b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6615] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:21.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07d08193, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] New http connection, requesting read
2025-08-10T11:30:21.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [07d08193, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:21.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07d08193, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] Increasing pending responses count: 1
2025-08-10T11:30:21.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [07d08193-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:21.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:30:21.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:21.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [07d08193-60] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:21.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:21.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.508+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [cd8a5797] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConnector     : [cd8a5797] Connecting to [/192.168.0.18:58012].
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T11:30:21.509+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:30:21.510+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [07d08193-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:21.510+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:30:21.593+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [cd8a5797-1, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07d08193-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] Last HTTP response frame
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07d08193-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6831] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07d08193-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6831] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:21.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [07d08193-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6831] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:21.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [b1021c9b, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] New http connection, requesting read
2025-08-10T11:30:21.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [b1021c9b, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:21.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [b1021c9b, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] Increasing pending responses count: 1
2025-08-10T11:30:21.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [b1021c9b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:21.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:30:21.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:21.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [b1021c9b-61] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:21.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:21.603+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.603+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T11:30:21.603+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:30:21.603+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [b1021c9b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:21.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [cd8a5797-2, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [b1021c9b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] Last HTTP response frame
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [b1021c9b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6834] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [b1021c9b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6834] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:21.692+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [b1021c9b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6834] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:21.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [da5fa510, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] New http connection, requesting read
2025-08-10T11:30:21.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [da5fa510, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:21.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [da5fa510, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] Increasing pending responses count: 1
2025-08-10T11:30:21.698+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [da5fa510-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:21.699+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T11:30:21.699+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:21.699+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [da5fa510-62] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:21.699+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:21.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T11:30:21.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T11:30:21.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [da5fa510-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:21.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T11:30:21.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:21.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [cd8a5797-3, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [cd8a5797, L:/192.168.0.18:6832 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [da5fa510-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] Last HTTP response frame
2025-08-10T11:30:21.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [da5fa510-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6836] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:21.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [da5fa510-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6836] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:21.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [da5fa510-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6836] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:28.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [011ed169, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] New http connection, requesting read
2025-08-10T11:30:28.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [011ed169, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:28.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [011ed169, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] Increasing pending responses count: 1
2025-08-10T11:30:28.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [011ed169-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:28.311+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:30:28.311+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:28.311+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [011ed169-63] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:28.311+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:28.313+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.313+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [005b5a3d] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:28.313+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [005b5a3d] Connecting to [/192.168.0.18:58070].
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:30:28.314+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [011ed169-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:28.315+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:30:28.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:28.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:30:28.388+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-1, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [011ed169-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] Last HTTP response frame
2025-08-10T11:30:28.389+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [011ed169-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6872] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:28.390+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [011ed169-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6872] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:28.390+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [011ed169-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6872] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9c66ac66, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] New http connection, requesting read
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [9c66ac66, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9c66ac66, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] Increasing pending responses count: 1
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [9c66ac66-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:28.399+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [9c66ac66-64] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:28.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:28.402+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.403+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T11:30:28.403+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:30:28.403+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [9c66ac66-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:28.403+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:30:28.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:28.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:30:28.441+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:28.441+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-2, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:30:28.441+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:30:28.441+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:30:28.441+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:30:28.441+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9c66ac66-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] Last HTTP response frame
2025-08-10T11:30:28.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9c66ac66-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6876] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:28.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9c66ac66-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6876] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:28.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [9c66ac66-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6876] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:28.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d675fc16, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] New http connection, requesting read
2025-08-10T11:30:28.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [d675fc16, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:28.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d675fc16, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] Increasing pending responses count: 1
2025-08-10T11:30:28.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [d675fc16-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:28.453+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:30:28.454+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:28.454+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [d675fc16-65] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:28.454+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:28.457+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.457+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:30:28.457+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:30:28.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [d675fc16-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:28.458+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:30:28.497+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:28.497+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:30:28.498+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:28.498+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-3, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:30:28.498+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:30:28.498+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:30:28.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:30:28.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:28.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d675fc16-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] Last HTTP response frame
2025-08-10T11:30:28.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d675fc16-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6881] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:28.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d675fc16-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6881] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:28.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [d675fc16-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6881] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:32.840+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cc225a31, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] New http connection, requesting read
2025-08-10T11:30:32.840+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [cc225a31, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:32.840+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cc225a31, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] Increasing pending responses count: 1
2025-08-10T11:30:32.840+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [cc225a31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:32.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:32.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:32.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [cc225a31-66] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:32.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:32.842+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:32.842+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T11:30:32.842+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:32.842+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [cc225a31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:32.843+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-2, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:32.993+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:32.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:32.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cc225a31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] Last HTTP response frame
2025-08-10T11:30:32.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cc225a31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6899] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:32.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cc225a31-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6899] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:32.994+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [cc225a31-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6899] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:32.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f29c7a37, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] New http connection, requesting read
2025-08-10T11:30:32.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [f29c7a37, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f29c7a37, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] Increasing pending responses count: 1
2025-08-10T11:30:33.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [f29c7a37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [f29c7a37-67] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T11:30:33.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [f29c7a37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.180+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.180+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.180+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-3, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f29c7a37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] Last HTTP response frame
2025-08-10T11:30:33.181+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f29c7a37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6901] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.182+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f29c7a37-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6901] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.182+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [f29c7a37-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6901] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.554+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [1acecd79, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] New http connection, requesting read
2025-08-10T11:30:33.554+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [1acecd79, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.554+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [1acecd79, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] Increasing pending responses count: 1
2025-08-10T11:30:33.554+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [1acecd79-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.555+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.555+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.555+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [1acecd79-68] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.555+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.558+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.558+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:30:33.558+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [1acecd79-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-4, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [1acecd79-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] Last HTTP response frame
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [1acecd79-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6926] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [1acecd79-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6926] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [1acecd79-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6926] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e74e4156, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] New http connection, requesting read
2025-08-10T11:30:33.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [e74e4156, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e74e4156, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] Increasing pending responses count: 1
2025-08-10T11:30:33.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [e74e4156-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [e74e4156-69] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:30:33.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [e74e4156-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.608+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.644+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.644+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.644+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-5, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e74e4156-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] Last HTTP response frame
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e74e4156-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6931] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.645+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e74e4156-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6931] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.646+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [e74e4156-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6931] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a57f1749, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] New http connection, requesting read
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [a57f1749, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a57f1749, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] Increasing pending responses count: 1
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [a57f1749-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [a57f1749-70] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.656+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.656+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:30:33.656+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [a57f1749-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-6, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a57f1749-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] Last HTTP response frame
2025-08-10T11:30:33.718+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a57f1749-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6934] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.719+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a57f1749-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6934] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.719+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [a57f1749-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6934] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [857edad3, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] New http connection, requesting read
2025-08-10T11:30:33.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [857edad3, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [857edad3, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] Increasing pending responses count: 1
2025-08-10T11:30:33.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [857edad3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.725+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.726+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [857edad3-71] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.726+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:30:33.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [857edad3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.727+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.814+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.814+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.814+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-7, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [857edad3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] Last HTTP response frame
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [857edad3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6936] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [857edad3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6936] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [857edad3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6936] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.824+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [20a8ff70, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] New http connection, requesting read
2025-08-10T11:30:33.824+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [20a8ff70, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [20a8ff70, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] Increasing pending responses count: 1
2025-08-10T11:30:33.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [20a8ff70-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [20a8ff70-72] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:30:33.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [20a8ff70-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.867+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-8, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [20a8ff70-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] Last HTTP response frame
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [20a8ff70-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6939] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [20a8ff70-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6939] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.868+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [20a8ff70-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6939] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2fc1ba07, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] New http connection, requesting read
2025-08-10T11:30:33.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [2fc1ba07, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:33.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2fc1ba07, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] Increasing pending responses count: 1
2025-08-10T11:30:33.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [2fc1ba07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:33.876+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:30:33.876+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:33.876+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [2fc1ba07-73] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:33.876+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:33.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:33.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:30:33.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:30:33.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [2fc1ba07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.878+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:30:33.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:33.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:30:33.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:33.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a4fa4611-9, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:30:33.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2fc1ba07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] Last HTTP response frame
2025-08-10T11:30:33.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2fc1ba07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6941] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:33.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2fc1ba07-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6941] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:33.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [2fc1ba07-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6941] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:33.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:30:33.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:30:33.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:30:33.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a4fa4611, L:/172.22.64.1:6616 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [44414d54, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] New http connection, requesting read
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [44414d54, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [44414d54, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] Increasing pending responses count: 1
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [44414d54-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:41.120+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [44414d54-74] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:41.121+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:41.121+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.121+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:30:41.121+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:30:41.121+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [44414d54-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:41.122+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:30:41.242+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:41.242+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:30:41.242+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-4, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [44414d54-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] Last HTTP response frame
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [44414d54-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6990] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [44414d54-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6990] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:41.243+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [44414d54-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6990] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:41.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5e3de0f0, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] New http connection, requesting read
2025-08-10T11:30:41.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [5e3de0f0, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:41.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5e3de0f0, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] Increasing pending responses count: 1
2025-08-10T11:30:41.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [5e3de0f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:41.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:30:41.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:41.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [5e3de0f0-75] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:41.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:41.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T11:30:41.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:30:41.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [5e3de0f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:41.252+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:30:41.290+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:41.290+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:30:41.290+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-5, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5e3de0f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] Last HTTP response frame
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5e3de0f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6994] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5e3de0f0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6994] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:41.291+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [5e3de0f0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6994] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [60ecff87, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] New http connection, requesting read
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [60ecff87, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [60ecff87, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] Increasing pending responses count: 1
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [60ecff87-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:30:41.300+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [60ecff87-76] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:30:41.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:30:41.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:30:41.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:30:41.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [60ecff87-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:30:41.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:30:41.362+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:30:41.362+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:30:41.362+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-6, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [60ecff87-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] Last HTTP response frame
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [60ecff87-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6996] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [60ecff87-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6996] Last HTTP packet was sent, terminating the channel
2025-08-10T11:30:41.364+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [60ecff87-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6996] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:31:22.119+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [cd8a5797, L:/192.168.0.18:6832 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0xcd8a5797, L:/192.168.0.18:6832 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T11:31:34.350+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a4fa4611, L:/172.22.64.1:6616 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xa4fa4611, L:/172.22.64.1:6616 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:31:35.845+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e56d4940, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] New http connection, requesting read
2025-08-10T11:31:35.846+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [e56d4940, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:31:35.846+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e56d4940, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] Increasing pending responses count: 1
2025-08-10T11:31:35.846+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [e56d4940-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:31:35.847+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:31:35.847+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:31:35.847+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [e56d4940-77] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:31:35.847+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:31:35.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:31:35.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:31:35.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:31:35.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [e56d4940-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:31:35.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:31:35.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:31:35.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-7, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e56d4940-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] Last HTTP response frame
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e56d4940-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7312] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e56d4940-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7312] Last HTTP packet was sent, terminating the channel
2025-08-10T11:31:35.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [e56d4940-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7312] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:31:35.926+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [4b9aaf32, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] New http connection, requesting read
2025-08-10T11:31:35.926+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [4b9aaf32, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:31:35.926+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [4b9aaf32, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] Increasing pending responses count: 1
2025-08-10T11:31:35.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [4b9aaf32-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:31:35.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:31:35.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/0] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:31:35.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [4b9aaf32-78] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:31:35.927+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:31:35.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:31:35.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/0, method=GET}
2025-08-10T11:31:35.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:31:35.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [4b9aaf32-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:31:35.928+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:31:35.965+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:31:35.965+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:31:35.965+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-8, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/0, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [4b9aaf32-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] Last HTTP response frame
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [4b9aaf32-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7314] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [4b9aaf32-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7314] Last HTTP packet was sent, terminating the channel
2025-08-10T11:31:35.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [4b9aaf32-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7314] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1e31b537, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] New http connection, requesting read
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [1e31b537, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1e31b537, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] Increasing pending responses count: 1
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [1e31b537-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:31:35.970+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [1e31b537-79] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:31:35.971+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:31:35.972+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:31:35.972+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:31:35.972+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:31:35.973+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [1e31b537-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:31:35.973+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:31:36.008+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:31:36.008+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:31:36.008+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [005b5a3d-9, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1e31b537-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] Last HTTP response frame
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1e31b537-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7316] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1e31b537-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7316] Last HTTP packet was sent, terminating the channel
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [1e31b537-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7316] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:31:36.009+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [005b5a3d, L:/192.168.0.18:6873 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:32:36.357+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [005b5a3d, L:/192.168.0.18:6873 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x005b5a3d, L:/192.168.0.18:6873 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:32:37.204+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [72164961, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] New http connection, requesting read
2025-08-10T11:32:37.204+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [72164961, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:32:37.204+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [72164961, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] Increasing pending responses count: 1
2025-08-10T11:32:37.205+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [72164961-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:32:37.205+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:32:37.206+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:32:37.206+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [72164961-80] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:32:37.206+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:32:37.208+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [e79dc993] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:32:37.208+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [e79dc993] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:32:37.208+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConnector     : [e79dc993] Connecting to [/192.168.0.18:58070].
2025-08-10T11:32:37.208+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:32:37.210+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:32:37.210+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:32:37.210+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:32:37.210+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:32:37.210+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:32:37.210+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [72164961-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:32:37.211+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:32:37.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:32:37.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:32:37.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [e79dc993-1, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [72164961-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] Last HTTP response frame
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [e79dc993, L:/192.168.0.18:7679 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [72164961-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7678] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [72164961-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7678] Last HTTP packet was sent, terminating the channel
2025-08-10T11:32:37.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [72164961-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7678] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:33:37.654+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e79dc993, L:/192.168.0.18:7679 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xe79dc993, L:/192.168.0.18:7679 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:35:45.211+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5d300619, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] New http connection, requesting read
2025-08-10T11:35:45.211+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [5d300619, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:35:45.211+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5d300619, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] Increasing pending responses count: 1
2025-08-10T11:35:45.211+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [5d300619-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:35:45.212+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:35:45.212+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:35:45.212+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [5d300619-81] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:35:45.212+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:35:45.214+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.214+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [ed35a954] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:35:45.214+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConnector     : [ed35a954] Connecting to [/192.168.0.18:58070].
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [5d300619-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:35:45.215+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:35:45.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:35:45.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:35:45.301+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-1, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5d300619-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] Last HTTP response frame
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5d300619-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9688] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5d300619-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:9688] Last HTTP packet was sent, terminating the channel
2025-08-10T11:35:45.302+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [5d300619-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:9688] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:35:45.307+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [499305e5, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] New http connection, requesting read
2025-08-10T11:35:45.307+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [499305e5, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:35:45.308+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [499305e5, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] Increasing pending responses count: 1
2025-08-10T11:35:45.308+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [499305e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:35:45.308+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:35:45.308+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:35:45.308+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [499305e5-82] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:35:45.308+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:35:45.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T11:35:45.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:35:45.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [499305e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:35:45.310+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:35:45.348+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:35:45.348+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-2, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [499305e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] Last HTTP response frame
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [499305e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9691] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [499305e5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:9691] Last HTTP packet was sent, terminating the channel
2025-08-10T11:35:45.349+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [499305e5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:9691] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:35:45.358+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54ff649a, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] New http connection, requesting read
2025-08-10T11:35:45.358+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [54ff649a, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:35:45.358+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54ff649a, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] Increasing pending responses count: 1
2025-08-10T11:35:45.358+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [54ff649a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:35:45.359+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:35:45.359+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:35:45.359+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [54ff649a-83] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:35:45.359+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:35:45.360+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.360+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:35:45.360+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:35:45.361+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [54ff649a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:35:45.361+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:35:45.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:35:45.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:35:45.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:35:45.400+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-3, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54ff649a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] Last HTTP response frame
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54ff649a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:9694] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:35:45.401+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54ff649a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:9694] Last HTTP packet was sent, terminating the channel
2025-08-10T11:35:45.402+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [54ff649a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:9694] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:41.184+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [be81a20f, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] New http connection, requesting read
2025-08-10T11:36:41.184+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [be81a20f, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [be81a20f, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] Increasing pending responses count: 1
2025-08-10T11:36:41.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [be81a20f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:41.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:36:41.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:41.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [be81a20f-84] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:41.186+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:41.188+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [1af184c0] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.188+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [1af184c0] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.188+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConnector     : [1af184c0] Connecting to [/172.22.64.1:58050].
2025-08-10T11:36:41.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:36:41.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:36:41.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:36:41.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:36:41.189+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:36:41.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [be81a20f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.190+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [1af184c0-1, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [be81a20f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] Last HTTP response frame
2025-08-10T11:36:41.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [be81a20f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10143] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:41.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [be81a20f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10143] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:41.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [be81a20f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10143] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:41.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [857a6924, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] New http connection, requesting read
2025-08-10T11:36:41.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [857a6924, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [857a6924, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] Increasing pending responses count: 1
2025-08-10T11:36:41.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [857a6924-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:41.586+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:36:41.586+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:41.586+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [857a6924-85] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:41.586+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:41.587+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.587+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:36:41.587+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:36:41.588+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [857a6924-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.588+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:36:41.656+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [98c841b4, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] New http connection, requesting read
2025-08-10T11:36:41.656+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [98c841b4, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [da63ee0f, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] New http connection, requesting read
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [da63ee0f, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [98c841b4, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] Increasing pending responses count: 1
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [da63ee0f, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] Increasing pending responses count: 1
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [98c841b4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [da63ee0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [da63ee0f-86] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:41.657+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [98c841b4-87] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:41.658+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:41.658+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:41.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a97f2b68] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 1 pending acquire requests.
2025-08-10T11:36:41.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [a97f2b68] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [6c8a6de0] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [a97f2b68] Connecting to [/172.22.64.1:58050].
2025-08-10T11:36:41.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [6c8a6de0] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:41.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConnector     : [6c8a6de0] Connecting to [/172.22.64.1:58050].
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [da63ee0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.661+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [98c841b4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.662+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:36:41.662+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [1af184c0-2, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:36:41.685+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:36:41.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [1af184c0, L:/172.22.64.1:10144 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [857a6924-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] Last HTTP response frame
2025-08-10T11:36:41.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [857a6924-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10158] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:41.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [857a6924-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10158] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:41.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [857a6924-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10158] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:41.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:41.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:36:41.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [a97f2b68-1, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [98c841b4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] Last HTTP response frame
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [98c841b4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10160] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [98c841b4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10160] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [98c841b4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10160] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:36:41.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [a97f2b68, L:/172.22.64.1:10162 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:41.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [6c8a6de0-1, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [da63ee0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] Last HTTP response frame
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [da63ee0f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10161] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [da63ee0f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10161] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [da63ee0f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10161] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:36:41.737+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:36:41.738+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:36:41.738+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [6c8a6de0, L:/172.22.64.1:10164 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.682+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [29b12c0b, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] New http connection, requesting read
2025-08-10T11:36:42.682+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [29b12c0b, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:42.682+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [29b12c0b, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] Increasing pending responses count: 1
2025-08-10T11:36:42.682+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [29b12c0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:42.684+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:36:42.684+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:42.684+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [29b12c0b-88] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:42.684+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:42.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:36:42.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:36:42.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [29b12c0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:42.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:36:42.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:42.786+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-4, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [29b12c0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] Last HTTP response frame
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [29b12c0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10184] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [29b12c0b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10184] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:42.787+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [29b12c0b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10184] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:42.801+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [25c5ace0, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] New http connection, requesting read
2025-08-10T11:36:42.802+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [25c5ace0, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:42.802+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [25c5ace0, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] Increasing pending responses count: 1
2025-08-10T11:36:42.802+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [25c5ace0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:42.802+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:36:42.802+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:42.802+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [25c5ace0-89] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:42.803+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:42.804+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.804+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T11:36:42.804+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:36:42.804+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [25c5ace0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:42.804+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:36:42.839+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:42.839+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:36:42.839+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-5, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [25c5ace0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] Last HTTP response frame
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [25c5ace0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10186] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [25c5ace0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10186] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:42.841+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [25c5ace0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10186] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:36:42.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [f9255de2, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] New http connection, requesting read
2025-08-10T11:36:42.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [f9255de2, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:36:42.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [f9255de2, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] Increasing pending responses count: 1
2025-08-10T11:36:42.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [f9255de2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:36:42.851+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:36:42.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:36:42.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [f9255de2-90] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:36:42.853+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:36:42.854+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.854+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:36:42.854+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:36:42.854+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [f9255de2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:36:42.854+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:36:42.901+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:36:42.901+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:36:42.901+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:36:42.901+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [ed35a954-6, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:36:42.901+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:36:42.901+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:36:42.902+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:36:42.902+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [ed35a954, L:/192.168.0.18:9689 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:36:42.902+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [f9255de2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] Last HTTP response frame
2025-08-10T11:36:42.902+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [f9255de2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:10194] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:36:42.902+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [f9255de2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10194] Last HTTP packet was sent, terminating the channel
2025-08-10T11:36:42.903+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [f9255de2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:10194] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:37:42.078+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [6c8a6de0, L:/172.22.64.1:10164 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6c8a6de0, L:/172.22.64.1:10164 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:37:42.078+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [a97f2b68, L:/172.22.64.1:10162 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xa97f2b68, L:/172.22.64.1:10162 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:37:42.078+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [1af184c0, L:/172.22.64.1:10144 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x1af184c0, L:/172.22.64.1:10144 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:37:43.238+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [ed35a954, L:/192.168.0.18:9689 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xed35a954, L:/192.168.0.18:9689 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:37:52.824+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9f0e7b88, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] New http connection, requesting read
2025-08-10T11:37:52.824+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [9f0e7b88, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:52.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9f0e7b88, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] Increasing pending responses count: 1
2025-08-10T11:37:52.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [9f0e7b88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:37:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:37:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:37:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [9f0e7b88-91] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:37:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:37:52.832+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [7cd4ad6e] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:52.832+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [7cd4ad6e] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:52.832+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [7cd4ad6e] Connecting to [/172.22.64.1:58080].
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [9f0e7b88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:37:52.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [d3210d78, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] New http connection, requesting read
2025-08-10T11:37:52.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [d3210d78, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:52.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [d3210d78, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] Increasing pending responses count: 1
2025-08-10T11:37:52.917+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [d3210d78-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:37:52.918+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:37:52.918+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:37:52.918+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [d3210d78-92] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:37:52.918+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:37:52.921+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [b2ddf895] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:52.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [b2ddf895] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:52.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [b2ddf895] Connecting to [/172.22.64.1:58080].
2025-08-10T11:37:52.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T11:37:52.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:52.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T11:37:52.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T11:37:52.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:37:52.923+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:37:52.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [d3210d78-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:52.924+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:37:52.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:37:52.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:37:52.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:52.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [7cd4ad6e-1, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [7cd4ad6e, L:/172.22.64.1:11108 - R:/172.22.64.1:58080] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9f0e7b88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] Last HTTP response frame
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9f0e7b88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11107] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9f0e7b88-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11107] Last HTTP packet was sent, terminating the channel
2025-08-10T11:37:52.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [9f0e7b88-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11107] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:37:53.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:37:53.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:37:53.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [b2ddf895-1, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:37:53.016+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [d3210d78-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] Last HTTP response frame
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [d3210d78-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11109] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [d3210d78-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11109] Last HTTP packet was sent, terminating the channel
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [d3210d78-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11109] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:37:53.018+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [b2ddf895, L:/172.22.64.1:11110 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.109+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [5d885979, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] New http connection, requesting read
2025-08-10T11:37:53.109+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [5d885979, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:53.109+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [5d885979, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] Increasing pending responses count: 1
2025-08-10T11:37:53.109+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [5d885979-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:37:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:37:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:37:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [5d885979-93] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:37:53.110+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:37:53.113+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.113+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [abe739a7] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:53.113+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [abe739a7] Connecting to [/192.168.0.18:58070].
2025-08-10T11:37:53.114+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:37:53.114+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.114+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:37:53.114+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:37:53.114+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:37:53.114+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:37:53.115+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [5d885979-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.115+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:37:53.248+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:37:53.248+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:37:53.248+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-1, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:37:53.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:37:53.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:37:53.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:37:53.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [5d885979-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] Last HTTP response frame
2025-08-10T11:37:53.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [5d885979-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11117] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:37:53.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [5d885979-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11117] Last HTTP packet was sent, terminating the channel
2025-08-10T11:37:53.251+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [5d885979-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11117] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:37:53.284+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [4e29c733, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] New http connection, requesting read
2025-08-10T11:37:53.284+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [4e29c733, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:53.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [4e29c733, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] Increasing pending responses count: 1
2025-08-10T11:37:53.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [4e29c733-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:37:53.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:37:53.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:37:53.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [4e29c733-94] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:37:53.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:37:53.287+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.287+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T11:37:53.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:37:53.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [4e29c733-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:37:53.324+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:37:53.325+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:37:53.325+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-2, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [4e29c733-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] Last HTTP response frame
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [4e29c733-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11122] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [4e29c733-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11122] Last HTTP packet was sent, terminating the channel
2025-08-10T11:37:53.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [4e29c733-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11122] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:37:53.369+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [a5b7736b, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] New http connection, requesting read
2025-08-10T11:37:53.369+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [a5b7736b, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:53.369+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [a5b7736b, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] Increasing pending responses count: 1
2025-08-10T11:37:53.369+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [a5b7736b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:37:53.370+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:37:53.370+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:37:53.370+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [a5b7736b-95] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:37:53.370+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:37:53.371+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.372+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:37:53.372+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:37:53.372+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [a5b7736b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.373+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:37:53.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:37:53.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:37:53.476+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-3, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [a5b7736b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] Last HTTP response frame
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [a5b7736b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11123] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [a5b7736b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11123] Last HTTP packet was sent, terminating the channel
2025-08-10T11:37:53.477+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [a5b7736b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11123] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54d97122, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] New http connection, requesting read
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [54d97122, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54d97122, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] Increasing pending responses count: 1
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [54d97122-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:37:59.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [54d97122-96] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:37:59.816+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:37:59.817+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:37:59.817+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, method=GET}
2025-08-10T11:37:59.817+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:37:59.817+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [54d97122-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:37:59.817+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:38:00.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:38:00.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:38:00.033+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-4, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54d97122-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] Last HTTP response frame
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54d97122-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11161] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [54d97122-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11161] Last HTTP packet was sent, terminating the channel
2025-08-10T11:38:00.034+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [54d97122-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11161] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:38:05.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a6c4b30a, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] New http connection, requesting read
2025-08-10T11:38:05.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [a6c4b30a, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:38:05.613+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a6c4b30a, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] Increasing pending responses count: 1
2025-08-10T11:38:05.613+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [a6c4b30a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:38:05.613+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:38:05.613+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:38:05.613+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [a6c4b30a-97] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:38:05.613+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:38:05.614+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:38:05.614+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, method=GET}
2025-08-10T11:38:05.614+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:38:05.614+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [a6c4b30a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:38:05.614+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [abe739a7-5, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:38:05.731+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [abe739a7, L:/192.168.0.18:11118 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:38:05.732+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a6c4b30a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] Last HTTP response frame
2025-08-10T11:38:05.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a6c4b30a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11204] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:38:05.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [a6c4b30a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11204] Last HTTP packet was sent, terminating the channel
2025-08-10T11:38:05.733+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [a6c4b30a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11204] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:38:53.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [7cd4ad6e, L:/172.22.64.1:11108 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x7cd4ad6e, L:/172.22.64.1:11108 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T11:38:53.352+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [b2ddf895, L:/172.22.64.1:11110 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xb2ddf895, L:/172.22.64.1:11110 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T11:39:06.084+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [abe739a7, L:/192.168.0.18:11118 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xabe739a7, L:/192.168.0.18:11118 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:41:46.234+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [56375e90, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] New http connection, requesting read
2025-08-10T11:41:46.234+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [56375e90, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.236+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [56375e90, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] Increasing pending responses count: 1
2025-08-10T11:41:46.236+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [56375e90-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:41:46.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:41:46.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:41:46.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [56375e90-98] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:41:46.239+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:41:46.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [21e28eac] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.246+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [21e28eac] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.247+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConnector     : [21e28eac] Connecting to [/172.22.64.1:58080].
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:41:46.249+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [56375e90-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.250+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:41:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:41:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:41:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [21e28eac-1, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:41:46.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:41:46.345+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:41:46.345+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:41:46.345+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.345+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [56375e90-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] Last HTTP response frame
2025-08-10T11:41:46.345+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [56375e90-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12871] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:41:46.346+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [56375e90-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12871] Last HTTP packet was sent, terminating the channel
2025-08-10T11:41:46.346+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [56375e90-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12871] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:41:46.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [34b36a39, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] New http connection, requesting read
2025-08-10T11:41:46.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [34b36a39, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.380+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [34b36a39, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] Increasing pending responses count: 1
2025-08-10T11:41:46.380+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [34b36a39-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:41:46.380+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T11:41:46.381+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:41:46.381+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [34b36a39-99] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:41:46.381+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:41:46.383+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.383+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T11:41:46.383+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T11:41:46.383+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [34b36a39-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.383+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T11:41:46.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:41:46.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T11:41:46.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [21e28eac-2, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T11:41:46.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [34b36a39-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] Last HTTP response frame
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [34b36a39-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12874] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [21e28eac, L:/172.22.64.1:12872 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [34b36a39-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12874] Last HTTP packet was sent, terminating the channel
2025-08-10T11:41:46.442+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [34b36a39-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12874] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:41:46.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1044c7dd, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] New http connection, requesting read
2025-08-10T11:41:46.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [1044c7dd, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1044c7dd, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] Increasing pending responses count: 1
2025-08-10T11:41:46.700+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [1044c7dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:41:46.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:41:46.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:41:46.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [1044c7dd-100] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:41:46.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:41:46.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [e5b35b1f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.704+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConnector     : [e5b35b1f] Connecting to [/192.168.0.18:58070].
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:41:46.705+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [1044c7dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.706+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:41:46.811+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:41:46.811+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-1, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1044c7dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] Last HTTP response frame
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1044c7dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12891] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:41:46.812+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [1044c7dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12891] Last HTTP packet was sent, terminating the channel
2025-08-10T11:41:46.813+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [1044c7dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12891] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:41:46.872+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [39477f83, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] New http connection, requesting read
2025-08-10T11:41:46.872+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [39477f83, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [39477f83, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] Increasing pending responses count: 1
2025-08-10T11:41:46.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [39477f83-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:41:46.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:41:46.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:41:46.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [39477f83-101] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:41:46.873+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:41:46.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T11:41:46.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:41:46.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [39477f83-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:41:46.912+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:41:46.912+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:41:46.912+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.913+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-2, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [39477f83-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] Last HTTP response frame
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [39477f83-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12897] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [39477f83-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12897] Last HTTP packet was sent, terminating the channel
2025-08-10T11:41:46.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [39477f83-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12897] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:41:46.951+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [9a142cae, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] New http connection, requesting read
2025-08-10T11:41:46.951+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [9a142cae, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:46.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [9a142cae, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] Increasing pending responses count: 1
2025-08-10T11:41:46.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [9a142cae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:41:46.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:41:46.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:41:46.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [9a142cae-102] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:41:46.952+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:41:46.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T11:41:46.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:41:46.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [9a142cae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.955+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:41:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:41:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:41:46.997+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:46.998+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-3, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:41:46.998+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [9a142cae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] Last HTTP response frame
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [9a142cae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12899] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [9a142cae-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12899] Last HTTP packet was sent, terminating the channel
2025-08-10T11:41:46.999+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [9a142cae-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12899] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:41:49.890+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [dc63cba3, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] New http connection, requesting read
2025-08-10T11:41:49.890+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [dc63cba3, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:41:49.890+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [dc63cba3, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] Increasing pending responses count: 1
2025-08-10T11:41:49.890+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [dc63cba3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:41:49.892+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:41:49.892+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:41:49.892+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [dc63cba3-103] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:41:49.892+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:41:49.894+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:49.894+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, method=GET}
2025-08-10T11:41:49.894+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:41:49.894+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [dc63cba3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:49.894+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [e5b35b1f-4, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [e5b35b1f, L:/192.168.0.18:12892 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [dc63cba3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] Last HTTP response frame
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [dc63cba3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12914] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [dc63cba3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12914] Last HTTP packet was sent, terminating the channel
2025-08-10T11:41:49.964+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [dc63cba3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12914] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:42:46.872+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [21e28eac, L:/172.22.64.1:12872 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x21e28eac, L:/172.22.64.1:12872 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T11:42:50.374+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [e5b35b1f, L:/192.168.0.18:12892 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xe5b35b1f, L:/192.168.0.18:12892 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c2e731f8, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] New http connection, requesting read
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [c2e731f8, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c2e731f8, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] Increasing pending responses count: 1
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [c2e731f8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [c2e731f8-104] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:44:53.025+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:44:53.028+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [5069e11f] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:44:53.028+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [5069e11f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:44:53.028+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [5069e11f] Connecting to [/192.168.0.18:58070].
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2, method=GET}
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:44:53.029+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [c2e731f8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:44:53.030+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [5069e11f-1, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/a7f1d9c4-3f5a-4400-a384-a576a51200e2, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:44:53.097+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c2e731f8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] Last HTTP response frame
2025-08-10T11:44:53.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c2e731f8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13994] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:44:53.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c2e731f8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13994] Last HTTP packet was sent, terminating the channel
2025-08-10T11:44:53.099+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [c2e731f8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13994] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:44:53.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [ee9a5698, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] New http connection, requesting read
2025-08-10T11:44:53.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [ee9a5698, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:44:53.849+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [ee9a5698, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] Increasing pending responses count: 1
2025-08-10T11:44:53.850+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [ee9a5698-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:44:53.850+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:44:53.850+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:44:53.850+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [ee9a5698-105] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:44:53.850+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:44:53.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:44:53.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc, method=GET}
2025-08-10T11:44:53.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:44:53.852+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [ee9a5698-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:44:53.853+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:44:54.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:44:54.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:44:54.000+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [5069e11f-2, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/13319761-ec0c-44ff-8276-fa93aeb7a1cc, connection=PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [ee9a5698-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] Last HTTP response frame
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [5069e11f, L:/192.168.0.18:13995 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [ee9a5698-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13999] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [ee9a5698-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13999] Last HTTP packet was sent, terminating the channel
2025-08-10T11:44:54.001+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [ee9a5698-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13999] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:45:54.404+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [5069e11f, L:/192.168.0.18:13995 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x5069e11f, L:/192.168.0.18:13995 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:46:08.319+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [391c3952, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] New http connection, requesting read
2025-08-10T11:46:08.319+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [391c3952, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:08.319+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [391c3952, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] Increasing pending responses count: 1
2025-08-10T11:46:08.319+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [391c3952-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:08.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:46:08.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:08.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [391c3952-106] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:08.320+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [449d7cdb] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [449d7cdb] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConnector     : [449d7cdb] Connecting to [/192.168.0.18:58070].
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, method=GET}
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [391c3952-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:08.321+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:46:08.407+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [449d7cdb-1, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/871b68bd-971c-4cbf-9003-34084f44ce07, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [391c3952-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] Last HTTP response frame
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [391c3952-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14447] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [391c3952-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14447] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:08.408+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [391c3952-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14447] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [800d61d6, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] New http connection, requesting read
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [800d61d6, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [800d61d6, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] Increasing pending responses count: 1
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [800d61d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [800d61d6-107] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, method=GET}
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T11:46:17.270+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [800d61d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:17.273+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T11:46:17.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:17.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [449d7cdb-2, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [449d7cdb, L:/192.168.0.18:14448 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [800d61d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] Last HTTP response frame
2025-08-10T11:46:17.343+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [800d61d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14502] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:17.344+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [800d61d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14502] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:17.344+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [800d61d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14502] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:34.126+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [97c39cd6, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] New http connection, requesting read
2025-08-10T11:46:34.126+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [97c39cd6, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:34.127+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [97c39cd6, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Increasing pending responses count: 1
2025-08-10T11:46:34.127+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [97c39cd6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:34.128+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:34.128+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:34.128+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [97c39cd6-108] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:34.128+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [422dc876] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConnector     : [422dc876] Connecting to [/172.22.64.1:58050].
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:34.130+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [97c39cd6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.131+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:34.337+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-1, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [97c39cd6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Last HTTP response frame
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [97c39cd6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14574] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [97c39cd6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14574] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:34.342+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [97c39cd6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14574] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [68fd2e40, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] New http connection, requesting read
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [68fd2e40, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [68fd2e40, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Increasing pending responses count: 1
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [68fd2e40-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [68fd2e40-109] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [68fd2e40-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.347+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-2, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [68fd2e40-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Last HTTP response frame
2025-08-10T11:46:34.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [68fd2e40-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14576] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:34.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [68fd2e40-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14576] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:34.615+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [68fd2e40-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14576] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:34.878+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4f164722, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] New http connection, requesting read
2025-08-10T11:46:34.878+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [4f164722, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:34.879+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4f164722, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] Increasing pending responses count: 1
2025-08-10T11:46:34.879+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [4f164722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:34.880+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:34.880+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:34.880+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [4f164722-110] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:34.880+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:34.881+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.882+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:34.882+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:34.882+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [4f164722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.882+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-3, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4f164722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] Last HTTP response frame
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4f164722-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14592] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4f164722-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14592] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:34.915+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [4f164722-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14592] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [e8c42bb6, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] New http connection, requesting read
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [e8c42bb6, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [e8c42bb6, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] Increasing pending responses count: 1
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [e8c42bb6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [e8c42bb6-111] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [e8c42bb6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.922+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:34.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:34.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:34.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.960+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-4, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [e8c42bb6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] Last HTTP response frame
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [e8c42bb6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14602] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [e8c42bb6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14602] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:34.961+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [e8c42bb6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14602] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:34.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [c34e2ccd, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] New http connection, requesting read
2025-08-10T11:46:34.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [c34e2ccd, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:34.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [c34e2ccd, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] Increasing pending responses count: 1
2025-08-10T11:46:34.966+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [c34e2ccd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:34.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:34.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:34.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [c34e2ccd-112] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:34.967+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:34.968+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:34.968+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:34.968+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:34.969+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [c34e2ccd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:34.969+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-5, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [c34e2ccd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] Last HTTP response frame
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [c34e2ccd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14604] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [c34e2ccd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14604] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [c34e2ccd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14604] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dfa8e5f3, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] New http connection, requesting read
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [dfa8e5f3, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dfa8e5f3, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] Increasing pending responses count: 1
2025-08-10T11:46:35.002+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [dfa8e5f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:35.010+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:35.010+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:35.010+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [dfa8e5f3-113] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:35.010+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:35.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:35.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:35.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [dfa8e5f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.011+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-6, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dfa8e5f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] Last HTTP response frame
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dfa8e5f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14606] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [dfa8e5f3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14606] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:35.044+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [dfa8e5f3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14606] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:35.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [611b97de, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] New http connection, requesting read
2025-08-10T11:46:35.052+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [611b97de, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [611b97de, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] Increasing pending responses count: 1
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [611b97de-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [611b97de-114] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [611b97de-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.055+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:35.094+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:35.094+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:35.094+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-7, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [611b97de-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] Last HTTP response frame
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [611b97de-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14608] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [611b97de-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14608] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [611b97de-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14608] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [1716947e, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] New http connection, requesting read
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [1716947e, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [1716947e, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] Increasing pending responses count: 1
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [1716947e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [1716947e-115] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:35.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:35.102+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.102+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:35.102+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:35.102+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [1716947e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.102+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:35.139+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-8, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [1716947e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] Last HTTP response frame
2025-08-10T11:46:35.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [1716947e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14610] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:35.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [1716947e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14610] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:35.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [1716947e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14610] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [ca6f4ea9, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] New http connection, requesting read
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [ca6f4ea9, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [ca6f4ea9, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] Increasing pending responses count: 1
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [ca6f4ea9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [ca6f4ea9-116] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:38.090+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:38.094+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.094+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T11:46:38.094+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:38.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [ca6f4ea9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.095+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-9, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [ca6f4ea9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] Last HTTP response frame
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [ca6f4ea9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14641] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [ca6f4ea9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14641] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:38.452+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [ca6f4ea9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14641] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:38.686+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [b8b6611d, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] New http connection, requesting read
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [b8b6611d, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [b8b6611d, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] Increasing pending responses count: 1
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [b8b6611d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [b8b6611d-117] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [c33f54b5, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] New http connection, requesting read
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [c33f54b5, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [8b8416fe, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] New http connection, requesting read
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [8b8416fe, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [c33f54b5, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] Increasing pending responses count: 1
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [8b8416fe, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] Increasing pending responses count: 1
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [c33f54b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [8b8416fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [c33f54b5-118] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [8b8416fe-119] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [b8b6611d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:38.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c8d6ab6b] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 1 pending acquire requests.
2025-08-10T11:46:38.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [c8d6ab6b] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:38.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [c8d6ab6b] Connecting to [/172.22.64.1:58050].
2025-08-10T11:46:38.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [207604ca] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [207604ca] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T11:46:38.693+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConnector     : [207604ca] Connecting to [/172.22.64.1:58050].
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [c33f54b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [8b8416fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:38.694+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [422dc876-10, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [422dc876, L:/172.22.64.1:14575 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [b8b6611d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] Last HTTP response frame
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [b8b6611d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14644] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [b8b6611d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14644] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:38.736+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [b8b6611d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14644] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [c8d6ab6b-1, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [c33f54b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] Last HTTP response frame
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [c33f54b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14646] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [c33f54b5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14646] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [c33f54b5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14646] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:38.785+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c8d6ab6b, L:/172.22.64.1:14648 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T11:46:38.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T11:46:38.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T11:46:38.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [207604ca-1, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [8b8416fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] Last HTTP response frame
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [8b8416fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14647] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [8b8416fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14647] Last HTTP packet was sent, terminating the channel
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [8b8416fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14647] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T11:46:38.835+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [207604ca, L:/172.22.64.1:14649 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T11:47:17.655+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [449d7cdb, L:/192.168.0.18:14448 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x449d7cdb, L:/192.168.0.18:14448 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T11:47:39.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [422dc876, L:/172.22.64.1:14575 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x422dc876, L:/172.22.64.1:14575 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:47:39.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c8d6ab6b, L:/172.22.64.1:14648 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc8d6ab6b, L:/172.22.64.1:14648 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T11:47:39.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [207604ca, L:/172.22.64.1:14649 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x207604ca, L:/172.22.64.1:14649 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:05:52.280+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [38a4aaa9, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] New http connection, requesting read
2025-08-10T12:05:52.281+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [38a4aaa9, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.281+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [38a4aaa9, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] Increasing pending responses count: 1
2025-08-10T12:05:52.281+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [38a4aaa9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:05:52.281+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:05:52.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:05:52.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [38a4aaa9-120] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:05:52.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:05:52.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [06c9dd47] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [06c9dd47] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConnector     : [06c9dd47] Connecting to [/172.22.64.1:58080].
2025-08-10T12:05:52.287+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:05:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:05:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:05:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:05:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:05:52.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [38a4aaa9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.289+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:05:52.490+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:05:52.491+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:05:52.491+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.491+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [06c9dd47-1, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:05:52.491+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [38a4aaa9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] Last HTTP response frame
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [38a4aaa9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7351] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [38a4aaa9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7351] Last HTTP packet was sent, terminating the channel
2025-08-10T12:05:52.492+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [38a4aaa9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7351] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:05:52.497+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [50bcde21, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] New http connection, requesting read
2025-08-10T12:05:52.497+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [50bcde21, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [50bcde21, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] Increasing pending responses count: 1
2025-08-10T12:05:52.499+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [50bcde21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:05:52.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:05:52.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:05:52.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [50bcde21-121] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:05:52.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:05:52.503+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:05:52.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:05:52.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [50bcde21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:05:52.533+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [357e95a9, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] New http connection, requesting read
2025-08-10T12:05:52.533+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [357e95a9, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.534+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [357e95a9, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] Increasing pending responses count: 1
2025-08-10T12:05:52.535+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [357e95a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:05:52.535+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:05:52.535+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:05:52.536+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [357e95a9-122] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:05:52.536+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:05:52.539+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.540+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [b11778b7] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.540+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConnector     : [b11778b7] Connecting to [/172.22.64.1:58050].
2025-08-10T12:05:52.541+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:05:52.541+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.541+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:05:52.542+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:05:52.542+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:05:52.542+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:05:52.542+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [357e95a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.543+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:05:52.549+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:05:52.550+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:05:52.550+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.550+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [06c9dd47-2, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [06c9dd47, L:/172.22.64.1:7352 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [50bcde21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] Last HTTP response frame
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [50bcde21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7355] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [50bcde21-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7355] Last HTTP packet was sent, terminating the channel
2025-08-10T12:05:52.551+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [50bcde21-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7355] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:05:52.689+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:05:52.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:05:52.690+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-1, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [357e95a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] Last HTTP response frame
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [357e95a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7358] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [357e95a9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7358] Last HTTP packet was sent, terminating the channel
2025-08-10T12:05:52.691+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [357e95a9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7358] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:05:52.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [44f737fd, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] New http connection, requesting read
2025-08-10T12:05:52.815+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [44f737fd, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.819+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [c7b205bb, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] New http connection, requesting read
2025-08-10T12:05:52.819+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [c7b205bb, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.821+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [552bcbb0, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] New http connection, requesting read
2025-08-10T12:05:52.821+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [552bcbb0, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.824+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [44f737fd, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] Increasing pending responses count: 1
2025-08-10T12:05:52.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [c7b205bb, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] Increasing pending responses count: 1
2025-08-10T12:05:52.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [44f737fd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:05:52.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [c7b205bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:05:52.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:05:52.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:05:52.825+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:05:52.826+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:05:52.826+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [44f737fd-123] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:05:52.826+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [c7b205bb-124] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:05:52.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:05:52.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:05:52.827+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [552bcbb0, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] Increasing pending responses count: 1
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [552bcbb0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [552bcbb0-125] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:05:52.828+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [c7b205bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [5b92a092] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:05:52.829+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConnector     : [5b92a092] Connecting to [/172.22.64.1:58050].
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2] Created a new pooled channel, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [3e2e41f2] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [3e2e41f2] Connecting to [/172.22.64.1:58050].
2025-08-10T12:05:52.830+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [44f737fd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.831+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:05:52.831+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:05:52.831+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.831+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:05:52.831+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:05:52.832+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:05:52.832+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:05:52.832+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [552bcbb0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.833+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:05:52.875+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:05:52.876+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:05:52.876+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-2, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [c7b205bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] Last HTTP response frame
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [c7b205bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7365] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [c7b205bb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7365] Last HTTP packet was sent, terminating the channel
2025-08-10T12:05:52.877+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [c7b205bb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7365] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:05:52.905+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:05:52.905+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:05:52.906+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.906+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-1, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:05:52.906+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [552bcbb0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] Last HTTP response frame
2025-08-10T12:05:52.906+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [552bcbb0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7366] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:05:52.907+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [552bcbb0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7366] Last HTTP packet was sent, terminating the channel
2025-08-10T12:05:52.907+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [552bcbb0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7366] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:05:52.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:05:52.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:05:52.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:05:52.908+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:05:52.912+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:05:52.912+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:05:52.912+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:05:52.913+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-1, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:05:52.913+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [44f737fd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] Last HTTP response frame
2025-08-10T12:05:52.913+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [44f737fd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7363] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:05:52.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [44f737fd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7363] Last HTTP packet was sent, terminating the channel
2025-08-10T12:05:52.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [44f737fd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7363] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:05:52.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:05:52.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:05:52.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:05:52.914+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ea940a26, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] New http connection, requesting read
2025-08-10T12:06:09.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [ea940a26, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ea940a26, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] Increasing pending responses count: 1
2025-08-10T12:06:09.285+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [ea940a26-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [ea940a26-126] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.286+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:06:09.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [ea940a26-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.288+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.337+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [7566deff, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] New http connection, requesting read
2025-08-10T12:06:09.337+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [7566deff, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.338+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [7566deff, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] Increasing pending responses count: 1
2025-08-10T12:06:09.338+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [7566deff-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [7566deff-127] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.339+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.340+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.341+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:06:09.341+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.341+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [7566deff-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.341+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.375+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.375+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-3, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ea940a26-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] Last HTTP response frame
2025-08-10T12:06:09.376+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ea940a26-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7540] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.377+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ea940a26-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7540] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.377+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [ea940a26-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7540] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.430+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4967ac1f, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] New http connection, requesting read
2025-08-10T12:06:09.430+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [4967ac1f, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.431+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4967ac1f, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] Increasing pending responses count: 1
2025-08-10T12:06:09.431+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [4967ac1f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.432+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.432+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.432+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [4967ac1f-128] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.432+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [8d002c34, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] New http connection, requesting read
2025-08-10T12:06:09.432+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [8d002c34, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.432+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [24187ff0, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] New http connection, requesting read
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [8d002c34, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] Increasing pending responses count: 1
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [24187ff0, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [8d002c34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.433+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [24187ff0, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] Increasing pending responses count: 1
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [24187ff0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [4967ac1f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [8d002c34-129] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [24187ff0-130] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.434+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db] Created a new pooled channel, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [5ee775db] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConnector     : [5ee775db] Connecting to [/172.22.64.1:58050].
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [8d002c34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.437+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel connected, now: 4 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.http.client.HttpClientConnect    : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.439+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [24187ff0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.440+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.473+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.473+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.474+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.474+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-4, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 3 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [8d002c34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] Last HTTP response frame
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [8d002c34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7549] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [8d002c34-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7549] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.475+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [8d002c34-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7549] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.503+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.503+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.505+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-1, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [24187ff0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] Last HTTP response frame
2025-08-10T12:06:09.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [24187ff0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7550] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [24187ff0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7550] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [24187ff0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7550] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.518+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.518+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.518+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.518+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-2, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4967ac1f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] Last HTTP response frame
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4967ac1f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7546] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4967ac1f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7546] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.519+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [4967ac1f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7546] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.552+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 4 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.553+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [7566deff-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] Last HTTP response frame
2025-08-10T12:06:09.553+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [7566deff-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7543] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.553+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [7566deff-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7543] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.553+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [7566deff-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7543] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.565+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bdcac444, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] New http connection, requesting read
2025-08-10T12:06:09.565+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [bdcac444, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.566+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [58cf584e, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] New http connection, requesting read
2025-08-10T12:06:09.566+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [58cf584e, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.567+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [555e4250, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] New http connection, requesting read
2025-08-10T12:06:09.567+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [555e4250, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:09.567+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bdcac444, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] Increasing pending responses count: 1
2025-08-10T12:06:09.567+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [bdcac444-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.567+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [58cf584e, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] Increasing pending responses count: 1
2025-08-10T12:06:09.567+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [58cf584e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.568+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [555e4250, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] Increasing pending responses count: 1
2025-08-10T12:06:09.568+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [555e4250-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [58cf584e-132] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [555e4250-133] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [bdcac444-131] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.569+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 1 inactive connections and 1 pending acquire requests.
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 2 inactive connections and 1 pending acquire requests.
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.http.client.HttpClientConnect    : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.570+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:09.571+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [58cf584e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.571+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [bdcac444-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.571+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [555e4250-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.571+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.571+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.571+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-3, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-5, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.605+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [58cf584e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] Last HTTP response frame
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bdcac444-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] Last HTTP response frame
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [58cf584e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7556] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bdcac444-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7555] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bdcac444-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7555] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [58cf584e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7556] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [bdcac444-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7555] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.606+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [58cf584e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7556] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:09.611+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-2, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 4 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [555e4250-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] Last HTTP response frame
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [555e4250-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7557] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [555e4250-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7557] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:09.612+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [555e4250-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7557] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.384+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cce51715, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] New http connection, requesting read
2025-08-10T12:06:47.384+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [cce51715, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.384+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cce51715, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] Increasing pending responses count: 1
2025-08-10T12:06:47.384+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [cce51715-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [cce51715-134] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.385+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.386+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.387+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:06:47.387+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.387+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [cce51715-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.387+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.445+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [19d0b0d1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] New http connection, requesting read
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [19d0b0d1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [19d0b0d1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] Increasing pending responses count: 1
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [19d0b0d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [19d0b0d1-135] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.446+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.448+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.448+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:06:47.448+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.449+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [19d0b0d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.449+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.505+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.505+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.505+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-3, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cce51715-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] Last HTTP response frame
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cce51715-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8070] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.506+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [cce51715-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8070] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.507+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [cce51715-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8070] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.558+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-6, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.559+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 4 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.560+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [19d0b0d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] Last HTTP response frame
2025-08-10T12:06:47.560+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [19d0b0d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8073] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.560+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [19d0b0d1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8073] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.560+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [19d0b0d1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8073] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f2cea1a5, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] New http connection, requesting read
2025-08-10T12:06:47.584+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [f2cea1a5, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f2cea1a5, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] Increasing pending responses count: 1
2025-08-10T12:06:47.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [f2cea1a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.585+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.586+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [f2cea1a5-136] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.586+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.587+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.587+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:47.587+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.588+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [f2cea1a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.588+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.588+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c8a67262, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] New http connection, requesting read
2025-08-10T12:06:47.588+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [c8a67262, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.589+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c8a67262, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] Increasing pending responses count: 1
2025-08-10T12:06:47.589+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [c8a67262-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.590+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.590+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.590+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [c8a67262-137] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.590+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [23866bb3, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] New http connection, requesting read
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [23866bb3, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel acquired, now: 2 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.http.client.HttpClientConnect    : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [23866bb3, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] Increasing pending responses count: 1
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [23866bb3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.591+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [c8a67262-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [23866bb3-138] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [95c1488a, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] New http connection, requesting read
2025-08-10T12:06:47.592+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [95c1488a, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:47.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [23866bb3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e2ab482f, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] New http connection, requesting read
2025-08-10T12:06:47.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [e2ab482f, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.595+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [95c1488a, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] Increasing pending responses count: 1
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [95c1488a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e2ab482f, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] Increasing pending responses count: 1
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [e2ab482f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [95c1488a-139] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.596+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.597+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.597+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [e2ab482f-140] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.597+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 4 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [c28ab7e2] Created a new pooled channel, now: 4 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [c28ab7e2] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConnector     : [c28ab7e2] Connecting to [/172.22.64.1:58050].
2025-08-10T12:06:47.598+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [95c1488a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.599+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.599+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [161fe4dd, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] New http connection, requesting read
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Channel connected, now: 5 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.599+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [161fe4dd, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [e2ab482f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [161fe4dd, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] Increasing pending responses count: 1
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [161fe4dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.600+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:06:47.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:06:47.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [161fe4dd-141] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:06:47.601+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:06:47.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [863324aa] Created a new pooled channel, now: 5 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [863324aa] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:06:47.602+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [863324aa] Connecting to [/172.22.64.1:58050].
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Channel connected, now: 6 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [161fe4dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.604+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:06:47.623+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.623+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.623+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.623+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-3, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.623+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel cleaned, now: 5 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c8a67262-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] Last HTTP response frame
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c8a67262-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8078] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [c8a67262-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8078] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.625+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [c8a67262-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8078] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.640+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 4 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.642+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [95c1488a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] Last HTTP response frame
2025-08-10T12:06:47.643+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [95c1488a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8084] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.643+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [95c1488a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8084] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.643+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [95c1488a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8084] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.658+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.658+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-4, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel cleaned, now: 3 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f2cea1a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] Last HTTP response frame
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f2cea1a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8076] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.659+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-4, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f2cea1a5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8076] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [f2cea1a5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8076] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 4 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [23866bb3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] Last HTTP response frame
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [23866bb3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8082] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [863324aa-1, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [161fe4dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] Last HTTP response frame
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [161fe4dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8086] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [23866bb3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8082] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [161fe4dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8086] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [23866bb3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8082] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [161fe4dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8086] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.660+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [863324aa, L:/172.22.64.1:8088 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 5 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:47.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:06:47.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:06:47.701+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:06:47.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [c28ab7e2-1, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:06:47.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e2ab482f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] Last HTTP response frame
2025-08-10T12:06:47.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e2ab482f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8085] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:06:47.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e2ab482f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8085] Last HTTP packet was sent, terminating the channel
2025-08-10T12:06:47.702+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [e2ab482f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8085] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:06:47.703+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:06:47.703+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:06:47.703+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:06:47.703+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [c28ab7e2, L:/172.22.64.1:8087 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 6 inactive connections and 0 pending acquire requests.
2025-08-10T12:06:52.916+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [06c9dd47, L:/172.22.64.1:7352 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x06c9dd47, L:/172.22.64.1:7352 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:07:23.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b4fdf9ed, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] New http connection, requesting read
2025-08-10T12:07:23.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [b4fdf9ed, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b4fdf9ed, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] Increasing pending responses count: 1
2025-08-10T12:07:23.137+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [b4fdf9ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:07:23.138+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:07:23.138+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:07:23.138+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [b4fdf9ed-142] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:07:23.138+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:07:23.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [83016629] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [83016629] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.140+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConnector     : [83016629] Connecting to [/172.22.64.1:58080].
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:07:23.141+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [b4fdf9ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.142+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:07:23.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:07:23.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:07:23.216+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [83016629-1, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b4fdf9ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] Last HTTP response frame
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b4fdf9ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8456] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [b4fdf9ed-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8456] Last HTTP packet was sent, terminating the channel
2025-08-10T12:07:23.217+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [b4fdf9ed-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8456] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:07:23.222+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [7086d13b, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] New http connection, requesting read
2025-08-10T12:07:23.222+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [7086d13b, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.224+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [4caa054b, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] New http connection, requesting read
2025-08-10T12:07:23.225+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [4caa054b, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.235+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [7086d13b, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] Increasing pending responses count: 1
2025-08-10T12:07:23.235+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [7086d13b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:07:23.235+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:07:23.235+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:07:23.235+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [7086d13b-143] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:07:23.235+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:07:23.236+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [4caa054b, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] Increasing pending responses count: 1
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [4caa054b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [7086d13b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.237+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [4caa054b-144] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:07:23.238+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:07:23.238+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:07:23.240+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 5 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.http.client.HttpClientConnect    : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:07:23.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:07:23.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [4caa054b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.241+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:07:23.281+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:07:23.281+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [83016629-2, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [83016629, L:/172.22.64.1:8457 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [7086d13b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] Last HTTP response frame
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [7086d13b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8460] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:07:23.282+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [7086d13b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8460] Last HTTP packet was sent, terminating the channel
2025-08-10T12:07:23.283+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [7086d13b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8460] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:07:23.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:07:23.326+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.client.HttpClientOperations     : [5ee775db-4, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.resources.PooledConnectionProvider   : [5ee775db, L:/172.22.64.1:7551 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 6 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [4caa054b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] Last HTTP response frame
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [4caa054b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8461] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [4caa054b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8461] Last HTTP packet was sent, terminating the channel
2025-08-10T12:07:23.327+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [4caa054b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8461] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:07:23.409+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [247e7827, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] New http connection, requesting read
2025-08-10T12:07:23.409+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [247e7827, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.410+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [05628835, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] New http connection, requesting read
2025-08-10T12:07:23.410+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [05628835, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.412+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [46275324, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] New http connection, requesting read
2025-08-10T12:07:23.412+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [247e7827, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] Increasing pending responses count: 1
2025-08-10T12:07:23.412+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [46275324, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:07:23.412+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [247e7827-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:07:23.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:07:23.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:07:23.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [247e7827-145] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:07:23.413+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:07:23.414+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [05628835, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] Increasing pending responses count: 1
2025-08-10T12:07:23.414+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [05628835-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:07:23.414+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [46275324, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] Increasing pending responses count: 1
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [46275324-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6584f34f
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [46275324-147] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [05628835-146] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@74a39e9f
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 5 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@3c18942}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@44dfdd58}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@2cccf134}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@234cd86c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@743c3520}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@755b5f30}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29bbc63c}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2c48cede}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@272778ae}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@6842c101}, order = 2147483647]]
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:07:23.415+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [247e7827-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [46275324-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [05628835-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:07:23.416+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:07:23.455+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:07:23.455+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:07:23.455+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.456+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [5b92a092-5, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:07:23.456+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:07:23.456+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:07:23.456+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:07:23.456+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [5b92a092, L:/172.22.64.1:7369 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 4 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.456+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [05628835-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] Last HTTP response frame
2025-08-10T12:07:23.457+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [05628835-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8464] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:07:23.457+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [05628835-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8464] Last HTTP packet was sent, terminating the channel
2025-08-10T12:07:23.457+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [05628835-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8464] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [3e2e41f2-5, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [3e2e41f2, L:/172.22.64.1:7370 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 5 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [46275324-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] Last HTTP response frame
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [46275324-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8465] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [46275324-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8465] Last HTTP packet was sent, terminating the channel
2025-08-10T12:07:23.500+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [46275324-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8465] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [b11778b7-8, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [b11778b7, L:/172.22.64.1:7359 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 6 inactive connections and 0 pending acquire requests.
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [247e7827-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] Last HTTP response frame
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [247e7827-1, L:/127.0.0.1:57070 - R:/127.0.0.1:8463] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [247e7827-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8463] Last HTTP packet was sent, terminating the channel
2025-08-10T12:07:23.504+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [247e7827-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:8463] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:07:48.638+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [863324aa, L:/172.22.64.1:8088 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x863324aa, L:/172.22.64.1:8088 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:07:48.638+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [c28ab7e2, L:/172.22.64.1:8087 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc28ab7e2, L:/172.22.64.1:8087 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:08:23.594+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [83016629, L:/172.22.64.1:8457 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x83016629, L:/172.22.64.1:8457 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:08:23.838+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [5b92a092, L:/172.22.64.1:7369 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x5b92a092, L:/172.22.64.1:7369 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:08:23.838+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [3e2e41f2, L:/172.22.64.1:7370 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x3e2e41f2, L:/172.22.64.1:7370 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:08:23.838+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [b11778b7, L:/172.22.64.1:7359 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xb11778b7, L:/172.22.64.1:7359 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:08:23.838+08:00 DEBUG 4964 --- [gateway] [reactor-http-nio-2] r.n.r.DefaultPooledConnectionProvider    : [5ee775db, L:/172.22.64.1:7551 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x5ee775db, L:/172.22.64.1:7551 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:21:26.451+08:00  WARN 4964 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T12:21:26.451+08:00  WARN 4964 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T12:21:26.451+08:00  WARN 4964 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T12:21:26.451+08:00  WARN 4964 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T12:21:26.451+08:00  WARN 4964 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T12:21:26.451+08:00  WARN 4964 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T12:21:26.455+08:00 DEBUG 4964 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [1866233b, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T12:21:28.514+08:00  INFO 4964 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T12:21:28.528+08:00  INFO 4964 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T12:21:33.889+08:00  INFO 68128 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:21:33.899+08:00  INFO 68128 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:21:33.899+08:00  INFO 68128 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T12:21:33.907+08:00  INFO 68128 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T12:21:34.103+08:00  INFO 68128 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 68128 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T12:21:34.104+08:00  INFO 68128 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T12:21:34.617+08:00  INFO 68128 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T12:21:34.655+08:00  WARN 68128 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:21:34.656+08:00  WARN 68128 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:21:34.657+08:00  WARN 68128 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:21:34.657+08:00  WARN 68128 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:21:34.658+08:00  WARN 68128 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:21:35.088+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T12:21:35.175+08:00  INFO 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T12:21:35.234+08:00 DEBUG 68128 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T12:21:35.260+08:00 DEBUG 68128 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T12:21:35.371+08:00  WARN 68128 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T12:21:35.414+08:00 DEBUG 68128 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T12:21:35.415+08:00 DEBUG 68128 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@f03ee8f
2025-08-10T12:21:35.422+08:00 DEBUG 68128 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T12:21:35.448+08:00 DEBUG 68128 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T12:21:35.448+08:00 DEBUG 68128 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T12:21:35.515+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [300a8547, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T12:21:35.516+08:00  INFO 68128 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T12:21:35.566+08:00  INFO 68128 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T12:21:35.566+08:00  INFO 68128 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T12:21:36.185+08:00  INFO 68128 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T12:21:36.186+08:00  INFO 68128 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T12:21:36.187+08:00  INFO 68128 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T12:21:36.187+08:00  INFO 68128 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T12:21:36.230+08:00  INFO 68128 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T12:21:36.241+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:21:36.251+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.256+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.258+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.259+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.263+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:21:36.263+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:21:36.264+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.264+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.265+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.265+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.266+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:21:36.266+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:21:36.266+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.268+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.268+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.269+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.269+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:21:36.269+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:21:36.269+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.270+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.270+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.270+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.271+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:21:36.281+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:21:36.282+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.284+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.284+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.285+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.286+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:21:36.286+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:21:36.287+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.288+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.290+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.290+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.292+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:21:36.292+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:21:36.293+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.294+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.295+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.296+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.297+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:21:36.297+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:21:36.298+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:36.299+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.300+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:36.301+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:36.301+08:00 DEBUG 68128 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:21:36.304+08:00  INFO 68128 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.797 seconds (process running for 3.485)
2025-08-10T12:21:46.747+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [250e0931, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] New http connection, requesting read
2025-08-10T12:21:46.747+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [250e0931, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:46.757+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [250e0931, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] Increasing pending responses count: 1
2025-08-10T12:21:46.771+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [250e0931-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:46.805+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:46.809+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2c32f1e, order = 2]], metadata={}}
2025-08-10T12:21:46.809+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [250e0931-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:46.812+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2c32f1e, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:46.865+08:00  INFO 68128 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:21:46.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:46.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:46.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:21:46.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:21:46.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:21:46.916+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:21:46.920+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:21:47.065+08:00 DEBUG 68128 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T12:21:47.080+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [af8280fc] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:47.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [af8280fc] Connecting to [/172.22.64.1:58050].
2025-08-10T12:21:47.111+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:21:47.111+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.112+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:21:47.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:21:47.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T12:21:47.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:47.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [250e0931-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.123+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:47.275+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:47.275+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:47.279+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.286+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-1, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:47.293+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:47.294+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:47.294+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:47.295+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.300+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [250e0931-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] Last HTTP response frame
2025-08-10T12:21:47.301+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [250e0931-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14768] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:47.302+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [250e0931-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14768] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:47.302+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [250e0931-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14768] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:47.305+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d295952c, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] New http connection, requesting read
2025-08-10T12:21:47.306+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [d295952c, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:47.309+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d295952c, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] Increasing pending responses count: 1
2025-08-10T12:21:47.309+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [d295952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:47.310+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:47.310+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:47.310+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [d295952c-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:47.310+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:47.314+08:00  INFO 68128 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:47.317+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.317+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T12:21:47.317+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:47.319+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [d295952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.323+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-2, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d295952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] Last HTTP response frame
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d295952c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14773] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d295952c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14773] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:47.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [d295952c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14773] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:47.857+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [297b1d06, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] New http connection, requesting read
2025-08-10T12:21:47.857+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [297b1d06, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:47.859+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [297b1d06, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] Increasing pending responses count: 1
2025-08-10T12:21:47.859+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [297b1d06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:47.860+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:47.860+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:47.860+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [297b1d06-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:47.860+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:47.863+08:00  INFO 68128 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:47.865+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.865+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:21:47.865+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:47.865+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [297b1d06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.868+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:47.899+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:47.899+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:47.904+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-3, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [297b1d06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] Last HTTP response frame
2025-08-10T12:21:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [297b1d06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14793] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:47.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [297b1d06-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14793] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:47.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [297b1d06-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14793] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [54172bf6, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] New http connection, requesting read
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [54172bf6, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [54172bf6, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] Increasing pending responses count: 1
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [54172bf6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [54172bf6-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:47.910+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:47.917+08:00  INFO 68128 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:47.917+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.917+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:21:47.917+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:47.917+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [54172bf6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.917+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-4, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [54172bf6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] Last HTTP response frame
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [54172bf6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14802] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [54172bf6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14802] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:47.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [54172bf6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14802] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:47.974+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [395deeb5, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] New http connection, requesting read
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [395deeb5, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [395deeb5, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] Increasing pending responses count: 1
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [395deeb5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [395deeb5-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:47.978+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:47.984+08:00  INFO 68128 --- [gateway] [reactor-http-nio-8] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:47.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:47.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:21:47.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:47.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [395deeb5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:47.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-5, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [395deeb5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] Last HTTP response frame
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [395deeb5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14805] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [395deeb5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14805] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:48.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [395deeb5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14805] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:48.031+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [70f3fa5d, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] New http connection, requesting read
2025-08-10T12:21:48.031+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [70f3fa5d, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:48.033+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [70f3fa5d, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] Increasing pending responses count: 1
2025-08-10T12:21:48.034+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [70f3fa5d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:48.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:48.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:48.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [70f3fa5d-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:48.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:48.038+08:00  INFO 68128 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:48.040+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.040+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:21:48.040+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:48.041+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [70f3fa5d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.041+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-6, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [70f3fa5d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] Last HTTP response frame
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [70f3fa5d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14807] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [70f3fa5d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14807] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:48.073+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [70f3fa5d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14807] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:48.082+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [2941d985, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] New http connection, requesting read
2025-08-10T12:21:48.082+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [2941d985, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:48.083+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [2941d985, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] Increasing pending responses count: 1
2025-08-10T12:21:48.083+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [2941d985-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [2941d985-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:48.086+08:00  INFO 68128 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [2941d985-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:48.128+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:48.128+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:48.129+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.129+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-7, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:48.129+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:48.129+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:48.129+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:48.129+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.130+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [2941d985-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] Last HTTP response frame
2025-08-10T12:21:48.130+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [2941d985-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14810] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:48.130+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [2941d985-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14810] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:48.130+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [2941d985-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14810] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:21:48.137+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [e1996a62, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] New http connection, requesting read
2025-08-10T12:21:48.137+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [e1996a62, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:21:48.138+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [e1996a62, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] Increasing pending responses count: 1
2025-08-10T12:21:48.138+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [e1996a62-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:21:48.139+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:21:48.139+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2]], metadata={}}
2025-08-10T12:21:48.139+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [e1996a62-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:21:48.139+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@238c4a8a, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:21:48.141+08:00  INFO 68128 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:21:48.144+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.144+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:21:48.144+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:21:48.146+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [e1996a62-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.146+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-8, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:21:48.189+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [e1996a62-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] Last HTTP response frame
2025-08-10T12:21:48.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [e1996a62-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14812] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:21:48.192+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [e1996a62-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14812] Last HTTP packet was sent, terminating the channel
2025-08-10T12:21:48.192+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [e1996a62-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14812] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:46.927+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [23c2e509, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] New http connection, requesting read
2025-08-10T12:22:46.927+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [23c2e509, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:46.930+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [23c2e509, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] Increasing pending responses count: 1
2025-08-10T12:22:46.930+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [23c2e509-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:46.931+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:22:46.931+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2ca8f7e1, order = 2]], metadata={}}
2025-08-10T12:22:46.931+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [23c2e509-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:46.931+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2ca8f7e1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:46.935+08:00  INFO 68128 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:46.954+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:22:46.955+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:22:46.957+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.958+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.958+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:22:46.959+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:22:46.959+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:22:46.960+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:22:46.961+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.961+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.962+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:22:46.962+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:22:46.962+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:22:46.963+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:22:46.964+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.965+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.965+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:22:46.966+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:22:46.966+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:22:46.967+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:22:46.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.968+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:22:46.969+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:22:46.969+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:22:46.983+08:00 DEBUG 68128 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58080]
2025-08-10T12:22:46.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [821210df] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:46.984+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [821210df] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:46.985+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [821210df] Connecting to [/172.22.64.1:58080].
2025-08-10T12:22:46.985+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:22:46.985+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:46.985+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:22:46.986+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:22:46.986+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:22:46.986+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:22:46.986+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [23c2e509-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:46.988+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:22:47.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [f9070cfe, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] New http connection, requesting read
2025-08-10T12:22:47.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [f9070cfe, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [f9070cfe, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] Increasing pending responses count: 1
2025-08-10T12:22:47.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [f9070cfe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:22:47.012+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2]], metadata={}}
2025-08-10T12:22:47.012+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [f9070cfe-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.012+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.019+08:00  INFO 68128 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.021+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [155d7f10] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.023+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [155d7f10] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.030+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConnector     : [155d7f10] Connecting to [/172.22.64.1:58080].
2025-08-10T12:22:47.034+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:22:47.034+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:22:47.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:22:47.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:22:47.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:22:47.035+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [f9070cfe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.037+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:22:47.068+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.068+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:22:47.068+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [821210df-1, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:22:47.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:22:47.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:22:47.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:22:47.071+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [821210df, L:/172.22.64.1:1236 - R:/172.22.64.1:58080] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.071+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [23c2e509-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] Last HTTP response frame
2025-08-10T12:22:47.071+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [23c2e509-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1234] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [23c2e509-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1234] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [23c2e509-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1234] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:22:47.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [155d7f10-1, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [f9070cfe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] Last HTTP response frame
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [f9070cfe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1237] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [f9070cfe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1237] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [f9070cfe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1237] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:22:47.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [155d7f10, L:/172.22.64.1:1238 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.220+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [b2ff5690, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] New http connection, requesting read
2025-08-10T12:22:47.220+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [b2ff5690, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.223+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [b2ff5690, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] Increasing pending responses count: 1
2025-08-10T12:22:47.223+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [b2ff5690-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.223+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [b2ff5690-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.228+08:00  INFO 68128 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.232+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.232+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T12:22:47.232+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.232+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [b2ff5690-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.235+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.303+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.303+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.303+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.304+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-9, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.304+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.304+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.304+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.305+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.306+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [b2ff5690-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] Last HTTP response frame
2025-08-10T12:22:47.306+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [b2ff5690-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1239] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.306+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [b2ff5690-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1239] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.306+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [b2ff5690-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1239] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.342+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [f9a2dc31, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] New http connection, requesting read
2025-08-10T12:22:47.343+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [f9a2dc31, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.345+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [f9a2dc31, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] Increasing pending responses count: 1
2025-08-10T12:22:47.345+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [f9a2dc31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.346+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.346+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.346+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [f9a2dc31-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.346+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.351+08:00  INFO 68128 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.353+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.353+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T12:22:47.353+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.354+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [f9a2dc31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.354+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.451+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.451+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.452+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.453+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-10, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.453+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.453+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.453+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.454+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.455+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [f9a2dc31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] Last HTTP response frame
2025-08-10T12:22:47.455+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [f9a2dc31-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1242] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.455+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [f9a2dc31-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1242] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.455+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [f9a2dc31-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1242] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.730+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [55f6561d, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] New http connection, requesting read
2025-08-10T12:22:47.730+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [55f6561d, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.732+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [55f6561d, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] Increasing pending responses count: 1
2025-08-10T12:22:47.732+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [55f6561d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.733+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.733+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.733+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [55f6561d-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.733+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.737+08:00  INFO 68128 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:22:47.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [55f6561d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.741+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.779+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.779+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.780+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.780+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-11, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.780+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.780+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.780+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.780+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.781+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [55f6561d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] Last HTTP response frame
2025-08-10T12:22:47.781+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [55f6561d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1255] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.781+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [55f6561d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1255] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.781+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [55f6561d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1255] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.787+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [34a112df, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] New http connection, requesting read
2025-08-10T12:22:47.788+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [34a112df, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.788+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [34a112df, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] Increasing pending responses count: 1
2025-08-10T12:22:47.788+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [34a112df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.789+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.789+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.789+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [34a112df-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.789+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.793+08:00  INFO 68128 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.795+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:22:47.795+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.795+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [34a112df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.795+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.833+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.834+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.834+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.834+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-12, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.834+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [34a112df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] Last HTTP response frame
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [34a112df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1256] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [34a112df-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1256] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.835+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [34a112df-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1256] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.844+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [98314cc2, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] New http connection, requesting read
2025-08-10T12:22:47.844+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [98314cc2, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.846+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [98314cc2, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] Increasing pending responses count: 1
2025-08-10T12:22:47.846+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [98314cc2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.846+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [98314cc2-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.850+08:00  INFO 68128 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.852+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.852+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:22:47.852+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.852+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [98314cc2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.853+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.887+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.887+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.888+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.889+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-13, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.889+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.889+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.889+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.889+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [98314cc2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] Last HTTP response frame
2025-08-10T12:22:47.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [98314cc2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1259] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [98314cc2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1259] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [98314cc2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1259] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.897+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [adf7f06c, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] New http connection, requesting read
2025-08-10T12:22:47.897+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [adf7f06c, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.898+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [adf7f06c, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] Increasing pending responses count: 1
2025-08-10T12:22:47.898+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [adf7f06c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.898+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.900+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.900+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [adf7f06c-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.900+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.903+08:00  INFO 68128 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.904+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:22:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [adf7f06c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.940+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.940+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.941+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-14, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [adf7f06c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] Last HTTP response frame
2025-08-10T12:22:47.942+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [adf7f06c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1261] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.943+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [adf7f06c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1261] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.943+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [adf7f06c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1261] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:47.949+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [50711018, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] New http connection, requesting read
2025-08-10T12:22:47.949+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [50711018, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:47.949+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [50711018, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] Increasing pending responses count: 1
2025-08-10T12:22:47.949+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [50711018-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:47.950+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:47.951+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:47.951+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [50711018-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:47.951+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:47.954+08:00  INFO 68128 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:47.955+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:22:47.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:47.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [50711018-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.957+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-15, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:47.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:47.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [50711018-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] Last HTTP response frame
2025-08-10T12:22:47.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [50711018-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1263] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:47.998+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [50711018-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1263] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:47.998+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [50711018-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1263] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:22:48.003+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3ff05ca3, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] New http connection, requesting read
2025-08-10T12:22:48.003+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [3ff05ca3, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:22:48.003+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3ff05ca3, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] Increasing pending responses count: 1
2025-08-10T12:22:48.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [3ff05ca3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:22:48.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:22:48.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:22:48.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [3ff05ca3-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:22:48.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:22:48.009+08:00  INFO 68128 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:22:48.010+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:48.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:22:48.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:22:48.012+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [3ff05ca3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:22:48.012+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:22:48.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [af8280fc-16, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:22:48.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [af8280fc, L:/172.22.64.1:14771 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:22:48.054+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3ff05ca3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] Last HTTP response frame
2025-08-10T12:22:48.054+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3ff05ca3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1265] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:22:48.054+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3ff05ca3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1265] Last HTTP packet was sent, terminating the channel
2025-08-10T12:22:48.054+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [3ff05ca3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1265] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:23:09.372+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [faa9d367, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] New http connection, requesting read
2025-08-10T12:23:09.372+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [faa9d367, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:23:09.373+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [faa9d367, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] Increasing pending responses count: 1
2025-08-10T12:23:09.373+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [faa9d367-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:23:09.373+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [faa9d367-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:23:09.374+08:00  WARN 68128 --- [gateway] [reactor-http-nio-7] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/get-count
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [faa9d367-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] Last HTTP response frame
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [faa9d367-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] Headers are not sent before onComplete().
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [faa9d367-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1388] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:23:09.374+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [faa9d367-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1388] Last HTTP packet was sent, terminating the channel
2025-08-10T12:23:09.375+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [faa9d367-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1388] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:23:09.375+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.channel.ChannelOperationsHandler     : [faa9d367, L:/127.0.0.1:57070 ! R:/127.0.0.1:1388] No ChannelOperation attached.
2025-08-10T12:23:47.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [821210df, L:/172.22.64.1:1236 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x821210df, L:/172.22.64.1:1236 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:23:47.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [155d7f10, L:/172.22.64.1:1238 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x155d7f10, L:/172.22.64.1:1238 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:23:48.437+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [af8280fc, L:/172.22.64.1:14771 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xaf8280fc, L:/172.22.64.1:14771 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:29:36.564+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [366247c5, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] New http connection, requesting read
2025-08-10T12:29:36.564+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [366247c5, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:36.565+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [366247c5, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] Increasing pending responses count: 1
2025-08-10T12:29:36.565+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [366247c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:36.565+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:29:36.566+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:29:36.566+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [366247c5-20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:36.566+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:36.568+08:00  INFO 68128 --- [gateway] [reactor-http-nio-8] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:36.571+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:36.571+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [deda5295] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:36.571+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConnector     : [deda5295] Connecting to [/172.22.64.1:58050].
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:29:36.572+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [366247c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:29:36.573+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:29:36.665+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:36.665+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:29:36.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:36.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-1, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:29:36.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:29:36.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:29:36.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:29:36.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:36.667+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [366247c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] Last HTTP response frame
2025-08-10T12:29:36.667+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [366247c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3497] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:36.667+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [366247c5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3497] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:36.667+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [366247c5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3497] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:37.103+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [620ab236, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] New http connection, requesting read
2025-08-10T12:29:37.103+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [620ab236, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:37.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [620ab236, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] Increasing pending responses count: 1
2025-08-10T12:29:37.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [620ab236-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:37.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:29:37.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:29:37.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [620ab236-21] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:37.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:37.106+08:00  INFO 68128 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:37.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:37.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/count, method=POST}
2025-08-10T12:29:37.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:29:37.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [620ab236-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:29:37.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 404 
Vary: <filtered>
Vary: <filtered>
Vary: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-2, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:29:37.132+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:37.134+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [620ab236-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] Last HTTP response frame
2025-08-10T12:29:37.134+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [620ab236-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3506] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:37.134+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [620ab236-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3506] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:37.134+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [620ab236-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3506] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:37.198+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [ee04beab, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] New http connection, requesting read
2025-08-10T12:29:37.198+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [ee04beab, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:37.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [ee04beab, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] Increasing pending responses count: 1
2025-08-10T12:29:37.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [ee04beab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:37.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:29:37.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:29:37.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [ee04beab-22] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:37.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:37.201+08:00  INFO 68128 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:37.202+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:37.202+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:29:37.202+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:29:37.202+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [ee04beab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:29:37.202+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:29:37.271+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:37.271+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-3, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [ee04beab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] Last HTTP response frame
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [ee04beab-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3509] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [ee04beab-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3509] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:37.272+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [ee04beab-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3509] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:52.538+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [70994e0c, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] New http connection, requesting read
2025-08-10T12:29:52.538+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [70994e0c, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:52.538+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [70994e0c, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] Increasing pending responses count: 1
2025-08-10T12:29:52.538+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [70994e0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:52.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:29:52.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2]], metadata={}}
2025-08-10T12:29:52.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [70994e0c-23] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:52.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:52.542+08:00  INFO 68128 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:52.544+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [9e92023b] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.545+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [9e92023b] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:52.545+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConnector     : [9e92023b] Connecting to [/172.22.64.1:58080].
2025-08-10T12:29:52.545+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:29:52.545+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.545+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:29:52.545+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:29:52.546+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.http.client.HttpClientConnect    : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:29:52.546+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:29:52.546+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [70994e0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:52.546+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:29:52.584+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [93950c06, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] New http connection, requesting read
2025-08-10T12:29:52.584+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [93950c06, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:52.584+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [93950c06, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] Increasing pending responses count: 1
2025-08-10T12:29:52.585+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [93950c06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:52.585+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:29:52.585+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2]], metadata={}}
2025-08-10T12:29:52.585+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [93950c06-24] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:52.585+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:52.588+08:00  INFO 68128 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:52.589+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [15e6917e] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [15e6917e] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:52.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConnector     : [15e6917e] Connecting to [/172.22.64.1:58080].
2025-08-10T12:29:52.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:29:52.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:29:52.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:29:52.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:29:52.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:29:52.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [93950c06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:52.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:29:52.623+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:52.623+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.client.HttpClientOperations     : [9e92023b-1, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.resources.PooledConnectionProvider   : [9e92023b, L:/172.22.64.1:3608 - R:/172.22.64.1:58080] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [70994e0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] Last HTTP response frame
2025-08-10T12:29:52.626+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [70994e0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3607] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:52.626+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [70994e0c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3607] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:52.626+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [70994e0c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3607] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:52.661+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:52.662+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:29:52.662+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:52.664+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [15e6917e-1, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:29:52.664+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [93950c06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] Last HTTP response frame
2025-08-10T12:29:52.664+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [93950c06-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3609] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:52.665+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [93950c06-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3609] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:52.665+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [93950c06-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3609] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:52.665+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:29:52.665+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:29:52.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:29:52.666+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [15e6917e, L:/172.22.64.1:3610 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.759+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [fa3ca108, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] New http connection, requesting read
2025-08-10T12:29:52.759+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [fa3ca108, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:52.759+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [fa3ca108, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] Increasing pending responses count: 1
2025-08-10T12:29:52.759+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [fa3ca108-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:52.760+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:29:52.760+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:29:52.760+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [fa3ca108-25] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:52.761+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:52.764+08:00  INFO 68128 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:52.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T12:29:52.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:29:52.768+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [fa3ca108-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:29:52.768+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:29:52.866+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:52.866+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:29:52.867+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:52.867+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-4, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:29:52.867+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:29:52.867+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:29:52.867+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:29:52.867+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:52.868+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [fa3ca108-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] Last HTTP response frame
2025-08-10T12:29:52.868+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [fa3ca108-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3617] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:52.869+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [fa3ca108-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3617] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:52.869+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [fa3ca108-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3617] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:52.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [6853fa34, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] New http connection, requesting read
2025-08-10T12:29:52.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [6853fa34, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:52.996+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [6853fa34, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] Increasing pending responses count: 1
2025-08-10T12:29:52.996+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [6853fa34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:52.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:29:52.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:29:52.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [6853fa34-26] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:52.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:53.000+08:00  INFO 68128 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:53.002+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:53.002+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/count, method=POST}
2025-08-10T12:29:53.003+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:29:53.003+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [6853fa34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:29:53.004+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:29:53.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 404 
Vary: <filtered>
Vary: <filtered>
Vary: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:53.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:29:53.011+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:53.012+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-5, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [6853fa34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] Last HTTP response frame
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [6853fa34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3620] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [6853fa34-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3620] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:53.013+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [6853fa34-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3620] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:29:53.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [084028d6, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] New http connection, requesting read
2025-08-10T12:29:53.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [084028d6, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:29:53.181+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [084028d6, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] Increasing pending responses count: 1
2025-08-10T12:29:53.181+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [084028d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:29:53.182+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:29:53.182+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:29:53.182+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [084028d6-27] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:29:53.182+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:29:53.185+08:00  INFO 68128 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:29:53.186+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:53.186+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:29:53.186+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:29:53.187+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [084028d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:29:53.187+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:29:53.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:29:53.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:29:53.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [deda5295-6, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [deda5295, L:/172.22.64.1:3498 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [084028d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] Last HTTP response frame
2025-08-10T12:29:53.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [084028d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3621] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:29:53.227+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [084028d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3621] Last HTTP packet was sent, terminating the channel
2025-08-10T12:29:53.227+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [084028d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3621] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:30:53.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.r.DefaultPooledConnectionProvider    : [9e92023b, L:/172.22.64.1:3608 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x9e92023b, L:/172.22.64.1:3608 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:30:53.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [15e6917e, L:/172.22.64.1:3610 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0x15e6917e, L:/172.22.64.1:3610 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:30:53.588+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [deda5295, L:/172.22.64.1:3498 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xdeda5295, L:/172.22.64.1:3498 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:32:42.904+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e1ff9bd7, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] New http connection, requesting read
2025-08-10T12:32:42.904+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [e1ff9bd7, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:32:42.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e1ff9bd7, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] Increasing pending responses count: 1
2025-08-10T12:32:42.905+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [e1ff9bd7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:32:42.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:32:42.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:32:42.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [e1ff9bd7-28] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:32:42.906+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:32:42.908+08:00  INFO 68128 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:32:42.911+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:42.912+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [d1b5c7e2] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:32:42.913+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [d1b5c7e2] Connecting to [/172.22.64.1:58050].
2025-08-10T12:32:42.913+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [e1ff9bd7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:32:42.914+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:32:42.992+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:32:42.992+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:32:42.992+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-1, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e1ff9bd7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] Last HTTP response frame
2025-08-10T12:32:42.993+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e1ff9bd7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4667] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:32:42.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e1ff9bd7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4667] Last HTTP packet was sent, terminating the channel
2025-08-10T12:32:42.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [e1ff9bd7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4667] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:32:43.354+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [743ffc2d, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] New http connection, requesting read
2025-08-10T12:32:43.354+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [743ffc2d, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:32:43.354+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [743ffc2d, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] Increasing pending responses count: 1
2025-08-10T12:32:43.354+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [743ffc2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:32:43.355+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:32:43.355+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:32:43.355+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [743ffc2d-29] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:32:43.355+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:32:43.357+08:00  INFO 68128 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:32:43.359+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:43.359+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/count, method=POST}
2025-08-10T12:32:43.359+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:32:43.359+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [743ffc2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:32:43.360+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:32:43.363+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 404 
Vary: <filtered>
Vary: <filtered>
Vary: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:32:43.363+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [743ffc2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] Last HTTP response frame
2025-08-10T12:32:43.364+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [743ffc2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4675] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:32:43.365+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [743ffc2d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4675] Last HTTP packet was sent, terminating the channel
2025-08-10T12:32:43.365+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [743ffc2d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4675] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:32:43.393+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [164b1db3, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] New http connection, requesting read
2025-08-10T12:32:43.393+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [164b1db3, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:32:43.393+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [164b1db3, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] Increasing pending responses count: 1
2025-08-10T12:32:43.393+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [164b1db3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:32:43.393+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:32:43.393+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:32:43.394+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [164b1db3-30] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:32:43.394+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:32:43.395+08:00  INFO 68128 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:32:43.397+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:43.397+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:32:43.397+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:32:43.397+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [164b1db3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:32:43.398+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:32:43.442+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:32:43.442+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:32:43.443+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:32:43.443+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-3, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:32:43.443+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:32:43.443+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:32:43.443+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:32:43.443+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:32:43.444+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [164b1db3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] Last HTTP response frame
2025-08-10T12:32:43.444+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [164b1db3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4677] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:32:43.444+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [164b1db3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4677] Last HTTP packet was sent, terminating the channel
2025-08-10T12:32:43.444+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [164b1db3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4677] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:07.577+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [ca9b02b8, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] New http connection, requesting read
2025-08-10T12:33:07.578+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [ca9b02b8, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:07.582+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [ca9b02b8, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] Increasing pending responses count: 1
2025-08-10T12:33:07.582+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [190b6b22, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] New http connection, requesting read
2025-08-10T12:33:07.582+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [190b6b22, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:07.582+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [ca9b02b8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:07.582+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [190b6b22, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] Increasing pending responses count: 1
2025-08-10T12:33:07.582+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [190b6b22-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2]], metadata={}}
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [ca9b02b8-31] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2]], metadata={}}
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [190b6b22-32] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:07.583+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@595c0581, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:07.588+08:00  INFO 68128 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:07.588+08:00  INFO 68128 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:07.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e0e73582] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:07.593+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [c9c8b785] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:07.595+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [e0e73582] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:07.595+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [c9c8b785] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:07.595+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConnector     : [e0e73582] Connecting to [/172.22.64.1:58080].
2025-08-10T12:33:07.595+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConnector     : [c9c8b785] Connecting to [/172.22.64.1:58080].
2025-08-10T12:33:07.597+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:33:07.597+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:07.597+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:33:07.597+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:33:07.597+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:33:07.597+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [190b6b22-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:33:07.599+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:33:07.600+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ca9b02b8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:07.600+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:33:07.734+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:07.734+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:33:07.739+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:07.739+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [c9c8b785-1, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:33:07.739+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:33:07.739+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:33:07.739+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:33:07.739+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [c9c8b785, L:/172.22.64.1:4835 - R:/172.22.64.1:58080] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:07.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [ca9b02b8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] Last HTTP response frame
2025-08-10T12:33:07.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [ca9b02b8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4829] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:07.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [ca9b02b8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4829] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:07.740+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [ca9b02b8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4829] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:07.763+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:07.764+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:33:07.764+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:07.764+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e0e73582-1, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:33:07.764+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:33:07.765+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:33:07.765+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:33:07.766+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e0e73582, L:/172.22.64.1:4834 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:07.766+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [190b6b22-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] Last HTTP response frame
2025-08-10T12:33:07.766+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [190b6b22-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4830] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:07.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [190b6b22-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4830] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:07.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [190b6b22-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4830] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:08.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5599d2d6, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] New http connection, requesting read
2025-08-10T12:33:08.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [5599d2d6, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:08.071+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5599d2d6, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] Increasing pending responses count: 1
2025-08-10T12:33:08.071+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [5599d2d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:08.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:33:08.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:33:08.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [5599d2d6-33] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:08.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:08.078+08:00  INFO 68128 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:08.081+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.081+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T12:33:08.081+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:33:08.082+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [5599d2d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.083+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:33:08.165+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:08.166+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:33:08.166+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.167+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-4, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:33:08.167+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:33:08.167+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:33:08.167+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:33:08.167+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.168+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5599d2d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] Last HTTP response frame
2025-08-10T12:33:08.168+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5599d2d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4849] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:08.168+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [5599d2d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4849] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:08.168+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [5599d2d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4849] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:08.408+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d38e0a58, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] New http connection, requesting read
2025-08-10T12:33:08.409+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [d38e0a58, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:08.409+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d38e0a58, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] Increasing pending responses count: 1
2025-08-10T12:33:08.409+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [d38e0a58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:08.411+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:33:08.411+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:33:08.411+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [d38e0a58-34] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:08.411+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:08.417+08:00  INFO 68128 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:08.418+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.419+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/get-count, method=POST}
2025-08-10T12:33:08.419+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:33:08.420+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [d38e0a58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.420+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:33:08.496+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-5, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:33:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.499+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d38e0a58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] Last HTTP response frame
2025-08-10T12:33:08.499+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d38e0a58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4853] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:08.499+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d38e0a58-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4853] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:08.499+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [d38e0a58-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4853] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:08.526+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [bf42bea7, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] New http connection, requesting read
2025-08-10T12:33:08.526+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [bf42bea7, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:08.527+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [bf42bea7, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] Increasing pending responses count: 1
2025-08-10T12:33:08.527+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [bf42bea7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:08.527+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:33:08.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:33:08.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [bf42bea7-35] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:08.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:08.532+08:00  INFO 68128 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/list, method=POST}
2025-08-10T12:33:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:33:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [bf42bea7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.535+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:33:08.695+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:08.695+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:33:08.695+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.696+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-6, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:33:08.696+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:33:08.696+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:33:08.696+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:33:08.696+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.697+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [bf42bea7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] Last HTTP response frame
2025-08-10T12:33:08.697+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [bf42bea7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4855] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:08.697+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [bf42bea7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4855] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:08.697+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [bf42bea7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4855] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:08.937+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [b93d9e35, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] New http connection, requesting read
2025-08-10T12:33:08.938+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [b93d9e35, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:08.938+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [b93d9e35, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Increasing pending responses count: 1
2025-08-10T12:33:08.938+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [b93d9e35-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:08.939+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:33:08.939+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2]], metadata={}}
2025-08-10T12:33:08.939+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [b93d9e35-36] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:08.939+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@27db8fc1, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:08.943+08:00  INFO 68128 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:08.944+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:08.944+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T12:33:08.944+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:33:08.945+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [b93d9e35-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:08.946+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:33:09.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:09.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:33:09.005+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [d1b5c7e2-7, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [d1b5c7e2, L:/172.22.64.1:4668 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [b93d9e35-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Last HTTP response frame
2025-08-10T12:33:09.006+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [b93d9e35-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:09.007+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [b93d9e35-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4866] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:09.007+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [b93d9e35-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4866] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [62b4ba46, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] New http connection, requesting read
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [62b4ba46, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [62b4ba46, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] Increasing pending responses count: 1
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [62b4ba46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@507e2f11, order = 2]], metadata={}}
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [62b4ba46-37] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:14.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@507e2f11, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:14.594+08:00  INFO 68128 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:14.610+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:33:14.612+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:14.613+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.613+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.614+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:14.614+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:33:14.614+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:33:14.614+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:14.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:14.616+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:33:14.616+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:33:14.616+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:14.616+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.617+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.617+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:14.617+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:33:14.617+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:33:14.618+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:14.618+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.618+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:14.619+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:14.619+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:33:14.630+08:00 DEBUG 68128 --- [gateway] [boundedElastic-4] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58012]
2025-08-10T12:33:14.630+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:14.630+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [9847f373] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConnector     : [9847f373] Connecting to [/192.168.0.18:58012].
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:33:14.631+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [62b4ba46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:14.632+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-1, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [62b4ba46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] Last HTTP response frame
2025-08-10T12:33:14.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [62b4ba46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4902] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:14.701+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [62b4ba46-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4902] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:14.701+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [62b4ba46-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4902] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [187f98a5, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] New http connection, requesting read
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [187f98a5, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [187f98a5, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] Increasing pending responses count: 1
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [187f98a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2]], metadata={}}
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [187f98a5-38] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:14.710+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:14.712+08:00  INFO 68128 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:14.713+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:14.713+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T12:33:14.713+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:33:14.713+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [187f98a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:14.713+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-2, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:33:14.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:14.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [187f98a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] Last HTTP response frame
2025-08-10T12:33:14.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [187f98a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4907] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:14.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [187f98a5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4907] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:14.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [187f98a5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4907] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:16.420+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [11f60550, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] New http connection, requesting read
2025-08-10T12:33:16.420+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [11f60550, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:16.420+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [11f60550, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] Increasing pending responses count: 1
2025-08-10T12:33:16.421+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [11f60550-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:16.421+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:33:16.421+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2]], metadata={}}
2025-08-10T12:33:16.421+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [11f60550-39] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:16.421+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:16.423+08:00  INFO 68128 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:16.423+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:16.423+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T12:33:16.424+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:33:16.424+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [11f60550-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:16.424+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-3, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:33:16.492+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:16.493+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [11f60550-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] Last HTTP response frame
2025-08-10T12:33:16.493+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [11f60550-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4917] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:16.493+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [11f60550-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4917] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:16.493+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [11f60550-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4917] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:16.501+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [1359121e, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] New http connection, requesting read
2025-08-10T12:33:16.501+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [1359121e, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:16.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [1359121e, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] Increasing pending responses count: 1
2025-08-10T12:33:16.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [1359121e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:16.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:33:16.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2]], metadata={}}
2025-08-10T12:33:16.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [1359121e-40] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:16.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:16.504+08:00  INFO 68128 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:16.505+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:16.505+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T12:33:16.505+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:33:16.506+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [1359121e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:16.506+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:33:16.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:16.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:33:16.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:16.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-4, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:33:16.539+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [1359121e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] Last HTTP response frame
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [1359121e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4919] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [1359121e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4919] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:16.540+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [1359121e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4919] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:16.548+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [14cd3757, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] New http connection, requesting read
2025-08-10T12:33:16.548+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [14cd3757, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:16.548+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [14cd3757, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] Increasing pending responses count: 1
2025-08-10T12:33:16.548+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [14cd3757-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:16.548+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:33:16.549+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2]], metadata={}}
2025-08-10T12:33:16.549+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [14cd3757-41] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:16.549+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@7bb50e40, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:16.551+08:00  INFO 68128 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:16.552+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:16.552+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T12:33:16.552+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:33:16.553+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [14cd3757-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:16.553+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:33:16.588+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:16.588+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:33:16.589+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:16.589+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [9847f373-5, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:33:16.589+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:33:16.589+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:33:16.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:33:16.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [9847f373, L:/192.168.0.18:4904 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:16.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [14cd3757-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] Last HTTP response frame
2025-08-10T12:33:16.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [14cd3757-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4921] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:16.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [14cd3757-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4921] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:16.590+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [14cd3757-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4921] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:18.090+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [12bcc8ee, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] New http connection, requesting read
2025-08-10T12:33:18.090+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [12bcc8ee, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:18.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [12bcc8ee, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] Increasing pending responses count: 1
2025-08-10T12:33:18.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [12bcc8ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:18.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:33:18.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@35cdf24b, order = 2]], metadata={}}
2025-08-10T12:33:18.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [12bcc8ee-42] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:18.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@35cdf24b, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:18.093+08:00  INFO 68128 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:18.102+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:33:18.103+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:18.103+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:18.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:33:18.104+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:33:18.105+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:18.105+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.105+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.106+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:18.106+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:33:18.106+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:33:18.106+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:18.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:18.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:33:18.107+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:33:18.108+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:33:18.108+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.108+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:33:18.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:33:18.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:33:18.116+08:00 DEBUG 68128 --- [gateway] [boundedElastic-4] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58070]
2025-08-10T12:33:18.116+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.116+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [3b55a229] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConnector     : [3b55a229] Connecting to [/192.168.0.18:58070].
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T12:33:18.117+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:33:18.118+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [12bcc8ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:18.118+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:33:18.178+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:18.178+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-1, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [12bcc8ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] Last HTTP response frame
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [12bcc8ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4934] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [12bcc8ee-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4934] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:18.179+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [12bcc8ee-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4934] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a9c4007, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] New http connection, requesting read
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [5a9c4007, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a9c4007, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] Increasing pending responses count: 1
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [5a9c4007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:33:18.191+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [5a9c4007-43] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:18.192+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:18.193+08:00  INFO 68128 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:18.194+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.194+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T12:33:18.194+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:33:18.195+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [5a9c4007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:18.196+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-2, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a9c4007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] Last HTTP response frame
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a9c4007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4936] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a9c4007-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4936] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:18.226+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [5a9c4007-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4936] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:18.233+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [46b6b2ee, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] New http connection, requesting read
2025-08-10T12:33:18.233+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [46b6b2ee, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:18.234+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [46b6b2ee, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] Increasing pending responses count: 1
2025-08-10T12:33:18.234+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [46b6b2ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:18.234+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:33:18.234+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:33:18.234+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [46b6b2ee-44] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:18.234+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:18.236+08:00  INFO 68128 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:18.236+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.236+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T12:33:18.236+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:33:18.237+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [46b6b2ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:33:18.237+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:33:18.295+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-3, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:18.296+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [46b6b2ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] Last HTTP response frame
2025-08-10T12:33:18.297+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [46b6b2ee-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4937] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:18.297+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [46b6b2ee-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4937] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:18.297+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [46b6b2ee-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4937] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:20.619+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [12129c73, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] New http connection, requesting read
2025-08-10T12:33:20.619+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [12129c73, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:20.620+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [12129c73, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] Increasing pending responses count: 1
2025-08-10T12:33:20.620+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [12129c73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:20.620+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:33:20.620+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:33:20.620+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [12129c73-45] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:20.621+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:20.622+08:00  INFO 68128 --- [gateway] [reactor-http-nio-8] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:20.623+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:20.623+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, method=GET}
2025-08-10T12:33:20.623+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:33:20.623+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [12129c73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:20.624+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:33:20.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:20.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:33:20.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:20.748+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-4, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:33:20.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:33:20.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:33:20.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:33:20.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:20.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [12129c73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] Last HTTP response frame
2025-08-10T12:33:20.749+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [12129c73-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4952] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:20.750+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [12129c73-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4952] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:20.750+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [12129c73-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4952] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:23.635+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3b00b8bc, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] New http connection, requesting read
2025-08-10T12:33:23.635+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [3b00b8bc, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:23.636+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3b00b8bc, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] Increasing pending responses count: 1
2025-08-10T12:33:23.636+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [3b00b8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:23.636+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:33:23.636+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:33:23.636+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [3b00b8bc-46] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:23.636+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:23.639+08:00  INFO 68128 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:33:23.640+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:23.640+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, method=GET}
2025-08-10T12:33:23.640+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:33:23.640+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [3b00b8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:23.640+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [3b55a229-5, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b43e8ace-c1ba-44d1-a4bc-98ce961554fd, connection=PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:33:23.715+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [3b55a229, L:/192.168.0.18:4935 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:33:23.716+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3b00b8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] Last HTTP response frame
2025-08-10T12:33:23.716+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3b00b8bc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4961] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:23.716+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [3b00b8bc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4961] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:23.716+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [3b00b8bc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4961] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:28.084+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [daf8d4bd, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] New http connection, requesting read
2025-08-10T12:33:28.084+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [daf8d4bd, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:33:28.084+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [daf8d4bd, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] Increasing pending responses count: 1
2025-08-10T12:33:28.084+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [daf8d4bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:33:28.085+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:33:28.085+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/ai/chat] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:33:28.085+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [daf8d4bd-47] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:33:28.085+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:33:28.086+08:00  WARN 68128 --- [gateway] [reactor-http-nio-10] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /ai/chat
2025-08-10T12:33:28.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [daf8d4bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] Last HTTP response frame
2025-08-10T12:33:28.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [daf8d4bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] Headers are not sent before onComplete().
2025-08-10T12:33:28.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [daf8d4bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5001] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:33:28.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [daf8d4bd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5001] Last HTTP packet was sent, terminating the channel
2025-08-10T12:33:28.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [daf8d4bd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5001] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:33:28.086+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.channel.ChannelOperationsHandler     : [daf8d4bd, L:/127.0.0.1:57070 ! R:/127.0.0.1:5001] No ChannelOperation attached.
2025-08-10T12:34:08.103+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e0e73582, L:/172.22.64.1:4834 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xe0e73582, L:/172.22.64.1:4834 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:34:08.103+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [c9c8b785, L:/172.22.64.1:4835 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xc9c8b785, L:/172.22.64.1:4835 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:34:09.428+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [d1b5c7e2, L:/172.22.64.1:4668 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xd1b5c7e2, L:/172.22.64.1:4668 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T12:34:17.047+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [9847f373, L:/192.168.0.18:4904 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9847f373, L:/192.168.0.18:4904 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T12:34:24.154+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [3b55a229, L:/192.168.0.18:4935 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x3b55a229, L:/192.168.0.18:4935 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T12:34:56.895+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [cd45c909, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] New http connection, requesting read
2025-08-10T12:34:56.895+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [cd45c909, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:34:56.896+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [cd45c909, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Increasing pending responses count: 1
2025-08-10T12:34:56.896+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [cd45c909-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:34:56.896+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:34:56.896+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:34:56.896+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [cd45c909-48] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:34:56.896+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:34:56.899+08:00  INFO 68128 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:34:56.902+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:56.902+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [15de722a] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConnector     : [15de722a] Connecting to [/192.168.0.18:58070].
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T12:34:56.903+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:34:56.904+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [cd45c909-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:34:56.904+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:34:56.962+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:34:56.962+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:34:56.962+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:34:56.963+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-1, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:34:56.963+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:34:56.963+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:34:56.963+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:34:56.963+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:56.964+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [cd45c909-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Last HTTP response frame
2025-08-10T12:34:56.964+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [cd45c909-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5563] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:34:56.964+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [cd45c909-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5563] Last HTTP packet was sent, terminating the channel
2025-08-10T12:34:56.964+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [cd45c909-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5563] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:34:56.971+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [bce44db2, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] New http connection, requesting read
2025-08-10T12:34:56.971+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [bce44db2, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:34:56.971+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [bce44db2, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] Increasing pending responses count: 1
2025-08-10T12:34:56.971+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [bce44db2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:34:56.972+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:34:56.972+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:34:56.972+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [bce44db2-49] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:34:56.972+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:34:56.975+08:00  INFO 68128 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:34:56.976+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:56.977+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T12:34:56.977+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:34:56.977+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [bce44db2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:34:56.977+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:34:57.008+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:34:57.008+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:34:57.008+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-2, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [bce44db2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] Last HTTP response frame
2025-08-10T12:34:57.009+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [bce44db2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5566] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:34:57.010+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [bce44db2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5566] Last HTTP packet was sent, terminating the channel
2025-08-10T12:34:57.010+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [bce44db2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5566] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:34:57.021+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [49cda2e2, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] New http connection, requesting read
2025-08-10T12:34:57.021+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [49cda2e2, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:34:57.022+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [49cda2e2, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] Increasing pending responses count: 1
2025-08-10T12:34:57.022+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [49cda2e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:34:57.022+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:34:57.022+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:34:57.022+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [49cda2e2-50] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:34:57.022+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:34:57.024+08:00  INFO 68128 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:34:57.025+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:57.025+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T12:34:57.025+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:34:57.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [49cda2e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:34:57.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:34:57.059+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:34:57.059+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-3, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [49cda2e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] Last HTTP response frame
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [49cda2e2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5569] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [49cda2e2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5569] Last HTTP packet was sent, terminating the channel
2025-08-10T12:34:57.060+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [49cda2e2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5569] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:07.087+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [798569b5, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] New http connection, requesting read
2025-08-10T12:35:07.087+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [798569b5, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:07.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [798569b5, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] Increasing pending responses count: 1
2025-08-10T12:35:07.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [798569b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:07.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:07.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:07.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [798569b5-51] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:07.088+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:07.090+08:00  INFO 68128 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:07.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:07.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T12:35:07.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:07.091+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [798569b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:07.092+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:07.151+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:07.151+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:07.151+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-4, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [798569b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] Last HTTP response frame
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [798569b5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5638] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [798569b5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5638] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:07.153+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [798569b5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5638] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:07.159+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2ec84eca, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] New http connection, requesting read
2025-08-10T12:35:07.159+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [2ec84eca, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:07.160+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2ec84eca, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] Increasing pending responses count: 1
2025-08-10T12:35:07.160+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [2ec84eca-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:07.160+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:07.161+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:07.161+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [2ec84eca-52] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:07.161+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:07.163+08:00  INFO 68128 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:07.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:07.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T12:35:07.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:07.165+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [2ec84eca-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:07.165+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:07.198+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-5, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:07.199+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:07.200+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2ec84eca-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] Last HTTP response frame
2025-08-10T12:35:07.200+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2ec84eca-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5640] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:07.200+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2ec84eca-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5640] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:07.200+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [2ec84eca-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5640] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:07.210+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e89f5100, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] New http connection, requesting read
2025-08-10T12:35:07.210+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [e89f5100, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:07.210+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e89f5100, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] Increasing pending responses count: 1
2025-08-10T12:35:07.210+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [e89f5100-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:07.211+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:07.211+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:07.211+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [e89f5100-53] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:07.211+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:07.213+08:00  INFO 68128 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:07.214+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:07.215+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T12:35:07.215+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:07.215+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [e89f5100-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:35:07.215+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:07.246+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:07.246+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:07.246+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-6, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e89f5100-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] Last HTTP response frame
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e89f5100-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5642] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [e89f5100-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5642] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:07.247+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [e89f5100-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5642] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:08.422+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [26f772f0, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] New http connection, requesting read
2025-08-10T12:35:08.422+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [26f772f0, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:08.422+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [26f772f0, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] Increasing pending responses count: 1
2025-08-10T12:35:08.422+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [26f772f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:08.423+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:08.423+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:08.423+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [26f772f0-54] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:08.423+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:08.427+08:00  INFO 68128 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:08.429+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:08.429+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T12:35:08.429+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:08.429+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [26f772f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:08.430+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:08.487+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:08.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:08.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-7, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [26f772f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] Last HTTP response frame
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [26f772f0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5660] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [26f772f0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5660] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:08.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [26f772f0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5660] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [24e2bf58, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] New http connection, requesting read
2025-08-10T12:35:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [24e2bf58, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [24e2bf58, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] Increasing pending responses count: 1
2025-08-10T12:35:08.497+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [24e2bf58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:08.498+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:08.498+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:08.498+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [24e2bf58-55] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:08.498+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:08.501+08:00  INFO 68128 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:08.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:08.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T12:35:08.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:08.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [24e2bf58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:08.502+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-8, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:08.534+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:08.535+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [24e2bf58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] Last HTTP response frame
2025-08-10T12:35:08.535+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [24e2bf58-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5662] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:08.535+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [24e2bf58-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5662] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:08.535+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [24e2bf58-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5662] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:08.554+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [81fc8f3f, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] New http connection, requesting read
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [81fc8f3f, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [81fc8f3f, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] Increasing pending responses count: 1
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [81fc8f3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [81fc8f3f-56] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:08.555+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:08.557+08:00  INFO 68128 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:08.558+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:08.560+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T12:35:08.560+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:08.560+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [81fc8f3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:35:08.560+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:08.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:08.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:08.591+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-9, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [81fc8f3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] Last HTTP response frame
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [81fc8f3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5667] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [81fc8f3f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5667] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:08.592+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [81fc8f3f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5667] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:15.610+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c5793be4, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] New http connection, requesting read
2025-08-10T12:35:15.610+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [c5793be4, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:15.610+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c5793be4, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] Increasing pending responses count: 1
2025-08-10T12:35:15.610+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [c5793be4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:15.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:15.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:15.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [c5793be4-57] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:15.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:15.614+08:00  INFO 68128 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:15.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:15.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, method=GET}
2025-08-10T12:35:15.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:15.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [c5793be4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:15.615+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:15.705+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:15.705+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:15.706+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:15.706+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-10, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:15.706+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:15.706+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:15.706+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:15.706+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:15.707+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c5793be4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] Last HTTP response frame
2025-08-10T12:35:15.707+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c5793be4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5723] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:15.707+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c5793be4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5723] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:15.707+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [c5793be4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5723] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [64ccab22, L:/127.0.0.1:57070 - R:/127.0.0.1:5750] New http connection, requesting read
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [64ccab22, L:/127.0.0.1:57070 - R:/127.0.0.1:5750] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [64ccab22, L:/127.0.0.1:57070 - R:/127.0.0.1:5750] Increasing pending responses count: 1
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [64ccab22-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5750] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/ai/chat] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:20.155+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [64ccab22-58] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:20.156+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:20.159+08:00  INFO 68128 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:20.160+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:20.161+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/ai/chat, method=POST}
2025-08-10T12:35:20.161+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:20.161+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [64ccab22-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5750] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:35:20.162+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:23.886+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:23.886+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:23.887+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:33.065+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [91d03b77, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] New http connection, requesting read
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [91d03b77, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [91d03b77, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] Increasing pending responses count: 1
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [91d03b77-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [91d03b77-59] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:33.066+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:33.068+08:00  INFO 68128 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:33.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:33.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [e5bfe1d2] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:33.070+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConnector     : [e5bfe1d2] Connecting to [/192.168.0.18:58070].
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, method=GET}
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [91d03b77-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:33.072+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:33.175+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-1, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [91d03b77-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] Last HTTP response frame
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [91d03b77-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5829] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:33.176+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [91d03b77-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5829] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:33.178+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [91d03b77-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5829] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:34.482+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2abc0d19, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] New http connection, requesting read
2025-08-10T12:35:34.482+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [2abc0d19, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:34.482+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2abc0d19, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] Increasing pending responses count: 1
2025-08-10T12:35:34.483+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [2abc0d19-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:34.483+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:34.484+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:34.484+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [2abc0d19-60] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:34.484+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:34.487+08:00  INFO 68128 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:34.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:34.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, method=GET}
2025-08-10T12:35:34.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:34.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [2abc0d19-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:34.489+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:34.608+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:34.609+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:34.610+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2abc0d19-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] Last HTTP response frame
2025-08-10T12:35:34.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2abc0d19-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5843] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:34.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2abc0d19-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5843] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:34.611+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [2abc0d19-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5843] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:36.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [c4d41327, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] New http connection, requesting read
2025-08-10T12:35:36.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [c4d41327, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:36.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [c4d41327, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] Increasing pending responses count: 1
2025-08-10T12:35:36.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [c4d41327-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:36.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:36.994+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:36.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [c4d41327-61] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:36.995+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:36.996+08:00  INFO 68128 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:36.997+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:36.998+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, method=GET}
2025-08-10T12:35:36.998+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:36.998+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [c4d41327-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:36.998+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:37.699+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:37.699+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:37.699+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-3, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/b97d6e65-3d10-4d77-a0e3-f943ad285aaf, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [c4d41327-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] Last HTTP response frame
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [c4d41327-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5857] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [c4d41327-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5857] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:37.700+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [c4d41327-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5857] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:39.048+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [b5533b7e, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] New http connection, requesting read
2025-08-10T12:35:39.048+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [b5533b7e, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:39.049+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [b5533b7e, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] Increasing pending responses count: 1
2025-08-10T12:35:39.049+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [b5533b7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:39.049+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:39.049+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:39.049+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [b5533b7e-62] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:39.049+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:39.050+08:00  INFO 68128 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:39.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:39.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, method=GET}
2025-08-10T12:35:39.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:39.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [b5533b7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:39.053+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-4, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:39.114+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:39.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [b5533b7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] Last HTTP response frame
2025-08-10T12:35:39.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [b5533b7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5882] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:39.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [b5533b7e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5882] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:39.115+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [b5533b7e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5882] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:40.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e1556968, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] New http connection, requesting read
2025-08-10T12:35:40.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [e1556968, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:40.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e1556968, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] Increasing pending responses count: 1
2025-08-10T12:35:40.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [e1556968-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:40.001+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:40.002+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:40.002+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [e1556968-63] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:40.002+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:40.003+08:00  INFO 68128 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:40.004+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:40.004+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, method=GET}
2025-08-10T12:35:40.004+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:40.004+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [e1556968-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:40.004+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-5, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 1 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e1556968-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] Last HTTP response frame
2025-08-10T12:35:40.109+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e1556968-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5887] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:40.110+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [e1556968-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5887] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:40.110+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [e1556968-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5887] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:41.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [15de722a-11, L:/192.168.0.18:5564 - R:/192.168.0.18:58070] Http client inbound receiver cancelled, closing channel.
2025-08-10T12:35:41.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [64ccab22-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5750] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:41.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [15de722a-11, L:/192.168.0.18:5564 ! R:/192.168.0.18:58070] Channel closed, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:41.528+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [15de722a-11, L:/192.168.0.18:5564 ! R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0x15de722a, L:/192.168.0.18:5564 ! R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:41.762+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [d39e49fe, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] New http connection, requesting read
2025-08-10T12:35:41.762+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [d39e49fe, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:41.762+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [d39e49fe, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] Increasing pending responses count: 1
2025-08-10T12:35:41.762+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [d39e49fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:41.763+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:35:41.763+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2d252aae, order = 2]], metadata={}}
2025-08-10T12:35:41.763+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [d39e49fe-64] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:41.763+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2d252aae, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:41.764+08:00  INFO 68128 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:41.765+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [d041efc7] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:41.766+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [d041efc7] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:41.766+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConnector     : [d041efc7] Connecting to [/172.22.64.1:58080].
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:35:41.767+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [d39e49fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:41.768+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [d041efc7-1, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:41.847+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [d39e49fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] Last HTTP response frame
2025-08-10T12:35:41.849+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [d39e49fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5905] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:41.849+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [d39e49fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5905] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:41.849+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [d39e49fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5905] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:41.883+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5ce01c88, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] New http connection, requesting read
2025-08-10T12:35:41.883+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [5ce01c88, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:41.883+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5ce01c88, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] Increasing pending responses count: 1
2025-08-10T12:35:41.884+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [5ce01c88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:41.884+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T12:35:41.884+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2d252aae, order = 2]], metadata={}}
2025-08-10T12:35:41.884+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [5ce01c88-65] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:41.884+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@2d252aae, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:41.887+08:00  INFO 68128 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:41.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:41.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T12:35:41.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T12:35:41.890+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [5ce01c88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:41.891+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T12:35:41.932+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:41.932+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [d041efc7-2, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [d041efc7, L:/172.22.64.1:5906 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5ce01c88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] Last HTTP response frame
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5ce01c88-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5907] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:41.933+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5ce01c88-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5907] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:41.934+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [5ce01c88-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5907] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:42.045+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [906100e5, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] New http connection, requesting read
2025-08-10T12:35:42.046+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [906100e5, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:42.046+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [906100e5, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] Increasing pending responses count: 1
2025-08-10T12:35:42.046+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [906100e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:42.047+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:42.047+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:42.047+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [906100e5-66] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:42.047+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:42.050+08:00  INFO 68128 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:42.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:42.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T12:35:42.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:42.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [906100e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:42.052+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:42.143+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:42.143+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-6, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:42.145+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [906100e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] Last HTTP response frame
2025-08-10T12:35:42.146+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [906100e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5910] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:42.146+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [906100e5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5910] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:42.146+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [906100e5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5910] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:42.157+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [a2852616, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] New http connection, requesting read
2025-08-10T12:35:42.157+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [a2852616, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:42.157+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [a2852616, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] Increasing pending responses count: 1
2025-08-10T12:35:42.157+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [a2852616-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:42.158+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:42.158+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:42.158+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [a2852616-67] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:42.158+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:42.162+08:00  INFO 68128 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:42.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:42.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T12:35:42.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:42.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [a2852616-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:42.164+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:42.196+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:42.196+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-7, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [a2852616-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] Last HTTP response frame
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [a2852616-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5915] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [a2852616-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5915] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:42.197+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [a2852616-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5915] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:42.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e2e1e04f, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] New http connection, requesting read
2025-08-10T12:35:42.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [e2e1e04f, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:42.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e2e1e04f, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] Increasing pending responses count: 1
2025-08-10T12:35:42.224+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [e2e1e04f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:42.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:42.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:42.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [e2e1e04f-68] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:42.225+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:42.227+08:00  INFO 68128 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:42.228+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:42.228+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T12:35:42.228+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:42.229+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [e2e1e04f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:35:42.229+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:42.259+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:42.259+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:42.260+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:42.260+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-8, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e2e1e04f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] Last HTTP response frame
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e2e1e04f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5916] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [e2e1e04f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5916] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:42.261+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [e2e1e04f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5916] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:43.339+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [e8d2e6a9, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] New http connection, requesting read
2025-08-10T12:35:43.339+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [e8d2e6a9, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:43.339+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [e8d2e6a9, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] Increasing pending responses count: 1
2025-08-10T12:35:43.339+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [e8d2e6a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:43.340+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:43.340+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:43.340+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [e8d2e6a9-69] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:43.340+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:43.342+08:00  INFO 68128 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:43.342+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:43.343+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, method=GET}
2025-08-10T12:35:43.343+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:43.343+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [e8d2e6a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:43.343+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-9, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [e8d2e6a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] Last HTTP response frame
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [e8d2e6a9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5918] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [e8d2e6a9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5918] Last HTTP packet was sent, terminating the channel
2025-08-10T12:35:43.488+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [e8d2e6a9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5918] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [92179103, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] New http connection, requesting read
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [92179103, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [92179103, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] Increasing pending responses count: 1
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [92179103-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/ai/chat] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:35:47.794+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [92179103-70] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:35:47.795+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:35:47.796+08:00  INFO 68128 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:35:47.798+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:35:47.798+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/ai/chat, method=POST}
2025-08-10T12:35:47.798+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:35:47.798+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [92179103-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:35:47.798+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:35:50.568+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:35:50.568+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:35:50.569+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:36:01.026+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-10, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(POST{uri=/ai/chat, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [92179103-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] Last HTTP response frame
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [92179103-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5950] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [92179103-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5950] Last HTTP packet was sent, terminating the channel
2025-08-10T12:36:01.027+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [92179103-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5950] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:36:06.955+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [1bf0bd34, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] New http connection, requesting read
2025-08-10T12:36:06.955+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [1bf0bd34, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:36:06.955+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [1bf0bd34, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] Increasing pending responses count: 1
2025-08-10T12:36:06.955+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [1bf0bd34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:36:06.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:36:06.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: DELETE http://127.0.0.1:57070/api/llm/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:36:06.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [1bf0bd34-71] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:36:06.956+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:36:06.957+08:00  INFO 68128 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:36:06.957+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:36:06.959+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, method=DELETE}
2025-08-10T12:36:06.959+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(DELETE{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:36:06.959+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [1bf0bd34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:36:06.959+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(DELETE{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:36:07.275+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:36:07.275+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(DELETE{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-11, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(DELETE{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(DELETE{uri=/model/history-conversation/abb78901-545e-444a-b0ae-cdf60b0cbf51, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [1bf0bd34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] Last HTTP response frame
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [1bf0bd34-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6034] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [1bf0bd34-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6034] Last HTTP packet was sent, terminating the channel
2025-08-10T12:36:07.276+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [1bf0bd34-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6034] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da83a4e8, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] New http connection, requesting read
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [da83a4e8, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da83a4e8, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] Increasing pending responses count: 1
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [da83a4e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2]], metadata={}}
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [da83a4e8-72] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@7a7b53ae
2025-08-10T12:36:07.283+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@58d4238e}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@52f8a6f4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@44dfdd58}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@c48b543}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001fb02753000@1f267de6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@72a8361b}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@681e913c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@29d070c7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@75793f17}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1eeb5818}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@36478bce}, order = 2147483647]]
2025-08-10T12:36:07.286+08:00  INFO 68128 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T12:36:07.287+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:36:07.287+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T12:36:07.287+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T12:36:07.287+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [da83a4e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:36:07.287+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T12:36:07.380+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:36:07.380+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T12:36:07.380+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [e5bfe1d2-12, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da83a4e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] Last HTTP response frame
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da83a4e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6037] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [e5bfe1d2, L:/192.168.0.18:5830 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da83a4e8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6037] Last HTTP packet was sent, terminating the channel
2025-08-10T12:36:07.381+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [da83a4e8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6037] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:36:42.386+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [d041efc7, L:/172.22.64.1:5906 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xd041efc7, L:/172.22.64.1:5906 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T12:37:07.770+08:00 DEBUG 68128 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [e5bfe1d2, L:/192.168.0.18:5830 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0xe5bfe1d2, L:/192.168.0.18:5830 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T12:37:12.310+08:00  WARN 68128 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T12:37:12.310+08:00  WARN 68128 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T12:37:12.310+08:00  WARN 68128 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T12:37:12.310+08:00  WARN 68128 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T12:37:12.310+08:00  WARN 68128 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T12:37:12.311+08:00  WARN 68128 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T12:37:12.312+08:00 DEBUG 68128 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [300a8547, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T12:37:14.378+08:00  INFO 68128 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T12:37:14.383+08:00  INFO 68128 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T12:38:43.365+08:00  INFO 135012 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:38:43.374+08:00  INFO 135012 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:38:43.374+08:00  INFO 135012 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T12:38:43.380+08:00  INFO 135012 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T12:38:43.572+08:00  INFO 135012 --- [gateway] [main] c.a.b.BlogGatewayApplicationTests        : Starting BlogGatewayApplicationTests using Java 21.0.7 with PID 135012 (started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T12:38:43.573+08:00  INFO 135012 --- [gateway] [main] c.a.b.BlogGatewayApplicationTests        : The following 1 profile is active: "route"
2025-08-10T12:38:44.420+08:00  INFO 135012 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=4e06b841-a854-39f9-b6f1-0ac695791dfa
2025-08-10T12:38:44.512+08:00  WARN 135012 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:38:44.514+08:00  WARN 135012 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:38:44.516+08:00  WARN 135012 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:38:44.517+08:00  WARN 135012 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:38:44.518+08:00  WARN 135012 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:38:45.270+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T12:38:45.430+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T12:38:45.430+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T12:38:45.431+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T12:38:45.431+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T12:38:45.431+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T12:38:45.432+08:00  INFO 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T12:38:45.539+08:00 DEBUG 135012 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T12:38:45.594+08:00 DEBUG 135012 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T12:38:45.731+08:00  WARN 135012 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T12:38:45.795+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:38:45.816+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:38:45.825+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.829+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.830+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:38:45.835+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:38:45.836+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:38:45.838+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:38:45.838+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.839+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.840+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:38:45.841+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:38:45.841+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:38:45.842+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:38:45.842+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.843+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.845+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:38:45.845+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:38:45.845+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:38:45.846+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:38:45.848+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.848+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:38:45.849+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:38:45.849+08:00 DEBUG 135012 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:38:45.857+08:00  INFO 135012 --- [gateway] [main] c.a.b.BlogGatewayApplicationTests        : Started BlogGatewayApplicationTests in 2.864 seconds (process running for 3.715)
2025-08-10T12:38:47.048+08:00  WARN 135012 --- [gateway] [Thread-3] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T12:38:47.049+08:00  WARN 135012 --- [gateway] [Thread-3] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T12:49:35.166+08:00  INFO 72664 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:49:35.171+08:00  INFO 72664 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:49:35.171+08:00  INFO 72664 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T12:49:35.179+08:00  INFO 72664 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T12:49:35.374+08:00  INFO 72664 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 72664 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T12:49:35.374+08:00  INFO 72664 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T12:49:36.042+08:00  INFO 72664 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T12:49:36.100+08:00  WARN 72664 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:49:36.104+08:00  WARN 72664 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:49:36.106+08:00  WARN 72664 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:49:36.106+08:00  WARN 72664 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:49:36.108+08:00  WARN 72664 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:49:36.684+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T12:49:36.800+08:00  INFO 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T12:49:36.863+08:00 DEBUG 72664 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T12:49:36.894+08:00 DEBUG 72664 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T12:49:37.010+08:00  WARN 72664 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T12:49:37.048+08:00 DEBUG 72664 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T12:49:37.048+08:00 DEBUG 72664 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@22da200e
2025-08-10T12:49:37.053+08:00 DEBUG 72664 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T12:49:37.083+08:00 DEBUG 72664 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T12:49:37.084+08:00 DEBUG 72664 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T12:49:37.155+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [a0936d4c, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T12:49:37.161+08:00  INFO 72664 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T12:49:37.213+08:00  INFO 72664 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T12:49:37.213+08:00  INFO 72664 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T12:49:37.828+08:00  INFO 72664 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T12:49:37.828+08:00  INFO 72664 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T12:49:37.828+08:00  INFO 72664 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T12:49:37.828+08:00  INFO 72664 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T12:49:37.869+08:00  INFO 72664 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T12:49:37.882+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:49:37.893+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.897+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.897+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.897+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.900+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:49:37.904+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:49:37.907+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.907+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.907+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.907+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.909+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:49:37.909+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:49:37.910+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.911+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.911+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.912+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.912+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:49:37.922+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:49:37.923+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.923+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.924+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.924+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:49:37.925+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:49:37.928+08:00 DEBUG 72664 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:49:37.928+08:00  INFO 72664 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 3.191 seconds (process running for 3.95)
2025-08-10T12:49:43.817+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3e1dc4d7, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] New http connection, requesting read
2025-08-10T12:49:43.817+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [3e1dc4d7, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:49:43.854+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3e1dc4d7, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] Increasing pending responses count: 1
2025-08-10T12:49:43.882+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [3e1dc4d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:49:44.104+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:49:44.108+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2]], metadata={}}
2025-08-10T12:49:44.109+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [3e1dc4d7-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:49:44.111+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:49:44.120+08:00  WARN 72664 --- [gateway] [reactor-http-nio-2] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/get-count
2025-08-10T12:49:44.125+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3e1dc4d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] Last HTTP response frame
2025-08-10T12:49:44.131+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3e1dc4d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] Headers are not sent before onComplete().
2025-08-10T12:49:44.132+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3e1dc4d7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11177] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:49:44.137+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3e1dc4d7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11177] Last HTTP packet was sent, terminating the channel
2025-08-10T12:49:44.138+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [3e1dc4d7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11177] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:49:44.139+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-2] r.n.channel.ChannelOperationsHandler     : [3e1dc4d7, L:/127.0.0.1:57070 ! R:/127.0.0.1:11177] No ChannelOperation attached.
2025-08-10T12:50:53.033+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1d72f0fb, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] New http connection, requesting read
2025-08-10T12:50:53.033+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [1d72f0fb, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:50:53.035+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1d72f0fb, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] Increasing pending responses count: 1
2025-08-10T12:50:53.035+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [1d72f0fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:50:53.035+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:50:53.036+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6766571c, order = 2]], metadata={}}
2025-08-10T12:50:53.036+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [1d72f0fb-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:50:53.036+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6766571c, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:50:53.036+08:00  WARN 72664 --- [gateway] [reactor-http-nio-3] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /model/list
2025-08-10T12:50:53.037+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1d72f0fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] Last HTTP response frame
2025-08-10T12:50:53.037+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1d72f0fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] Headers are not sent before onComplete().
2025-08-10T12:50:53.037+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1d72f0fb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11546] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:50:53.038+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [1d72f0fb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11546] Last HTTP packet was sent, terminating the channel
2025-08-10T12:50:53.038+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [1d72f0fb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11546] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:50:53.038+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [1d72f0fb, L:/127.0.0.1:57070 ! R:/127.0.0.1:11546] No ChannelOperation attached.
2025-08-10T12:51:01.735+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [ecafc112, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] New http connection, requesting read
2025-08-10T12:51:01.735+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [ecafc112, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:51:01.737+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [ecafc112, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] Increasing pending responses count: 1
2025-08-10T12:51:01.737+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [ecafc112-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:51:01.737+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:51:01.738+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2]], metadata={}}
2025-08-10T12:51:01.738+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [ecafc112-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:51:01.738+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:51:01.738+08:00  WARN 72664 --- [gateway] [reactor-http-nio-4] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /oss/public/count
2025-08-10T12:51:01.738+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [ecafc112-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] Last HTTP response frame
2025-08-10T12:51:01.738+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [ecafc112-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] Headers are not sent before onComplete().
2025-08-10T12:51:01.738+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [ecafc112-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11593] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:51:01.739+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [ecafc112-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11593] Last HTTP packet was sent, terminating the channel
2025-08-10T12:51:01.739+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [ecafc112-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11593] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:51:01.739+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-4] r.n.channel.ChannelOperationsHandler     : [ecafc112, L:/127.0.0.1:57070 ! R:/127.0.0.1:11593] No ChannelOperation attached.
2025-08-10T12:51:01.744+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d6ca4b7a, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] New http connection, requesting read
2025-08-10T12:51:01.744+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [d6ca4b7a, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:51:01.744+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d6ca4b7a, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] Increasing pending responses count: 1
2025-08-10T12:51:01.744+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [d6ca4b7a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2]], metadata={}}
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [d6ca4b7a-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:51:01.747+08:00  WARN 72664 --- [gateway] [reactor-http-nio-5] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /oss/public/list
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d6ca4b7a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] Last HTTP response frame
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d6ca4b7a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] Headers are not sent before onComplete().
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d6ca4b7a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11594] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [d6ca4b7a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11594] Last HTTP packet was sent, terminating the channel
2025-08-10T12:51:01.747+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [d6ca4b7a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11594] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:51:01.750+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-5] r.n.channel.ChannelOperationsHandler     : [d6ca4b7a, L:/127.0.0.1:57070 ! R:/127.0.0.1:11594] No ChannelOperation attached.
2025-08-10T12:51:06.235+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [eee21f0e, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] New http connection, requesting read
2025-08-10T12:51:06.235+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [eee21f0e, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:51:06.237+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [eee21f0e, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] Increasing pending responses count: 1
2025-08-10T12:51:06.237+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [eee21f0e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:51:06.238+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:51:06.238+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2]], metadata={}}
2025-08-10T12:51:06.238+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [eee21f0e-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:51:06.238+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:51:06.238+08:00  WARN 72664 --- [gateway] [reactor-http-nio-6] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/get-count
2025-08-10T12:51:06.239+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [eee21f0e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] Last HTTP response frame
2025-08-10T12:51:06.239+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [eee21f0e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] Headers are not sent before onComplete().
2025-08-10T12:51:06.239+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [eee21f0e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11621] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:51:06.239+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [eee21f0e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11621] Last HTTP packet was sent, terminating the channel
2025-08-10T12:51:06.239+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [eee21f0e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11621] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:51:06.239+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-6] r.n.channel.ChannelOperationsHandler     : [eee21f0e, L:/127.0.0.1:57070 ! R:/127.0.0.1:11621] No ChannelOperation attached.
2025-08-10T12:51:07.416+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [dcc94334, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] New http connection, requesting read
2025-08-10T12:51:07.416+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [dcc94334, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [dcc94334, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] Increasing pending responses count: 1
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [dcc94334-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2]], metadata={}}
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [dcc94334-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:51:07.419+08:00  WARN 72664 --- [gateway] [reactor-http-nio-7] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/list-top
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [dcc94334-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] Last HTTP response frame
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [dcc94334-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] Headers are not sent before onComplete().
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [dcc94334-1, L:/127.0.0.1:57070 - R:/127.0.0.1:11732] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [dcc94334-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11732] Last HTTP packet was sent, terminating the channel
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [dcc94334-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:11732] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:51:07.419+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-7] r.n.channel.ChannelOperationsHandler     : [dcc94334, L:/127.0.0.1:57070 ! R:/127.0.0.1:11732] No ChannelOperation attached.
2025-08-10T12:53:14.392+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4800bfec, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] New http connection, requesting read
2025-08-10T12:53:14.392+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [4800bfec, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:53:14.394+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4800bfec, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] Increasing pending responses count: 1
2025-08-10T12:53:14.394+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [4800bfec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:53:14.396+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:53:14.396+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2]], metadata={}}
2025-08-10T12:53:14.396+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [4800bfec-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:53:14.397+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@6797a393, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:53:14.397+08:00  WARN 72664 --- [gateway] [reactor-http-nio-8] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/list-top
2025-08-10T12:53:14.397+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4800bfec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] Last HTTP response frame
2025-08-10T12:53:14.397+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4800bfec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] Headers are not sent before onComplete().
2025-08-10T12:53:14.397+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4800bfec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12799] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:53:14.397+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [4800bfec-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12799] Last HTTP packet was sent, terminating the channel
2025-08-10T12:53:14.398+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [4800bfec-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12799] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:53:14.399+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-8] r.n.channel.ChannelOperationsHandler     : [4800bfec, L:/127.0.0.1:57070 ! R:/127.0.0.1:12799] No ChannelOperation attached.
2025-08-10T12:53:21.331+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [4d61fb0c, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] New http connection, requesting read
2025-08-10T12:53:21.331+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [4d61fb0c, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:53:21.333+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [4d61fb0c, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] Increasing pending responses count: 1
2025-08-10T12:53:21.333+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [4d61fb0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2]], metadata={}}
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [4d61fb0c-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:53:21.334+08:00  WARN 72664 --- [gateway] [reactor-http-nio-9] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /oss/public/count
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [4d61fb0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] Last HTTP response frame
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [4d61fb0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] Headers are not sent before onComplete().
2025-08-10T12:53:21.334+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [4d61fb0c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12849] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:53:21.336+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [4d61fb0c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12849] Last HTTP packet was sent, terminating the channel
2025-08-10T12:53:21.336+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [4d61fb0c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12849] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:53:21.336+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-9] r.n.channel.ChannelOperationsHandler     : [4d61fb0c, L:/127.0.0.1:57070 ! R:/127.0.0.1:12849] No ChannelOperation attached.
2025-08-10T12:53:21.343+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [fd77946c, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] New http connection, requesting read
2025-08-10T12:53:21.343+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [fd77946c, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:53:21.345+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [fd77946c, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] Increasing pending responses count: 1
2025-08-10T12:53:21.345+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [fd77946c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@27a8be76
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2]], metadata={}}
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [fd77946c-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@706b0aa0
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@46468f0}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002030174ab98@2acc6d26, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T12:53:21.346+08:00  WARN 72664 --- [gateway] [reactor-http-nio-10] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /oss/public/list
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [fd77946c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] Last HTTP response frame
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [fd77946c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] Headers are not sent before onComplete().
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [fd77946c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:12850] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [fd77946c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12850] Last HTTP packet was sent, terminating the channel
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [fd77946c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:12850] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:53:21.346+08:00 DEBUG 72664 --- [gateway] [reactor-http-nio-10] r.n.channel.ChannelOperationsHandler     : [fd77946c, L:/127.0.0.1:57070 ! R:/127.0.0.1:12850] No ChannelOperation attached.
2025-08-10T12:53:52.146+08:00  WARN 72664 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T12:53:52.146+08:00  WARN 72664 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T12:53:52.146+08:00  WARN 72664 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T12:53:52.146+08:00  WARN 72664 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T12:53:52.146+08:00  WARN 72664 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T12:53:52.146+08:00  WARN 72664 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T12:53:52.147+08:00 DEBUG 72664 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [a0936d4c, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T12:53:54.201+08:00  INFO 72664 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T12:53:54.206+08:00  INFO 72664 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T12:53:57.659+08:00  INFO 36000 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:53:57.665+08:00  INFO 36000 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:53:57.666+08:00  INFO 36000 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T12:53:57.672+08:00  INFO 36000 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T12:53:57.846+08:00  INFO 36000 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 36000 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T12:53:57.847+08:00  INFO 36000 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T12:53:58.412+08:00  INFO 36000 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T12:53:58.457+08:00  WARN 36000 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:53:58.458+08:00  WARN 36000 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:53:58.459+08:00  WARN 36000 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:53:58.460+08:00  WARN 36000 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:53:58.461+08:00  WARN 36000 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:53:58.908+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/list}}, PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/count}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T12:53:59.003+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T12:53:59.004+08:00  INFO 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T12:53:59.097+08:00 DEBUG 36000 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T12:53:59.168+08:00 DEBUG 36000 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T12:53:59.319+08:00  WARN 36000 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T12:53:59.366+08:00 DEBUG 36000 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T12:53:59.367+08:00 DEBUG 36000 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@55adcf9e
2025-08-10T12:53:59.377+08:00 DEBUG 36000 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T12:53:59.415+08:00 DEBUG 36000 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T12:53:59.415+08:00 DEBUG 36000 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T12:53:59.495+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [0ebc8e3b, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T12:53:59.496+08:00  INFO 36000 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T12:53:59.544+08:00  INFO 36000 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T12:53:59.544+08:00  INFO 36000 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T12:54:00.126+08:00  INFO 36000 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T12:54:00.127+08:00  INFO 36000 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T12:54:00.128+08:00  INFO 36000 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T12:54:00.129+08:00  INFO 36000 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T12:54:00.172+08:00  INFO 36000 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T12:54:00.184+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/list} to Path
2025-08-10T12:54:00.195+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/count} to Path
2025-08-10T12:54:00.196+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.202+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.203+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.205+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:54:00.205+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:54:00.206+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.207+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.207+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.208+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:54:00.208+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:54:00.208+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.209+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.209+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.210+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:54:00.213+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:54:00.214+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:54:00.215+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.216+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.217+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.218+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:54:00.219+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:54:00.219+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:54:00.220+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.220+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.221+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.222+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:54:00.222+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:54:00.232+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/list} to Path
2025-08-10T12:54:00.232+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/count} to Path
2025-08-10T12:54:00.233+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.234+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.234+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.234+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:54:00.234+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:54:00.235+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.235+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.236+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.236+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:54:00.236+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:54:00.237+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.237+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.237+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.238+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:54:00.238+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:54:00.238+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:54:00.239+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.239+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.239+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.239+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:54:00.239+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:54:00.240+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:54:00.240+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:54:00.240+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.241+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:54:00.242+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:54:00.242+08:00 DEBUG 36000 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:54:00.244+08:00  INFO 36000 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.941 seconds (process running for 3.469)
2025-08-10T12:54:04.433+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [86291d0b, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] New http connection, requesting read
2025-08-10T12:54:04.433+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [86291d0b, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:54:04.462+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [86291d0b, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] Increasing pending responses count: 1
2025-08-10T12:54:04.482+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [86291d0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@36473713
2025-08-10T12:54:04.534+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:54:04.538+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002530175a7b0@7f09f569, order = 2]], metadata={}}
2025-08-10T12:54:04.539+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [86291d0b-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@58441297
2025-08-10T12:54:04.540+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5dbab232}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@682e422c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7a606260}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2055833f}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002530175a7b0@7f09f569, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5939e24}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@656842bc}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@6b867ee7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@28768e25}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3dec3f87}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@595f9916}, order = 2147483647]]
2025-08-10T12:54:04.553+08:00  WARN 36000 --- [gateway] [reactor-http-nio-2] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /oss/public/count
2025-08-10T12:54:04.558+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [86291d0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] Last HTTP response frame
2025-08-10T12:54:04.558+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [86291d0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] Headers are not sent before onComplete().
2025-08-10T12:54:04.560+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [86291d0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13176] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:54:04.565+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [86291d0b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13176] Last HTTP packet was sent, terminating the channel
2025-08-10T12:54:04.566+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [86291d0b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13176] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:54:04.569+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-2] r.n.channel.ChannelOperationsHandler     : [86291d0b, L:/127.0.0.1:57070 ! R:/127.0.0.1:13176] No ChannelOperation attached.
2025-08-10T12:54:04.592+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [8abc7b48, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] New http connection, requesting read
2025-08-10T12:54:04.592+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [8abc7b48, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:54:04.595+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [8abc7b48, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] Increasing pending responses count: 1
2025-08-10T12:54:04.595+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [8abc7b48-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@36473713
2025-08-10T12:54:04.596+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T12:54:04.597+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002530175a7b0@7f09f569, order = 2]], metadata={}}
2025-08-10T12:54:04.597+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [8abc7b48-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@58441297
2025-08-10T12:54:04.597+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5dbab232}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@682e422c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@7a606260}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2055833f}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002530175a7b0@7f09f569, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@5939e24}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@656842bc}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@6b867ee7}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@28768e25}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@3dec3f87}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@595f9916}, order = 2147483647]]
2025-08-10T12:54:04.598+08:00  WARN 36000 --- [gateway] [reactor-http-nio-3] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /oss/public/list
2025-08-10T12:54:04.599+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [8abc7b48-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] Last HTTP response frame
2025-08-10T12:54:04.600+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [8abc7b48-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] Headers are not sent before onComplete().
2025-08-10T12:54:04.600+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [8abc7b48-1, L:/127.0.0.1:57070 - R:/127.0.0.1:13178] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:54:04.601+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [8abc7b48-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13178] Last HTTP packet was sent, terminating the channel
2025-08-10T12:54:04.601+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [8abc7b48-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:13178] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:54:04.604+08:00 DEBUG 36000 --- [gateway] [reactor-http-nio-3] r.n.channel.ChannelOperationsHandler     : [8abc7b48, L:/127.0.0.1:57070 ! R:/127.0.0.1:13178] No ChannelOperation attached.
2025-08-10T12:56:35.712+08:00  WARN 36000 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T12:56:35.712+08:00  WARN 36000 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T12:56:35.712+08:00  WARN 36000 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T12:56:35.712+08:00  WARN 36000 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T12:56:35.714+08:00  WARN 36000 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T12:56:35.714+08:00  WARN 36000 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T12:56:35.715+08:00 DEBUG 36000 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [0ebc8e3b, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T12:56:37.774+08:00  INFO 36000 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T12:56:37.779+08:00  INFO 36000 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T12:56:40.962+08:00  INFO 10852 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:56:40.969+08:00  INFO 10852 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:56:40.971+08:00  INFO 10852 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T12:56:40.977+08:00  INFO 10852 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T12:56:41.168+08:00  INFO 10852 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 10852 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T12:56:41.168+08:00  INFO 10852 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T12:56:41.893+08:00  INFO 10852 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T12:56:41.935+08:00  WARN 10852 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:56:41.936+08:00  WARN 10852 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:56:41.937+08:00  WARN 10852 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:56:41.938+08:00  WARN 10852 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:56:41.939+08:00  WARN 10852 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:56:42.373+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T12:56:42.461+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T12:56:42.462+08:00  INFO 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T12:56:42.531+08:00 DEBUG 10852 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T12:56:42.559+08:00 DEBUG 10852 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T12:56:42.652+08:00  WARN 10852 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T12:56:42.687+08:00 DEBUG 10852 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T12:56:42.688+08:00 DEBUG 10852 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@609b041c
2025-08-10T12:56:42.694+08:00 DEBUG 10852 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T12:56:42.722+08:00 DEBUG 10852 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T12:56:42.723+08:00 DEBUG 10852 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T12:56:42.804+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [f833fb78, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T12:56:42.805+08:00  INFO 10852 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T12:56:42.856+08:00  INFO 10852 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T12:56:42.856+08:00  INFO 10852 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T12:56:43.413+08:00  INFO 10852 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T12:56:43.414+08:00  INFO 10852 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T12:56:43.415+08:00  INFO 10852 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T12:56:43.416+08:00  INFO 10852 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T12:56:43.450+08:00  INFO 10852 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T12:56:43.461+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T12:56:43.471+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.477+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.478+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.480+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:56:43.480+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:56:43.480+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.481+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.481+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.482+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:56:43.482+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:56:43.483+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.483+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.484+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.484+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:56:43.486+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:56:43.487+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:56:43.487+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.487+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.488+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.488+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:56:43.488+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:56:43.488+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:56:43.488+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.490+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.490+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.490+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:56:43.490+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:56:43.499+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T12:56:43.500+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.501+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.501+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.501+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:56:43.501+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:56:43.503+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.503+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.504+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.504+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:56:43.504+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:56:43.505+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.505+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.506+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.506+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:56:43.506+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:56:43.506+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:56:43.507+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.507+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.508+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.508+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:56:43.508+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:56:43.508+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:56:43.510+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:56:43.510+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.510+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:56:43.511+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:56:43.511+08:00 DEBUG 10852 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:56:43.513+08:00  INFO 10852 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.931 seconds (process running for 3.445)
2025-08-10T12:58:01.409+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [918f26c0, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] New http connection, requesting read
2025-08-10T12:58:01.411+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [918f26c0, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:58:01.441+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [918f26c0, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] Increasing pending responses count: 1
2025-08-10T12:58:01.456+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [918f26c0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:58:01.513+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T12:58:01.517+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:58:01.519+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [918f26c0-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32f1e
2025-08-10T12:58:01.521+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@39d77de9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@539c4830}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ea7bc4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7a64cb0c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@696fad31}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@75793f17}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4652c74d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@785ed99c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4cc12db2}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2c06b113}, order = 2147483647]]
2025-08-10T12:58:01.593+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T12:58:01.595+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:58:01.596+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.598+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.599+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:58:01.599+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:58:01.600+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:58:01.602+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.602+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.604+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:58:01.604+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:58:01.606+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:58:01.607+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.608+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.608+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:58:01.610+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:58:01.610+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:58:01.611+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:58:01.612+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.617+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.618+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:58:01.622+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:58:01.622+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:58:01.623+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:58:01.626+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.630+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:58:01.630+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:58:01.632+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:58:01.807+08:00 DEBUG 10852 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58012]
2025-08-10T12:58:01.827+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:01.835+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [dbe48b42] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:58:01.856+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [dbe48b42] Connecting to [/192.168.0.18:58012].
2025-08-10T12:58:01.860+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T12:58:01.861+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:01.861+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T12:58:01.866+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T12:58:01.867+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T12:58:01.868+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:58:01.870+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [918f26c0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:58:01.877+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:58:02.058+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:58:02.058+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:58:02.071+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:58:02.081+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [dbe48b42-1, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:58:02.082+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:58:02.082+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:58:02.082+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:58:02.085+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:02.089+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [918f26c0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] Last HTTP response frame
2025-08-10T12:58:02.091+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [918f26c0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14681] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:58:02.093+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [918f26c0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14681] Last HTTP packet was sent, terminating the channel
2025-08-10T12:58:02.093+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [918f26c0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14681] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:58:02.110+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [dcab67fe, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] New http connection, requesting read
2025-08-10T12:58:02.110+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [dcab67fe, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:58:02.113+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [dcab67fe, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] Increasing pending responses count: 1
2025-08-10T12:58:02.115+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [dcab67fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:58:02.115+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T12:58:02.115+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:58:02.115+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [dcab67fe-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32f1e
2025-08-10T12:58:02.115+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@39d77de9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@539c4830}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ea7bc4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7a64cb0c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@696fad31}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@75793f17}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4652c74d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@785ed99c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4cc12db2}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2c06b113}, order = 2147483647]]
2025-08-10T12:58:02.118+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:02.119+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T12:58:02.120+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:58:02.121+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [dcab67fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:58:02.124+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:58:02.198+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:58:02.198+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:58:02.200+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:58:02.201+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [dbe48b42-2, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:58:02.201+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:58:02.201+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:58:02.201+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:58:02.201+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:02.203+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [dcab67fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] Last HTTP response frame
2025-08-10T12:58:02.204+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [dcab67fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14687] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:58:02.204+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [dcab67fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14687] Last HTTP packet was sent, terminating the channel
2025-08-10T12:58:02.204+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [dcab67fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14687] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:58:06.501+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [c9a2a4bf, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] New http connection, requesting read
2025-08-10T12:58:06.501+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [c9a2a4bf, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:58:06.503+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [c9a2a4bf, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] Increasing pending responses count: 1
2025-08-10T12:58:06.504+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [c9a2a4bf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:58:06.504+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T12:58:06.504+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/download/url] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:58:06.504+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [c9a2a4bf-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32f1e
2025-08-10T12:58:06.504+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@39d77de9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@539c4830}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ea7bc4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7a64cb0c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@696fad31}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@75793f17}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4652c74d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@785ed99c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4cc12db2}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2c06b113}, order = 2147483647]]
2025-08-10T12:58:06.506+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:06.506+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/download/url, method=POST}
2025-08-10T12:58:06.506+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T12:58:06.507+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c9a2a4bf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:58:06.508+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T12:58:06.514+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:58:06.514+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T12:58:06.515+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:58:06.515+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [dbe48b42-3, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T12:58:06.515+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T12:58:06.515+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/download/url, connection=PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T12:58:06.515+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T12:58:06.516+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [dbe48b42, L:/192.168.0.18:14684 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:58:06.516+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [c9a2a4bf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] Last HTTP response frame
2025-08-10T12:58:06.516+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [c9a2a4bf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14716] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:58:06.516+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [c9a2a4bf-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14716] Last HTTP packet was sent, terminating the channel
2025-08-10T12:58:06.516+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [c9a2a4bf-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14716] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:58:21.594+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [337c45c5, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] New http connection, requesting read
2025-08-10T12:58:21.594+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [337c45c5, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:58:21.596+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [337c45c5, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] Increasing pending responses count: 1
2025-08-10T12:58:21.596+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [337c45c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:58:21.597+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T12:58:21.597+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002430177c3b0@1f2becbb, order = 2]], metadata={}}
2025-08-10T12:58:21.598+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [337c45c5-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32f1e
2025-08-10T12:58:21.598+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@39d77de9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@539c4830}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ea7bc4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7a64cb0c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002430177c3b0@1f2becbb, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@696fad31}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@75793f17}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4652c74d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@785ed99c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4cc12db2}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2c06b113}, order = 2147483647]]
2025-08-10T12:58:21.598+08:00  WARN 10852 --- [gateway] [reactor-http-nio-7] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /model/list
2025-08-10T12:58:21.598+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [337c45c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] Last HTTP response frame
2025-08-10T12:58:21.598+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [337c45c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] Headers are not sent before onComplete().
2025-08-10T12:58:21.599+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [337c45c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14823] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:58:21.599+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [337c45c5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14823] Last HTTP packet was sent, terminating the channel
2025-08-10T12:58:21.599+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [337c45c5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14823] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:58:21.599+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-7] r.n.channel.ChannelOperationsHandler     : [337c45c5, L:/127.0.0.1:57070 ! R:/127.0.0.1:14823] No ChannelOperation attached.
2025-08-10T12:58:29.348+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [0c0e90b3, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] New http connection, requesting read
2025-08-10T12:58:29.348+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [0c0e90b3, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:58:29.355+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [0c0e90b3, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] Increasing pending responses count: 1
2025-08-10T12:58:29.357+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [0c0e90b3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:58:29.358+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:58:29.358+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002430177c3b0@7369c32b, order = 2]], metadata={}}
2025-08-10T12:58:29.358+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [0c0e90b3-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32f1e
2025-08-10T12:58:29.358+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@39d77de9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@539c4830}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ea7bc4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7a64cb0c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002430177c3b0@7369c32b, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@696fad31}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@75793f17}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4652c74d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@785ed99c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4cc12db2}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2c06b113}, order = 2147483647]]
2025-08-10T12:58:29.359+08:00  WARN 10852 --- [gateway] [reactor-http-nio-8] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/list-top
2025-08-10T12:58:29.359+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [0c0e90b3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] Last HTTP response frame
2025-08-10T12:58:29.359+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [0c0e90b3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] Headers are not sent before onComplete().
2025-08-10T12:58:29.359+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [0c0e90b3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14868] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:58:29.360+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [0c0e90b3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14868] Last HTTP packet was sent, terminating the channel
2025-08-10T12:58:29.361+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [0c0e90b3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14868] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:58:29.361+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-8] r.n.channel.ChannelOperationsHandler     : [0c0e90b3, L:/127.0.0.1:57070 ! R:/127.0.0.1:14868] No ChannelOperation attached.
2025-08-10T12:59:06.870+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [dbe48b42, L:/192.168.0.18:14684 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0xdbe48b42, L:/192.168.0.18:14684 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T12:59:35.006+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2ca8cabd, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] New http connection, requesting read
2025-08-10T12:59:35.006+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [2ca8cabd, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:59:35.008+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2ca8cabd, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] Increasing pending responses count: 1
2025-08-10T12:59:35.009+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [2ca8cabd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@297bb512
2025-08-10T12:59:35.009+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T12:59:35.010+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002430177c3b0@7369c32b, order = 2]], metadata={}}
2025-08-10T12:59:35.010+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [2ca8cabd-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@2c32f1e
2025-08-10T12:59:35.010+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@39d77de9}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@539c4830}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@5ea7bc4}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@7a64cb0c}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000002430177c3b0@7369c32b, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@696fad31}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@75793f17}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@4652c74d}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@785ed99c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4cc12db2}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@2c06b113}, order = 2147483647]]
2025-08-10T12:59:35.010+08:00  WARN 10852 --- [gateway] [reactor-http-nio-9] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/list-top
2025-08-10T12:59:35.011+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2ca8cabd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] Last HTTP response frame
2025-08-10T12:59:35.011+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2ca8cabd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] Headers are not sent before onComplete().
2025-08-10T12:59:35.011+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2ca8cabd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1381] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:59:35.012+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [2ca8cabd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1381] Last HTTP packet was sent, terminating the channel
2025-08-10T12:59:35.012+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [2ca8cabd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1381] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T12:59:35.012+08:00 DEBUG 10852 --- [gateway] [reactor-http-nio-9] r.n.channel.ChannelOperationsHandler     : [2ca8cabd, L:/127.0.0.1:57070 ! R:/127.0.0.1:1381] No ChannelOperation attached.
2025-08-10T12:59:39.818+08:00  WARN 10852 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T12:59:39.818+08:00  WARN 10852 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T12:59:39.818+08:00  WARN 10852 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T12:59:39.818+08:00  WARN 10852 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T12:59:39.818+08:00  WARN 10852 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T12:59:39.818+08:00  WARN 10852 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T12:59:39.818+08:00 DEBUG 10852 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [f833fb78, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T12:59:41.887+08:00  INFO 10852 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T12:59:41.893+08:00  INFO 10852 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T12:59:44.862+08:00  INFO 139592 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:59:44.867+08:00  INFO 139592 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T12:59:44.869+08:00  INFO 139592 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T12:59:44.874+08:00  INFO 139592 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T12:59:45.040+08:00  INFO 139592 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 139592 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T12:59:45.042+08:00  INFO 139592 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T12:59:45.714+08:00  INFO 139592 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T12:59:45.766+08:00  WARN 139592 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:59:45.768+08:00  WARN 139592 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:59:45.769+08:00  WARN 139592 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T12:59:45.770+08:00  WARN 139592 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:59:45.771+08:00  WARN 139592 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T12:59:46.204+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='public-blog-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/blog/list-top}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://blog-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T12:59:46.289+08:00  INFO 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T12:59:46.354+08:00 DEBUG 139592 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T12:59:46.380+08:00 DEBUG 139592 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T12:59:46.490+08:00  WARN 139592 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T12:59:46.534+08:00 DEBUG 139592 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T12:59:46.534+08:00 DEBUG 139592 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@42730828
2025-08-10T12:59:46.542+08:00 DEBUG 139592 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T12:59:46.573+08:00 DEBUG 139592 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T12:59:46.575+08:00 DEBUG 139592 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T12:59:46.655+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [81a17a3e, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T12:59:46.656+08:00  INFO 139592 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T12:59:46.712+08:00  INFO 139592 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T12:59:46.712+08:00  INFO 139592 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T12:59:47.258+08:00  INFO 139592 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T12:59:47.260+08:00  INFO 139592 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T12:59:47.261+08:00  INFO 139592 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T12:59:47.261+08:00  INFO 139592 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T12:59:47.296+08:00  INFO 139592 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T12:59:47.308+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T12:59:47.320+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.326+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.329+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.330+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:59:47.331+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top} to Path
2025-08-10T12:59:47.331+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.332+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.333+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.333+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T12:59:47.333+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:59:47.334+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.335+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.336+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.336+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:59:47.336+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:59:47.338+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.338+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.338+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.339+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:47.341+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:59:47.341+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:59:47.343+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.344+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.344+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.345+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:47.346+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:59:47.346+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:59:47.346+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.347+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.347+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.348+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:47.348+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:59:47.357+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T12:59:47.359+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.360+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.360+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.361+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:59:47.361+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top} to Path
2025-08-10T12:59:47.362+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.363+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.363+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.364+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T12:59:47.364+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:59:47.364+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.365+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.365+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.366+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:59:47.366+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:59:47.366+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.366+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.367+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.368+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:47.368+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:59:47.368+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:59:47.369+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.369+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.370+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.370+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:47.371+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:59:47.371+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:59:47.371+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:47.371+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.373+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:47.374+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:47.374+08:00 DEBUG 139592 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:59:47.377+08:00  INFO 139592 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.904 seconds (process running for 3.433)
2025-08-10T12:59:55.944+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [265695fe, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] New http connection, requesting read
2025-08-10T12:59:55.945+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [265695fe, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:59:55.968+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [265695fe, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] Increasing pending responses count: 1
2025-08-10T12:59:55.977+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [265695fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@7ffdd2be
2025-08-10T12:59:56.017+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T12:59:56.020+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T12:59:56.021+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [265695fe-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@76fab60e
2025-08-10T12:59:56.023+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@272778ae}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@238291d4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@29bbc63c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@743c3520}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@2cccf134}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@785ed99c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@6c4ce583}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6842c101}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@755b5f30}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3c18942}, order = 2147483647]]
2025-08-10T12:59:56.075+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T12:59:56.076+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:56.077+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.078+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.079+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T12:59:56.079+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top} to Path
2025-08-10T12:59:56.080+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:56.080+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.081+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.082+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T12:59:56.082+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T12:59:56.082+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:56.083+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.083+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.084+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T12:59:56.084+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T12:59:56.084+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:56.085+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.086+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.087+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:56.087+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T12:59:56.087+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T12:59:56.088+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:56.089+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.089+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.090+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:56.090+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T12:59:56.090+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T12:59:56.091+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T12:59:56.092+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.092+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T12:59:56.093+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T12:59:56.093+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T12:59:56.240+08:00 DEBUG 139592 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T12:59:56.258+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [d1c56b19] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:59:56.266+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [d1c56b19] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T12:59:56.289+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [d1c56b19] Connecting to [/172.22.64.1:58050].
2025-08-10T12:59:56.294+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T12:59:56.295+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T12:59:56.296+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T12:59:56.301+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T12:59:56.303+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T12:59:56.304+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T12:59:56.316+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [265695fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T12:59:56.321+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T12:59:56.596+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T12:59:56.596+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T12:59:56.601+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T12:59:56.605+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [d1c56b19-1, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T12:59:56.605+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T12:59:56.607+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T12:59:56.607+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T12:59:56.608+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [d1c56b19, L:/172.22.64.1:1501 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T12:59:56.611+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [265695fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] Last HTTP response frame
2025-08-10T12:59:56.611+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [265695fe-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1498] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T12:59:56.612+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [265695fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1498] Last HTTP packet was sent, terminating the channel
2025-08-10T12:59:56.613+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [265695fe-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1498] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:00:13.468+08:00  WARN 139592 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T13:00:13.468+08:00  WARN 139592 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T13:00:13.468+08:00  WARN 139592 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T13:00:13.469+08:00  WARN 139592 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T13:00:13.469+08:00  WARN 139592 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T13:00:13.469+08:00  WARN 139592 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T13:00:13.471+08:00 DEBUG 139592 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [81a17a3e, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T13:00:13.475+08:00 DEBUG 139592 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [d1c56b19, L:/172.22.64.1:1501 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xd1c56b19, L:/172.22.64.1:1501 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:00:15.524+08:00  INFO 139592 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T13:00:15.529+08:00  INFO 139592 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T13:00:17.981+08:00  INFO 151016 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:00:17.989+08:00  INFO 151016 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:00:17.990+08:00  INFO 151016 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T13:00:17.995+08:00  INFO 151016 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T13:00:18.180+08:00  INFO 151016 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 151016 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T13:00:18.181+08:00  INFO 151016 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T13:00:18.776+08:00  INFO 151016 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T13:00:18.827+08:00  WARN 151016 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:00:18.829+08:00  WARN 151016 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:00:18.830+08:00  WARN 151016 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:00:18.831+08:00  WARN 151016 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:00:18.832+08:00  WARN 151016 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:00:19.287+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='public-blog-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://blog-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T13:00:19.375+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T13:00:19.377+08:00  INFO 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T13:00:19.447+08:00 DEBUG 151016 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T13:00:19.489+08:00 DEBUG 151016 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T13:00:19.654+08:00  WARN 151016 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T13:00:19.693+08:00 DEBUG 151016 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T13:00:19.693+08:00 DEBUG 151016 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@4ce267cc
2025-08-10T13:00:19.703+08:00 DEBUG 151016 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T13:00:19.732+08:00 DEBUG 151016 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T13:00:19.733+08:00 DEBUG 151016 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T13:00:19.827+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [3e964824, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T13:00:19.827+08:00  INFO 151016 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T13:00:19.889+08:00  INFO 151016 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T13:00:19.890+08:00  INFO 151016 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T13:00:20.397+08:00  INFO 151016 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T13:00:20.397+08:00  INFO 151016 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T13:00:20.398+08:00  INFO 151016 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T13:00:20.398+08:00  INFO 151016 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T13:00:20.434+08:00  INFO 151016 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T13:00:20.447+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:00:20.458+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.464+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.467+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.469+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:00:20.469+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count} to Path
2025-08-10T13:00:20.470+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.470+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.472+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.472+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:00:20.473+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:00:20.473+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.473+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.473+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.475+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:00:20.475+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:00:20.475+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.476+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.476+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.477+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:20.479+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:00:20.480+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:00:20.481+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.481+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.482+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.482+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:20.483+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:00:20.483+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:00:20.484+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.484+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.485+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.485+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:20.485+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:00:20.494+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:00:20.496+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.496+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.497+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.497+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:00:20.497+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count} to Path
2025-08-10T13:00:20.497+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.498+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.498+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.498+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:00:20.499+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:00:20.499+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.499+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.500+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.500+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:00:20.500+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:00:20.500+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.500+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.500+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.501+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:20.501+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:00:20.501+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:00:20.501+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.503+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.503+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.503+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:20.504+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:00:20.504+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:00:20.505+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:20.505+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.505+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:20.505+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:20.506+08:00 DEBUG 151016 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:00:20.508+08:00  INFO 151016 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.934 seconds (process running for 3.406)
2025-08-10T13:00:24.509+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d68cda9d, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] New http connection, requesting read
2025-08-10T13:00:24.509+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [d68cda9d, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:00:24.533+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d68cda9d, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] Increasing pending responses count: 1
2025-08-10T13:00:24.546+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [d68cda9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@35d819e2
2025-08-10T13:00:24.591+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:00:24.595+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:00:24.596+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [d68cda9d-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46a98fee
2025-08-10T13:00:24.598+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6c4ce583}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@238291d4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@785ed99c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@272778ae}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@755b5f30}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@696fad31}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@2c06b113}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2cccf134}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7a64cb0c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29bbc63c}, order = 2147483647]]
2025-08-10T13:00:24.659+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:00:24.660+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:24.661+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.663+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.664+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:00:24.664+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count} to Path
2025-08-10T13:00:24.665+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:24.666+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.668+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.669+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:00:24.669+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:00:24.670+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:24.672+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.672+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.676+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:00:24.676+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:00:24.678+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:24.685+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.688+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.688+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:24.689+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:00:24.689+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:00:24.690+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:24.692+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.694+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.695+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:24.697+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:00:24.697+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:00:24.698+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:24.699+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.701+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:24.703+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:24.704+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:00:24.892+08:00 DEBUG 151016 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T13:00:24.909+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [ca154a00] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:24.916+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [ca154a00] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:00:24.933+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [ca154a00] Connecting to [/172.22.64.1:58050].
2025-08-10T13:00:24.938+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:00:24.938+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:24.939+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:00:24.942+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:00:24.943+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T13:00:24.945+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:00:24.956+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [d68cda9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:00:24.959+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:00:25.162+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:00:25.162+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:00:25.165+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:00:25.169+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [ca154a00-1, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:00:25.169+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:00:25.169+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:00:25.169+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:00:25.170+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:25.172+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d68cda9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] Last HTTP response frame
2025-08-10T13:00:25.172+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d68cda9d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1715] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:00:25.173+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d68cda9d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1715] Last HTTP packet was sent, terminating the channel
2025-08-10T13:00:25.173+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [d68cda9d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1715] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:00:27.741+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2ce96867, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] New http connection, requesting read
2025-08-10T13:00:27.741+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [2ce96867, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:00:27.743+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2ce96867, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] Increasing pending responses count: 1
2025-08-10T13:00:27.743+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [2ce96867-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@35d819e2
2025-08-10T13:00:27.744+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:00:27.744+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:00:27.744+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [2ce96867-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46a98fee
2025-08-10T13:00:27.744+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6c4ce583}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@238291d4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@785ed99c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@272778ae}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@755b5f30}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@696fad31}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@2c06b113}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2cccf134}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7a64cb0c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29bbc63c}, order = 2147483647]]
2025-08-10T13:00:27.755+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:27.755+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:00:27.755+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:00:27.756+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [2ce96867-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:00:27.758+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [ca154a00-2, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:00:27.829+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [ca154a00, L:/172.22.64.1:1718 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:27.831+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2ce96867-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] Last HTTP response frame
2025-08-10T13:00:27.831+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2ce96867-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1735] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:00:27.831+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2ce96867-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1735] Last HTTP packet was sent, terminating the channel
2025-08-10T13:00:27.831+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [2ce96867-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1735] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:00:27.836+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [d0eb07cb, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] New http connection, requesting read
2025-08-10T13:00:27.836+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [d0eb07cb, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:00:27.837+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [d0eb07cb, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] Increasing pending responses count: 1
2025-08-10T13:00:27.837+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [d0eb07cb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@35d819e2
2025-08-10T13:00:27.838+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:00:27.838+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001988175de48@66e274a6, order = 2]], metadata={}}
2025-08-10T13:00:27.838+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [d0eb07cb-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@46a98fee
2025-08-10T13:00:27.839+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@6c4ce583}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@238291d4}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@785ed99c}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@272778ae}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001988175de48@66e274a6, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@755b5f30}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@696fad31}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@2c06b113}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@2cccf134}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7a64cb0c}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@29bbc63c}, order = 2147483647]]
2025-08-10T13:00:27.840+08:00  WARN 151016 --- [gateway] [reactor-http-nio-6] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/list
2025-08-10T13:00:27.840+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [d0eb07cb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] Last HTTP response frame
2025-08-10T13:00:27.840+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [d0eb07cb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] Headers are not sent before onComplete().
2025-08-10T13:00:27.840+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [d0eb07cb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1736] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:00:27.841+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [d0eb07cb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1736] Last HTTP packet was sent, terminating the channel
2025-08-10T13:00:27.841+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [d0eb07cb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1736] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:00:27.842+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-6] r.n.channel.ChannelOperationsHandler     : [d0eb07cb, L:/127.0.0.1:57070 ! R:/127.0.0.1:1736] No ChannelOperation attached.
2025-08-10T13:00:47.954+08:00  WARN 151016 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T13:00:47.954+08:00  WARN 151016 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T13:00:47.954+08:00  WARN 151016 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T13:00:47.954+08:00  WARN 151016 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T13:00:47.954+08:00  WARN 151016 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T13:00:47.954+08:00  WARN 151016 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T13:00:47.957+08:00 DEBUG 151016 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [3e964824, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T13:00:47.959+08:00 DEBUG 151016 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [ca154a00, L:/172.22.64.1:1718 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xca154a00, L:/172.22.64.1:1718 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:00:50.025+08:00  INFO 151016 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T13:00:50.031+08:00  INFO 151016 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T13:00:52.845+08:00  INFO 79556 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:00:52.851+08:00  INFO 79556 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:00:52.853+08:00  INFO 79556 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T13:00:52.858+08:00  INFO 79556 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T13:00:53.070+08:00  INFO 79556 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 79556 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T13:00:53.070+08:00  INFO 79556 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T13:00:53.723+08:00  INFO 79556 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T13:00:53.765+08:00  WARN 79556 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:00:53.767+08:00  WARN 79556 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:00:53.768+08:00  WARN 79556 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:00:53.770+08:00  WARN 79556 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:00:53.771+08:00  WARN 79556 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:00:54.217+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='public-blog-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://blog-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T13:00:54.300+08:00  INFO 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T13:00:54.353+08:00 DEBUG 79556 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T13:00:54.378+08:00 DEBUG 79556 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T13:00:54.494+08:00  WARN 79556 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T13:00:54.544+08:00 DEBUG 79556 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T13:00:54.545+08:00 DEBUG 79556 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@76e6c070
2025-08-10T13:00:54.554+08:00 DEBUG 79556 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T13:00:54.582+08:00 DEBUG 79556 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T13:00:54.582+08:00 DEBUG 79556 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T13:00:54.672+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [c355c5c5, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T13:00:54.673+08:00  INFO 79556 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T13:00:54.728+08:00  INFO 79556 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T13:00:54.728+08:00  INFO 79556 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T13:00:55.238+08:00  INFO 79556 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T13:00:55.239+08:00  INFO 79556 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T13:00:55.240+08:00  INFO 79556 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T13:00:55.240+08:00  INFO 79556 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T13:00:55.270+08:00  INFO 79556 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T13:00:55.282+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:00:55.292+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.297+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.299+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.300+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:00:55.301+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list} to Path
2025-08-10T13:00:55.301+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.302+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.303+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.303+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:00:55.303+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:00:55.303+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.303+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.304+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.304+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:00:55.304+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:00:55.305+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.305+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.305+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.306+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:55.308+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:00:55.308+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:00:55.308+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.308+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.309+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.309+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:55.309+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:00:55.309+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:00:55.309+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.311+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.312+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.312+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:55.312+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:00:55.320+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:00:55.321+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.321+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.322+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.322+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:00:55.322+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list} to Path
2025-08-10T13:00:55.323+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.323+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.323+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.324+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:00:55.324+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:00:55.324+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.325+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.325+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.325+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:00:55.325+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:00:55.326+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.327+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.327+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.328+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:55.328+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:00:55.328+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:00:55.329+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.329+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.329+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.330+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:55.330+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:00:55.330+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:00:55.330+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:55.331+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.331+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:55.332+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:55.332+08:00 DEBUG 79556 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:00:55.335+08:00  INFO 79556 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.896 seconds (process running for 3.379)
2025-08-10T13:00:59.363+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81def897, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] New http connection, requesting read
2025-08-10T13:00:59.363+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [81def897, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:00:59.400+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81def897, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] Increasing pending responses count: 1
2025-08-10T13:00:59.418+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [81def897-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@68b584e3
2025-08-10T13:00:59.470+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:00:59.474+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:00:59.475+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [81def897-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@69735c20
2025-08-10T13:00:59.478+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@18ffca6c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T13:00:59.579+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:00:59.581+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:59.584+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.589+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.594+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:00:59.594+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list} to Path
2025-08-10T13:00:59.612+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:59.618+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.620+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.621+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:00:59.621+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:00:59.623+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:59.625+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.626+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.628+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:00:59.628+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:00:59.630+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:59.635+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.638+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.639+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:59.641+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:00:59.641+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:00:59.644+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:59.648+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.650+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.651+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:59.654+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:00:59.654+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:00:59.656+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:00:59.660+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.661+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:00:59.663+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:00:59.663+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:00:59.844+08:00 DEBUG 79556 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T13:00:59.866+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c84f8128] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:59.874+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [c84f8128] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:00:59.895+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [c84f8128] Connecting to [/172.22.64.1:58050].
2025-08-10T13:00:59.899+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:00:59.900+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:00:59.900+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:00:59.904+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:00:59.906+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:00:59.906+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:00:59.909+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [81def897-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:00:59.915+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:01:00.078+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:01:00.078+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:01:00.086+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:01:00.098+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [c84f8128-1, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:01:00.098+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:01:00.099+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:01:00.099+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:01:00.101+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:01:00.105+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81def897-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] Last HTTP response frame
2025-08-10T13:01:00.105+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81def897-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1984] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:00.106+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [81def897-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1984] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:00.108+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [81def897-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1984] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:00.116+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [01b4677a, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] New http connection, requesting read
2025-08-10T13:01:00.116+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [01b4677a, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:00.119+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [01b4677a, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] Increasing pending responses count: 1
2025-08-10T13:01:00.119+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [01b4677a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@68b584e3
2025-08-10T13:01:00.121+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:01:00.121+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:01:00.121+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [01b4677a-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@69735c20
2025-08-10T13:01:00.121+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@18ffca6c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T13:01:00.124+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:01:00.124+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:01:00.126+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:01:00.128+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [01b4677a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:01:00.132+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:01:00.195+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:01:00.195+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:01:00.196+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:01:00.196+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [c84f8128-2, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:01:00.196+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:01:00.196+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:01:00.196+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:01:00.196+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [c84f8128, L:/172.22.64.1:1992 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:01:00.200+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [01b4677a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] Last HTTP response frame
2025-08-10T13:01:00.200+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [01b4677a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1994] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:00.201+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [01b4677a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1994] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:00.201+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [01b4677a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1994] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:03.049+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da646f57, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] New http connection, requesting read
2025-08-10T13:01:03.049+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [da646f57, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:03.052+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da646f57, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] Increasing pending responses count: 1
2025-08-10T13:01:03.052+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [da646f57-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@68b584e3
2025-08-10T13:01:03.052+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:01:03.052+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x0000022c3477a4e0@51746f26, order = 2]], metadata={}}
2025-08-10T13:01:03.052+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [da646f57-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@69735c20
2025-08-10T13:01:03.052+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@18ffca6c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x0000022c3477a4e0@51746f26, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T13:01:03.054+08:00  WARN 79556 --- [gateway] [reactor-http-nio-6] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/get
2025-08-10T13:01:03.054+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da646f57-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] Last HTTP response frame
2025-08-10T13:01:03.054+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da646f57-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] Headers are not sent before onComplete().
2025-08-10T13:01:03.054+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da646f57-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2037] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:03.054+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [da646f57-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2037] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:03.054+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [da646f57-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2037] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:03.054+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-6] r.n.channel.ChannelOperationsHandler     : [da646f57, L:/127.0.0.1:57070 ! R:/127.0.0.1:2037] No ChannelOperation attached.
2025-08-10T13:01:03.062+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cb1532aa, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] New http connection, requesting read
2025-08-10T13:01:03.062+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [cb1532aa, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:03.063+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cb1532aa, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] Increasing pending responses count: 1
2025-08-10T13:01:03.063+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [cb1532aa-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@68b584e3
2025-08-10T13:01:03.064+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:01:03.064+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x0000022c3477a4e0@51746f26, order = 2]], metadata={}}
2025-08-10T13:01:03.064+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [cb1532aa-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@69735c20
2025-08-10T13:01:03.064+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@681e913c}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@18ffca6c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@34edd065}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@44dfdd58}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x0000022c3477a4e0@51746f26, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@29d070c7}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@28ee882c}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@78d73b1b}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@58d4238e}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@238291d4}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@1eeb5818}, order = 2147483647]]
2025-08-10T13:01:03.065+08:00  WARN 79556 --- [gateway] [reactor-http-nio-7] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /comment/get-count
2025-08-10T13:01:03.065+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cb1532aa-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] Last HTTP response frame
2025-08-10T13:01:03.065+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cb1532aa-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] Headers are not sent before onComplete().
2025-08-10T13:01:03.065+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cb1532aa-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2038] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:03.067+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cb1532aa-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2038] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:03.067+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [cb1532aa-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2038] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:03.067+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-7] r.n.channel.ChannelOperationsHandler     : [cb1532aa, L:/127.0.0.1:57070 ! R:/127.0.0.1:2038] No ChannelOperation attached.
2025-08-10T13:01:31.964+08:00  WARN 79556 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T13:01:31.964+08:00  WARN 79556 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T13:01:31.964+08:00  WARN 79556 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T13:01:31.964+08:00  WARN 79556 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T13:01:31.964+08:00  WARN 79556 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T13:01:31.965+08:00  WARN 79556 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T13:01:31.967+08:00 DEBUG 79556 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [c355c5c5, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T13:01:31.969+08:00 DEBUG 79556 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [c84f8128, L:/172.22.64.1:1992 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc84f8128, L:/172.22.64.1:1992 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:01:34.037+08:00  INFO 79556 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T13:01:34.042+08:00  INFO 79556 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T13:01:36.701+08:00  INFO 107136 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:01:36.708+08:00  INFO 107136 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:01:36.709+08:00  INFO 107136 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T13:01:36.714+08:00  INFO 107136 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T13:01:36.892+08:00  INFO 107136 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 107136 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T13:01:36.892+08:00  INFO 107136 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T13:01:37.463+08:00  INFO 107136 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T13:01:37.505+08:00  WARN 107136 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:01:37.506+08:00  WARN 107136 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:01:37.508+08:00  WARN 107136 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:01:37.509+08:00  WARN 107136 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:01:37.509+08:00  WARN 107136 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:01:37.968+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='public-blog-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/get}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://blog-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T13:01:38.061+08:00  INFO 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T13:01:38.127+08:00 DEBUG 107136 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T13:01:38.152+08:00 DEBUG 107136 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T13:01:38.270+08:00  WARN 107136 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T13:01:38.307+08:00 DEBUG 107136 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T13:01:38.308+08:00 DEBUG 107136 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@15994b0b
2025-08-10T13:01:38.315+08:00 DEBUG 107136 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T13:01:38.342+08:00 DEBUG 107136 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T13:01:38.342+08:00 DEBUG 107136 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T13:01:38.415+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [66c631df, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T13:01:38.416+08:00  INFO 107136 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T13:01:38.470+08:00  INFO 107136 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T13:01:38.470+08:00  INFO 107136 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T13:01:39.015+08:00  INFO 107136 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T13:01:39.016+08:00  INFO 107136 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T13:01:39.017+08:00  INFO 107136 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T13:01:39.017+08:00  INFO 107136 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T13:01:39.056+08:00  INFO 107136 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T13:01:39.067+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:01:39.078+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.083+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.085+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.087+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:01:39.087+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/get} to Path
2025-08-10T13:01:39.088+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.089+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.090+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.090+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:01:39.090+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:01:39.092+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.092+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.092+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.093+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:01:39.093+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:01:39.093+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.094+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.094+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.094+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:39.097+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:01:39.097+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:01:39.097+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.098+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.098+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.098+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:39.099+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:01:39.099+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:01:39.099+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.100+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.100+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.101+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:39.101+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:01:39.110+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:01:39.111+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.112+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.112+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.112+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:01:39.113+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/get} to Path
2025-08-10T13:01:39.113+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.113+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.114+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.114+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:01:39.114+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:01:39.115+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.115+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.116+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.116+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:01:39.116+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:01:39.116+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.116+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.118+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.118+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:39.118+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:01:39.118+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:01:39.118+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.119+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.119+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.119+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:39.120+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:01:39.120+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:01:39.121+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:39.121+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.121+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:39.122+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:39.122+08:00 DEBUG 107136 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:01:39.125+08:00  INFO 107136 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.831 seconds (process running for 3.33)
2025-08-10T13:01:44.483+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6a2b8a6c, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] New http connection, requesting read
2025-08-10T13:01:44.483+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [6a2b8a6c, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:44.516+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6a2b8a6c, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] Increasing pending responses count: 1
2025-08-10T13:01:44.531+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [6a2b8a6c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6d90a618
2025-08-10T13:01:44.588+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:01:44.592+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001cf30763750@b7e3a37, order = 2]], metadata={}}
2025-08-10T13:01:44.593+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [6a2b8a6c-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5cef15e
2025-08-10T13:01:44.596+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@69a5c6be}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@29bbc63c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@175c5c3a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3cb6e0ee}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001cf30763750@b7e3a37, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@451e2fa9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@3a788fe0}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@430df350}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7b6141f0}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1373e3ee}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@497ed877}, order = 2147483647]]
2025-08-10T13:01:44.610+08:00  WARN 107136 --- [gateway] [reactor-http-nio-2] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /blog/get
2025-08-10T13:01:44.613+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6a2b8a6c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] Last HTTP response frame
2025-08-10T13:01:44.613+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6a2b8a6c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] Headers are not sent before onComplete().
2025-08-10T13:01:44.615+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6a2b8a6c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2403] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:44.621+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6a2b8a6c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2403] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:44.621+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [6a2b8a6c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2403] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:44.627+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-2] r.n.channel.ChannelOperationsHandler     : [6a2b8a6c, L:/127.0.0.1:57070 ! R:/127.0.0.1:2403] No ChannelOperation attached.
2025-08-10T13:01:44.666+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2b1810f3, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] New http connection, requesting read
2025-08-10T13:01:44.666+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [2b1810f3, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:44.669+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2b1810f3, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] Increasing pending responses count: 1
2025-08-10T13:01:44.669+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [2b1810f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6d90a618
2025-08-10T13:01:44.670+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:01:44.671+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:01:44.671+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [2b1810f3-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5cef15e
2025-08-10T13:01:44.671+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@69a5c6be}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@29bbc63c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@175c5c3a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3cb6e0ee}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@451e2fa9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@3a788fe0}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@430df350}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7b6141f0}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1373e3ee}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@497ed877}, order = 2147483647]]
2025-08-10T13:01:44.753+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:01:44.755+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:44.757+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.758+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.759+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:01:44.759+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/get} to Path
2025-08-10T13:01:44.760+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:44.762+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.762+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.764+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:01:44.764+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:01:44.765+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:44.766+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.767+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.768+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:01:44.769+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:01:44.770+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:44.771+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.772+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.773+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:44.774+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:01:44.774+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:01:44.775+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:44.777+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.777+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.778+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:44.779+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:01:44.779+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:01:44.781+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:01:44.783+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.785+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:01:44.786+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:01:44.787+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:01:44.974+08:00 DEBUG 107136 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T13:01:44.991+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [e9a9e784] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:01:44.998+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [e9a9e784] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:45.019+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConnector     : [e9a9e784] Connecting to [/172.22.64.1:58050].
2025-08-10T13:01:45.025+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:01:45.025+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:01:45.026+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:01:45.031+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:01:45.032+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/get-count, method=POST}
2025-08-10T13:01:45.033+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:01:45.042+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [2b1810f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:01:45.046+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:01:45.121+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:01:45.121+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:01:45.123+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:01:45.127+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [e9a9e784-1, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:01:45.127+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:01:45.127+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:01:45.127+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:01:45.129+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [e9a9e784, L:/172.22.64.1:2407 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:01:45.129+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2b1810f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] Last HTTP response frame
2025-08-10T13:01:45.129+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2b1810f3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2405] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:45.129+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2b1810f3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2405] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:45.129+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [2b1810f3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2405] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:45.136+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3439df46, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] New http connection, requesting read
2025-08-10T13:01:45.136+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [3439df46, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:01:45.137+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3439df46, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] Increasing pending responses count: 1
2025-08-10T13:01:45.137+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [3439df46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@6d90a618
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/list] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001cf30763750@224d5455, order = 2]], metadata={}}
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [3439df46-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@5cef15e
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@69a5c6be}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@29bbc63c}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@175c5c3a}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@3cb6e0ee}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001cf30763750@224d5455, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@451e2fa9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@3a788fe0}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@430df350}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7b6141f0}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@1373e3ee}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@497ed877}, order = 2147483647]]
2025-08-10T13:01:45.139+08:00  WARN 107136 --- [gateway] [reactor-http-nio-6] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /comment/list
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3439df46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] Last HTTP response frame
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3439df46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] Headers are not sent before onComplete().
2025-08-10T13:01:45.139+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3439df46-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2409] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:01:45.140+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [3439df46-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2409] Last HTTP packet was sent, terminating the channel
2025-08-10T13:01:45.140+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [3439df46-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2409] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:01:45.140+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-6] r.n.channel.ChannelOperationsHandler     : [3439df46, L:/127.0.0.1:57070 ! R:/127.0.0.1:2409] No ChannelOperation attached.
2025-08-10T13:02:44.259+08:00  WARN 107136 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T13:02:44.259+08:00  WARN 107136 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T13:02:44.259+08:00  WARN 107136 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T13:02:44.259+08:00  WARN 107136 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T13:02:44.259+08:00  WARN 107136 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T13:02:44.260+08:00  WARN 107136 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T13:02:44.261+08:00 DEBUG 107136 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [66c631df, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T13:02:44.264+08:00 DEBUG 107136 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [e9a9e784, L:/172.22.64.1:2407 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xe9a9e784, L:/172.22.64.1:2407 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:02:46.313+08:00  INFO 107136 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T13:02:46.319+08:00  INFO 107136 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2025-08-10T13:02:48.698+08:00  INFO 58228 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback12.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:02:48.706+08:00  INFO 58228 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapterBuilder
2025-08-10T13:02:48.707+08:00  INFO 58228 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter: com.alibaba.nacos.logger.adapter.logback14.LogbackNacosLoggingAdapter match ch.qos.logback.classic.Logger success.
2025-08-10T13:02:48.712+08:00  INFO 58228 --- [gateway] [main] c.a.nacos.client.logging.NacosLogging    : Nacos Logging Adapter Builder: com.alibaba.nacos.logger.adapter.log4j2.Log4j2NacosLoggingAdapterBuilder
2025-08-10T13:02:48.918+08:00  INFO 58228 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Starting BlogGatewayApplication using Java 21.0.7 with PID 58228 (C:\File\CS\Java\Blog-gateway\target\classes started by 李超 in C:\File\CS\Java\Blog-gateway)
2025-08-10T13:02:48.919+08:00  INFO 58228 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : The following 1 profile is active: "route"
2025-08-10T13:02:49.589+08:00  INFO 58228 --- [gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=f90a8f10-df61-303c-96db-bf0cc46288d7
2025-08-10T13:02:49.663+08:00  WARN 58228 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:02:49.667+08:00  WARN 58228 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:02:49.669+08:00  WARN 58228 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2025-08-10T13:02:49.676+08:00  WARN 58228 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:02:49.678+08:00  WARN 58228 --- [gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [loadBalancerWebClientBuilderBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2025-08-10T13:02:50.143+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.gateway.config.GatewayProperties   : Routes supplied from Gateway Properties: [RouteDefinition{id='public-resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/oss/public/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='public-blog-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://blog-service, order=0, metadata={}}, RouteDefinition{id='account-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/account/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}}}], uri=lb://account-service, order=0, metadata={}}, RouteDefinition{id='ai-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/llm/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://ai-service, order=0, metadata={}}, RouteDefinition{id='resource-route', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/resources/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://resource-service, order=0, metadata={}}, RouteDefinition{id='blog-service', predicates=[PredicateDefinition{name='Path', args={_genkey_0=/api/blogs/**}}], filters=[FilterDefinition{name='RewritePath', args={_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}}}, FilterDefinition{name='RouteBasedAuthFilter', args={requiredAuth=true}}], uri=lb://blog-service, order=0, metadata={}}]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
2025-08-10T13:02:50.230+08:00  INFO 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
2025-08-10T13:02:50.291+08:00 DEBUG 58228 --- [gateway] [main] o.s.w.r.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-08-10T13:02:50.314+08:00 DEBUG 58228 --- [gateway] [main] o.s.w.r.r.m.a.ControllerMethodResolver   : ControllerAdvice beans: none
2025-08-10T13:02:50.437+08:00  WARN 58228 --- [gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-08-10T13:02:50.483+08:00 DEBUG 58228 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default LoopResources: DefaultLoopResources {prefix=reactor-http, daemon=true, selectCount=16, workerCount=16}
2025-08-10T13:02:50.483+08:00 DEBUG 58228 --- [gateway] [main] reactor.netty.tcp.TcpResources           : [http] resources will use the default ConnectionProvider: reactor.netty.resources.DefaultPooledConnectionProvider@9be7319
2025-08-10T13:02:50.492+08:00 DEBUG 58228 --- [gateway] [main] r.netty.resources.DefaultLoopIOUring     : Default io_uring support : false
2025-08-10T13:02:50.518+08:00 DEBUG 58228 --- [gateway] [main] r.netty.resources.DefaultLoopEpoll       : Default Epoll support : false
2025-08-10T13:02:50.520+08:00 DEBUG 58228 --- [gateway] [main] r.netty.resources.DefaultLoopKQueue      : Default KQueue support : false
2025-08-10T13:02:50.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.ServerTransport        : [5bf4dd36, L:/[0:0:0:0:0:0:0:0]:57070] Bound new server
2025-08-10T13:02:50.589+08:00  INFO 58228 --- [gateway] [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 57070 (http)
2025-08-10T13:02:50.637+08:00  INFO 58228 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2025-08-10T13:02:50.638+08:00  INFO 58228 --- [gateway] [main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2025-08-10T13:02:51.130+08:00  INFO 58228 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to get current node abilities...
2025-08-10T13:02:51.131+08:00  INFO 58228 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2025-08-10T13:02:51.132+08:00  INFO 58228 --- [gateway] [main] c.a.n.c.a.AbstractAbilityControlManager  : Initialize current abilities finish...
2025-08-10T13:02:51.132+08:00  INFO 58228 --- [gateway] [main] c.a.n.c.a.d.NacosAbilityManagerHolder    : [AbilityControlManager] Successfully initialize AbilityControlManager
2025-08-10T13:02:51.165+08:00  INFO 58228 --- [gateway] [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 172.22.64.1:57070 register finished
2025-08-10T13:02:51.176+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:02:51.187+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.192+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.193+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.194+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:02:51.194+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get} to Path
2025-08-10T13:02:51.196+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.197+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.197+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.197+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:02:51.197+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:02:51.197+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.197+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.199+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.199+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:02:51.199+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:02:51.199+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.200+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.200+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.200+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:51.202+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:02:51.202+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:02:51.203+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.203+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.204+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.204+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:51.204+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:02:51.205+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:02:51.205+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.207+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.207+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.207+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:51.208+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:02:51.216+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:02:51.217+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.217+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.218+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.218+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:02:51.218+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get} to Path
2025-08-10T13:02:51.218+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.219+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.219+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.219+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:02:51.219+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:02:51.220+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.221+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.221+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.221+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:02:51.221+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:02:51.222+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.222+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.222+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.223+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:51.223+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:02:51.223+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:02:51.223+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.224+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.224+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.224+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:51.225+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:02:51.225+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:02:51.225+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:51.225+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.227+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:51.227+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:51.228+08:00 DEBUG 58228 --- [gateway] [main] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:02:51.230+08:00  INFO 58228 --- [gateway] [main] c.a.bloggateway.BlogGatewayApplication   : Started BlogGatewayApplication in 2.95 seconds (process running for 3.44)
2025-08-10T13:02:55.373+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d0fedfdf, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] New http connection, requesting read
2025-08-10T13:02:55.373+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [d0fedfdf, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:02:55.405+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d0fedfdf, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] Increasing pending responses count: 1
2025-08-10T13:02:55.421+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [d0fedfdf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:02:55.475+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:02:55.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:02:55.482+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [d0fedfdf-1] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:02:55.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:02:55.554+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:02:55.556+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:55.557+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.558+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.558+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:02:55.558+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get} to Path
2025-08-10T13:02:55.559+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:55.560+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.561+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.561+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:02:55.562+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:02:55.562+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:55.564+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.565+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.565+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:02:55.565+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:02:55.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:55.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:55.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:02:55.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:02:55.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:55.583+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.584+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.585+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:55.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:02:55.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:02:55.589+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:02:55.591+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.592+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:02:55.593+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:02:55.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:02:55.768+08:00 DEBUG 58228 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58050]
2025-08-10T13:02:55.785+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:55.793+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [59cca4de] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:02:55.819+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [59cca4de] Connecting to [/172.22.64.1:58050].
2025-08-10T13:02:55.824+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:02:55.824+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:55.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:02:55.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:02:55.832+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T13:02:55.834+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:02:55.849+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [d0fedfdf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:02:55.854+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:02:56.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:02:56.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:02:56.102+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:02:56.105+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-1, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:02:56.106+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:02:56.107+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:02:56.107+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:02:56.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:56.110+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d0fedfdf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] Last HTTP response frame
2025-08-10T13:02:56.110+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d0fedfdf-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2872] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:02:56.111+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [d0fedfdf-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2872] Last HTTP packet was sent, terminating the channel
2025-08-10T13:02:56.111+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [d0fedfdf-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2872] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:02:56.704+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2c89d75e, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] New http connection, requesting read
2025-08-10T13:02:56.705+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [2c89d75e, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:02:56.706+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2c89d75e, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] Increasing pending responses count: 1
2025-08-10T13:02:56.707+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [2c89d75e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:02:56.707+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:02:56.707+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:02:56.707+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [2c89d75e-2] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:02:56.708+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:02:56.711+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:56.711+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/get-count, method=POST}
2025-08-10T13:02:56.711+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:02:56.712+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [2c89d75e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:02:56.712+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:02:56.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:02:56.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:02:56.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:02:56.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-2, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:02:56.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:02:56.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:02:56.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:02:56.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:56.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2c89d75e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] Last HTTP response frame
2025-08-10T13:02:56.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2c89d75e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2883] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:02:56.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [2c89d75e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2883] Last HTTP packet was sent, terminating the channel
2025-08-10T13:02:56.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [2c89d75e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2883] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:02:56.789+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5ee19c21, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] New http connection, requesting read
2025-08-10T13:02:56.789+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [5ee19c21, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:02:56.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5ee19c21, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] Increasing pending responses count: 1
2025-08-10T13:02:56.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [5ee19c21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:02:56.792+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:02:56.792+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:02:56.792+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [5ee19c21-3] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:02:56.793+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:02:56.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:56.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/list, method=POST}
2025-08-10T13:02:56.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:02:56.796+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [5ee19c21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:02:56.796+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:02:56.829+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:02:56.829+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:02:56.830+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:02:56.830+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-3, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:02:56.830+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:02:56.830+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:02:56.830+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:02:56.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:02:56.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5ee19c21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] Last HTTP response frame
2025-08-10T13:02:56.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5ee19c21-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2884] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:02:56.832+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5ee19c21-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2884] Last HTTP packet was sent, terminating the channel
2025-08-10T13:02:56.832+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [5ee19c21-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2884] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:10.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [69a1c5d6, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] New http connection, requesting read
2025-08-10T13:03:10.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [69a1c5d6, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:10.681+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [69a1c5d6, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] Increasing pending responses count: 1
2025-08-10T13:03:10.681+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [69a1c5d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:10.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:03:10.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:10.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [69a1c5d6-4] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:10.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:10.684+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:10.684+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:03:10.684+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:03:10.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [69a1c5d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:10.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-4, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [69a1c5d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] Last HTTP response frame
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [69a1c5d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2970] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [69a1c5d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2970] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:10.791+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [69a1c5d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2970] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:10.797+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ded0d24d, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] New http connection, requesting read
2025-08-10T13:03:10.799+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [ded0d24d, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:10.800+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ded0d24d, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] Increasing pending responses count: 1
2025-08-10T13:03:10.800+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [ded0d24d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:10.800+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:03:10.801+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:10.801+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [ded0d24d-5] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:10.801+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:10.802+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:10.803+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:03:10.803+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:03:10.803+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [ded0d24d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:03:10.804+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:03:10.863+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:10.863+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:03:10.864+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:10.864+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-5, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:03:10.864+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:03:10.864+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:03:10.864+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:03:10.864+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:10.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ded0d24d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] Last HTTP response frame
2025-08-10T13:03:10.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ded0d24d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:2972] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:10.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ded0d24d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2972] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:10.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [ded0d24d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:2972] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:14.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [45c34247, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] New http connection, requesting read
2025-08-10T13:03:14.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [45c34247, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:14.031+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [45c34247, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] Increasing pending responses count: 1
2025-08-10T13:03:14.031+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [45c34247-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:14.032+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:03:14.032+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@669023d, order = 2]], metadata={}}
2025-08-10T13:03:14.032+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [45c34247-6] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:14.032+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@669023d, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:14.032+08:00  WARN 58228 --- [gateway] [reactor-http-nio-9] c.a.b.filter.RouteBasedAuthFilter        : 请求缺少JWT Token - 路径: /model/list
2025-08-10T13:03:14.032+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [45c34247-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] Last HTTP response frame
2025-08-10T13:03:14.032+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [45c34247-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] Headers are not sent before onComplete().
2025-08-10T13:03:14.033+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [45c34247-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3017] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:14.033+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [45c34247-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3017] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:14.033+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [45c34247-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3017] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:14.033+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.channel.ChannelOperationsHandler     : [45c34247, L:/127.0.0.1:57070 ! R:/127.0.0.1:3017] No ChannelOperation attached.
2025-08-10T13:03:17.459+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f0dbf8ed, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] New http connection, requesting read
2025-08-10T13:03:17.459+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [f0dbf8ed, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:17.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f0dbf8ed, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] Increasing pending responses count: 1
2025-08-10T13:03:17.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [f0dbf8ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [f0dbf8ed-7] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T13:03:17.462+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:03:17.464+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [f0dbf8ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:03:17.464+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-6, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f0dbf8ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] Last HTTP response frame
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f0dbf8ed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3031] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f0dbf8ed-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3031] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:17.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [f0dbf8ed-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3031] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:20.547+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [4655f3c2, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] New http connection, requesting read
2025-08-10T13:03:20.547+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [4655f3c2, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:20.549+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [4655f3c2, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] Increasing pending responses count: 1
2025-08-10T13:03:20.549+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [4655f3c2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:20.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:03:20.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:20.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [4655f3c2-8] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:20.550+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:20.551+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:20.552+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:03:20.552+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:03:20.552+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [4655f3c2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:20.553+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:03:20.619+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:20.619+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:03:20.619+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:20.619+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-7, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:03:20.619+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:03:20.619+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:03:20.620+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:03:20.620+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:20.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [4655f3c2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] Last HTTP response frame
2025-08-10T13:03:20.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [4655f3c2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3076] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:20.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [4655f3c2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3076] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:20.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [4655f3c2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3076] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:20.626+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8598d0bd, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] New http connection, requesting read
2025-08-10T13:03:20.627+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [8598d0bd, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:20.628+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8598d0bd, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] Increasing pending responses count: 1
2025-08-10T13:03:20.628+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [8598d0bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:20.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:03:20.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:20.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [8598d0bd-9] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:20.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:20.631+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:20.632+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:03:20.632+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:03:20.632+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [8598d0bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:03:20.633+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:03:20.698+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:20.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:03:20.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:20.700+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [59cca4de-8, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:03:20.700+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:03:20.700+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:03:20.700+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:03:20.700+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [59cca4de, L:/172.22.64.1:2874 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:20.701+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8598d0bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] Last HTTP response frame
2025-08-10T13:03:20.701+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8598d0bd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3078] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:20.701+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8598d0bd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3078] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:20.701+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [8598d0bd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3078] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:23.522+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2bf1a686, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] New http connection, requesting read
2025-08-10T13:03:23.522+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [2bf1a686, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:23.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2bf1a686, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] Increasing pending responses count: 1
2025-08-10T13:03:23.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [2bf1a686-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:23.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:03:23.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:23.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [2bf1a686-10] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:23.526+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:23.554+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:03:23.555+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:03:23.556+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.556+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.558+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:03:23.558+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get} to Path
2025-08-10T13:03:23.558+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:03:23.560+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.560+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.560+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:03:23.560+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:03:23.562+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:03:23.562+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.564+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.564+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:03:23.564+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:03:23.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:03:23.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.568+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:03:23.568+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:03:23.568+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:03:23.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:03:23.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.572+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:03:23.572+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:03:23.572+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:03:23.573+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:03:23.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:03:23.575+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:03:23.575+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:03:23.586+08:00 DEBUG 58228 --- [gateway] [boundedElastic-1] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58012]
2025-08-10T13:03:23.586+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [69f8e7bb] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:23.587+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [69f8e7bb] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:23.587+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConnector     : [69f8e7bb] Connecting to [/192.168.0.18:58012].
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:03:23.588+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [2bf1a686-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:23.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:03:23.660+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:23.660+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:03:23.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:23.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [69f8e7bb-1, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:03:23.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:03:23.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:03:23.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:03:23.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:23.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2bf1a686-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] Last HTTP response frame
2025-08-10T13:03:23.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2bf1a686-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3095] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:23.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [2bf1a686-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3095] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:23.664+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [2bf1a686-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3095] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:03:23.674+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [840d659b, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] New http connection, requesting read
2025-08-10T13:03:23.674+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [840d659b, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:03:23.676+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [840d659b, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] Increasing pending responses count: 1
2025-08-10T13:03:23.676+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [840d659b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:03:23.676+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:03:23.676+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:03:23.677+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [840d659b-11] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:03:23.677+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:03:23.678+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:23.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T13:03:23.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:03:23.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [840d659b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:03:23.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:03:23.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:03:23.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:03:23.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:03:23.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [69f8e7bb-2, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:03:23.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:03:23.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:03:23.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:03:23.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [69f8e7bb, L:/192.168.0.18:3096 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:03:23.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [840d659b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] Last HTTP response frame
2025-08-10T13:03:23.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [840d659b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3097] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:03:23.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [840d659b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3097] Last HTTP packet was sent, terminating the channel
2025-08-10T13:03:23.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [840d659b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3097] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:04:21.082+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [59cca4de, L:/172.22.64.1:2874 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x59cca4de, L:/172.22.64.1:2874 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:04:24.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [69f8e7bb, L:/192.168.0.18:3096 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x69f8e7bb, L:/192.168.0.18:3096 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T13:09:58.955+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4318435f, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] New http connection, requesting read
2025-08-10T13:09:58.955+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [4318435f, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:58.957+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4318435f, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] Increasing pending responses count: 1
2025-08-10T13:09:58.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [4318435f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:09:58.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T13:09:58.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/account/auth/login] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:09:58.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [4318435f-12] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:09:58.959+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:09:58.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:09:58.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:09:58.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:09:58.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get} to Path
2025-08-10T13:09:58.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:09:58.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.972+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:09:58.972+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:09:58.972+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:09:58.972+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.972+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.973+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:09:58.973+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:09:58.973+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:09:58.973+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.975+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.975+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:09:58.975+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:09:58.975+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:09:58.975+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:09:58.976+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.976+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.976+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:09:58.976+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:09:58.976+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:09:58.977+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:09:58.977+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.977+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:09:58.977+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:09:58.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:09:58.987+08:00 DEBUG 58228 --- [gateway] [boundedElastic-2] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/172.22.64.1:58080]
2025-08-10T13:09:58.988+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [ae826426] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:58.988+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [ae826426] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:58.988+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConnector     : [ae826426] Connecting to [/172.22.64.1:58080].
2025-08-10T13:09:58.989+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Registering pool release on close event for channel
2025-08-10T13:09:58.989+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:58.989+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}, [connected])
2025-08-10T13:09:58.989+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [configured])
2025-08-10T13:09:58.989+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/auth/login, method=POST}
2025-08-10T13:09:58.989+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T13:09:58.991+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [4318435f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:09:58.992+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Content-Length: <filtered>
Date: <filtered>
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [ae826426-1, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(POST{uri=/auth/login, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T13:09:59.194+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T13:09:59.195+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.195+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4318435f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] Last HTTP response frame
2025-08-10T13:09:59.195+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4318435f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5385] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:09:59.195+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [4318435f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5385] Last HTTP packet was sent, terminating the channel
2025-08-10T13:09:59.195+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [4318435f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5385] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:09:59.201+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [31d490dd, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] New http connection, requesting read
2025-08-10T13:09:59.202+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [31d490dd, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.202+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [31d490dd, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] Increasing pending responses count: 1
2025-08-10T13:09:59.202+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [31d490dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:09:59.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: account-route
2025-08-10T13:09:59.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/account/user/me] to Route{id='account-route', uri=lb://account-service, order=0, predicate=Paths: [/api/account/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:09:59.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [31d490dd-13] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:09:59.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/account/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:09:59.204+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.204+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.http.client.HttpClientConnect    : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Handler is being applied: {uri=http://172.22.64.1:58080/user/me, method=GET}
2025-08-10T13:09:59.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [request_prepared])
2025-08-10T13:09:59.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [31d490dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [request_sent])
2025-08-10T13:09:59.248+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
X-Content-Type-Options: <filtered>
X-XSS-Protection: <filtered>
Cache-Control: <filtered>
Pragma: <filtered>
Expires: <filtered>
X-Frame-Options: <filtered>
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:09:59.248+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [response_received])
2025-08-10T13:09:59.248+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.249+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.client.HttpClientOperations     : [ae826426-2, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Received last HTTP packet
2025-08-10T13:09:59.249+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [response_completed])
2025-08-10T13:09:59.249+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] onStateChange(GET{uri=/user/me, connection=PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080]}}, [disconnecting])
2025-08-10T13:09:59.249+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Releasing channel
2025-08-10T13:09:59.250+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.resources.PooledConnectionProvider   : [ae826426, L:/172.22.64.1:5387 - R:/172.22.64.1:58080] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.250+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [31d490dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] Last HTTP response frame
2025-08-10T13:09:59.250+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [31d490dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5389] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:09:59.250+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [31d490dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5389] Last HTTP packet was sent, terminating the channel
2025-08-10T13:09:59.250+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [31d490dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5389] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:09:59.592+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6c56d61b, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] New http connection, requesting read
2025-08-10T13:09:59.592+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [6c56d61b, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6c56d61b, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] Increasing pending responses count: 1
2025-08-10T13:09:59.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [6c56d61b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:09:59.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:09:59.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:09:59.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [6c56d61b-14] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:09:59.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:09:59.601+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [6d55c3b5] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.601+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [6d55c3b5] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.601+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [6d55c3b5] Connecting to [/172.22.64.1:58050].
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:09:59.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [6c56d61b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.604+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:09:59.745+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:09:59.745+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:09:59.745+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [6d55c3b5-1, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:09:59.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:09:59.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:09:59.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:09:59.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6c56d61b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] Last HTTP response frame
2025-08-10T13:09:59.747+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6c56d61b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5396] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:09:59.747+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [6c56d61b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5396] Last HTTP packet was sent, terminating the channel
2025-08-10T13:09:59.747+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [6c56d61b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5396] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:09:59.820+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [64d0b2bb, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] New http connection, requesting read
2025-08-10T13:09:59.820+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [64d0b2bb, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.821+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [64d0b2bb, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] Increasing pending responses count: 1
2025-08-10T13:09:59.821+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [64d0b2bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:09:59.821+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:09:59.822+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@7e31d4ab, order = 2]], metadata={}}
2025-08-10T13:09:59.822+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [64d0b2bb-15] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:09:59.822+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@7e31d4ab, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:09:59.843+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [adaae7a1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] New http connection, requesting read
2025-08-10T13:09:59.843+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [adaae7a1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.843+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [adaae7a1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] Increasing pending responses count: 1
2025-08-10T13:09:59.843+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [adaae7a1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:09:59.845+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:09:59.845+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@7e31d4ab, order = 2]], metadata={}}
2025-08-10T13:09:59.845+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [adaae7a1-16] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:09:59.845+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@7e31d4ab, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:09:59.880+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f03b7200, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] New http connection, requesting read
2025-08-10T13:09:59.881+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [f03b7200, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.881+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f03b7200, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] Increasing pending responses count: 1
2025-08-10T13:09:59.881+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [f03b7200-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:09:59.881+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:09:59.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@7e31d4ab, order = 2]], metadata={}}
2025-08-10T13:09:59.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [f03b7200-17] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:09:59.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@7e31d4ab, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:09:59.888+08:00  INFO 58228 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:09:59.888+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:09:59.888+08:00  INFO 58228 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 1 pending acquire requests.
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [6749fdba] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [6749fdba] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [61648cd0] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [61648cd0] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConnector     : [6749fdba] Connecting to [/172.22.64.1:58050].
2025-08-10T13:09:59.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [64d0b2bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [61648cd0] Connecting to [/172.22.64.1:58050].
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:09:59.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:09:59.892+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [adaae7a1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.892+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [f03b7200-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.892+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:09:59.892+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:09:59.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:09:59.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:09:59.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [6d55c3b5-2, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:09:59.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [6d55c3b5, L:/172.22.64.1:5397 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [64d0b2bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] Last HTTP response frame
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [64d0b2bb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5408] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [64d0b2bb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5408] Last HTTP packet was sent, terminating the channel
2025-08-10T13:09:59.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [64d0b2bb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5408] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:09:59.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:09:59.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:09:59.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [61648cd0-1, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [adaae7a1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] Last HTTP response frame
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [adaae7a1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5412] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [adaae7a1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5412] Last HTTP packet was sent, terminating the channel
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [adaae7a1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5412] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:09:59.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [61648cd0, L:/172.22.64.1:5417 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [6749fdba-1, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f03b7200-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] Last HTTP response frame
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f03b7200-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5415] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [f03b7200-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5415] Last HTTP packet was sent, terminating the channel
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [f03b7200-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5415] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:09:59.961+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [6749fdba, L:/172.22.64.1:5416 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:01.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [e03841a5, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] New http connection, requesting read
2025-08-10T13:10:01.331+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [e03841a5, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:01.331+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [e03841a5, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] Increasing pending responses count: 1
2025-08-10T13:10:01.331+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [e03841a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:01.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:10:01.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:10:01.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [e03841a5-18] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:01.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:01.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:01.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [7ae2d27b] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConnector     : [7ae2d27b] Connecting to [/192.168.0.18:58012].
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:10:01.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [e03841a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:01.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:10:01.465+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:01.465+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:10:01.465+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:01.466+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-1, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:10:01.466+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:10:01.466+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:10:01.466+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:10:01.466+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:01.467+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [e03841a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] Last HTTP response frame
2025-08-10T13:10:01.467+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [e03841a5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5431] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:01.467+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [e03841a5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5431] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:01.467+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [e03841a5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5431] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:01.475+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f5e35de3, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] New http connection, requesting read
2025-08-10T13:10:01.475+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [f5e35de3, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:01.475+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f5e35de3, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] Increasing pending responses count: 1
2025-08-10T13:10:01.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [f5e35de3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:01.477+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:10:01.477+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:10:01.477+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [f5e35de3-19] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:01.477+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:01.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:01.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T13:10:01.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:10:01.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [f5e35de3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:10:01.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:10:01.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:01.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:10:01.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:01.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-2, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:10:01.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:10:01.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:10:01.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:10:01.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:01.533+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f5e35de3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] Last HTTP response frame
2025-08-10T13:10:01.533+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f5e35de3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5434] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:01.533+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [f5e35de3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5434] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:01.533+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [f5e35de3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5434] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:02.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [57803fd1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] New http connection, requesting read
2025-08-10T13:10:02.594+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [57803fd1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:02.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [57803fd1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] Increasing pending responses count: 1
2025-08-10T13:10:02.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [57803fd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:02.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T13:10:02.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/count] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@39495d71, order = 2]], metadata={}}
2025-08-10T13:10:02.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [57803fd1-20] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:02.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@39495d71, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:02.597+08:00  INFO 58228 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:02.598+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:02.598+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/count, method=POST}
2025-08-10T13:10:02.598+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:10:02.599+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [57803fd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:10:02.599+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-3, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/count, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:10:02.663+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:02.664+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [57803fd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] Last HTTP response frame
2025-08-10T13:10:02.664+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [57803fd1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5441] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:02.664+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [57803fd1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5441] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:02.664+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [57803fd1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5441] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:02.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [00b05092, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] New http connection, requesting read
2025-08-10T13:10:02.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [00b05092, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:02.679+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [00b05092, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] Increasing pending responses count: 1
2025-08-10T13:10:02.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [00b05092-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:02.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T13:10:02.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/list] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@39495d71, order = 2]], metadata={}}
2025-08-10T13:10:02.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [00b05092-21] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:02.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@39495d71, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:02.682+08:00  INFO 58228 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:02.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:02.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/list, method=POST}
2025-08-10T13:10:02.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:10:02.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [00b05092-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:10:02.683+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-4, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/list, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:10:02.723+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:02.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [00b05092-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] Last HTTP response frame
2025-08-10T13:10:02.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [00b05092-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5443] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:02.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [00b05092-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5443] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:02.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [00b05092-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5443] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:02.729+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1ec8e2b2, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] New http connection, requesting read
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [1ec8e2b2, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1ec8e2b2, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] Increasing pending responses count: 1
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [1ec8e2b2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: resource-route
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/private/usage] to Route{id='resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@39495d71, order = 2]], metadata={}}
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [1ec8e2b2-22] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:02.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@39495d71, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:02.732+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:02.733+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:02.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/private/usage, method=POST}
2025-08-10T13:10:02.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:10:02.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [1ec8e2b2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:10:02.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:10:02.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:02.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [7ae2d27b-5, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/private/usage, connection=PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [7ae2d27b, L:/192.168.0.18:5432 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1ec8e2b2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] Last HTTP response frame
2025-08-10T13:10:02.769+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1ec8e2b2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5445] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:02.770+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1ec8e2b2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5445] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:02.770+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [1ec8e2b2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5445] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:05.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [df60d882, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] New http connection, requesting read
2025-08-10T13:10:05.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [df60d882, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:05.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [df60d882, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] Increasing pending responses count: 1
2025-08-10T13:10:05.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [df60d882-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:05.736+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:10:05.736+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@448cda33, order = 2]], metadata={}}
2025-08-10T13:10:05.736+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [df60d882-23] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:05.736+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@448cda33, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:05.739+08:00  INFO 58228 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:05.748+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying {_genkey_0=/api/resources/oss/public/**} to Path
2025-08-10T13:10:05.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:10:05.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-resource-route
2025-08-10T13:10:05.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying {_genkey_0=/api/blogs/blog/list-top, _genkey_1=/api/blogs/blog/get-count, _genkey_2=/api/blogs/blog/list, _genkey_3=/api/blogs/comment/get-count, _genkey_4=/api/blogs/comment/list, _genkey_5=/api/blogs/blog/get} to Path
2025-08-10T13:10:05.750+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:10:05.750+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.750+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition public-blog-route applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.750+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: public-blog-route
2025-08-10T13:10:05.750+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying {_genkey_0=/api/account/**} to Path
2025-08-10T13:10:05.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:10:05.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition account-route applying filter {_genkey_0=/api/account/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: account-route
2025-08-10T13:10:05.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying {_genkey_0=/api/llm/**} to Path
2025-08-10T13:10:05.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:10:05.752+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.752+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {_genkey_0=/api/llm/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.753+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition ai-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:10:05.753+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: ai-route
2025-08-10T13:10:05.753+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying {_genkey_0=/api/resources/**} to Path
2025-08-10T13:10:05.754+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:10:05.754+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.754+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {_genkey_0=/api/resources/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.754+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition resource-route applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:10:05.755+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: resource-route
2025-08-10T13:10:05.755+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying {_genkey_0=/api/blogs/**} to Path
2025-08-10T13:10:05.755+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=X-Response-Default, _genkey_1=Default} to AddResponseHeader
2025-08-10T13:10:05.755+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.755+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {_genkey_0=/api/blogs/(?<segment>.*), _genkey_1=/$\{segment}} to RewritePath
2025-08-10T13:10:05.756+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition blog-service applying filter {requiredAuth=true} to RouteBasedAuthFilter
2025-08-10T13:10:05.756+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.r.RouteDefinitionRouteLocator    : RouteDefinition matched: blog-service
2025-08-10T13:10:05.763+08:00 DEBUG 58228 --- [gateway] [boundedElastic-2] r.n.resources.PooledConnectionProvider   : Creating a new [proxy] client pool [PoolFactory{evictionInterval=PT0S, leasingStrategy=fifo, maxConnections=2147483647, maxIdleTime=-1, maxLifeTime=-1, metricsEnabled=false, pendingAcquireMaxCount=-1, pendingAcquireTimeout=0}] for [/192.168.0.18:58070]
2025-08-10T13:10:05.764+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.764+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [82f59f05] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:05.764+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConnector     : [82f59f05] Connecting to [/192.168.0.18:58070].
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [df60d882-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:05.765+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:10:05.845+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-1, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:10:05.846+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [df60d882-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] Last HTTP response frame
2025-08-10T13:10:05.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [df60d882-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5457] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:05.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [df60d882-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5457] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:05.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [df60d882-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5457] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [cb4ea7da, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] New http connection, requesting read
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [cb4ea7da, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [cb4ea7da, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] Increasing pending responses count: 1
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [cb4ea7da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [cb4ea7da-24] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:05.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:05.855+08:00  INFO 58228 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:05.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T13:10:05.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:10:05.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [cb4ea7da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:05.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-2, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [cb4ea7da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] Last HTTP response frame
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [cb4ea7da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5463] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [cb4ea7da-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5463] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:05.912+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [cb4ea7da-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5463] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:05.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [200c4380, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] New http connection, requesting read
2025-08-10T13:10:05.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [200c4380, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:05.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [200c4380, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] Increasing pending responses count: 1
2025-08-10T13:10:05.922+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [200c4380-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:05.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:10:05.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:10:05.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [200c4380-25] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:05.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:05.926+08:00  INFO 58228 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:05.927+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.927+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T13:10:05.927+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:10:05.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [200c4380-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:10:05.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:10:05.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:05.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:10:05.970+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-3, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [200c4380-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] Last HTTP response frame
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [200c4380-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5466] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [200c4380-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5466] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:05.971+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [200c4380-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5466] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:07.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [0dab5e95, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] New http connection, requesting read
2025-08-10T13:10:07.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [0dab5e95, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:10:07.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [0dab5e95, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] Increasing pending responses count: 1
2025-08-10T13:10:07.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [0dab5e95-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:10:07.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:10:07.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:10:07.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [0dab5e95-26] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:10:07.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:10:07.385+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:10:07.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:07.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.http.client.HttpClientConnect    : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, method=GET}
2025-08-10T13:10:07.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:10:07.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [0dab5e95-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:07.388+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:10:07.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:10:07.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:10:07.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:10:07.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.client.HttpClientOperations     : [82f59f05-4, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:10:07.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:10:07.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:10:07.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:10:07.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.resources.PooledConnectionProvider   : [82f59f05, L:/192.168.0.18:5459 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:10:07.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [0dab5e95-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] Last HTTP response frame
2025-08-10T13:10:07.453+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [0dab5e95-1, L:/127.0.0.1:57070 - R:/127.0.0.1:5480] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:10:07.453+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [0dab5e95-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5480] Last HTTP packet was sent, terminating the channel
2025-08-10T13:10:07.453+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [0dab5e95-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:5480] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:10:59.633+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.r.DefaultPooledConnectionProvider    : [ae826426, L:/172.22.64.1:5387 ! R:/172.22.64.1:58080] onStateChange(PooledConnection{channel=[id: 0xae826426, L:/172.22.64.1:5387 ! R:/172.22.64.1:58080]}, [disconnecting])
2025-08-10T13:11:00.340+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [6d55c3b5, L:/172.22.64.1:5397 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6d55c3b5, L:/172.22.64.1:5397 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:11:00.340+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [6749fdba, L:/172.22.64.1:5416 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x6749fdba, L:/172.22.64.1:5416 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:11:00.340+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [61648cd0, L:/172.22.64.1:5417 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x61648cd0, L:/172.22.64.1:5417 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:11:03.130+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [7ae2d27b, L:/192.168.0.18:5432 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x7ae2d27b, L:/192.168.0.18:5432 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T13:11:07.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.r.DefaultPooledConnectionProvider    : [82f59f05, L:/192.168.0.18:5459 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x82f59f05, L:/192.168.0.18:5459 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c726555b, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] New http connection, requesting read
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [c726555b, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c726555b, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] Increasing pending responses count: 1
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [c726555b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [c726555b-27] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7dc5d0df] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [7dc5d0df] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConnector     : [7dc5d0df] Connecting to [/192.168.0.18:58012].
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [c726555b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:37.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7dc5d0df-1, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c726555b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] Last HTTP response frame
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c726555b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14657] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [c726555b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14657] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:37.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [c726555b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14657] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:37.881+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [fc192104, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] New http connection, requesting read
2025-08-10T13:33:37.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [fc192104, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:37.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [fc192104, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] Increasing pending responses count: 1
2025-08-10T13:33:37.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [fc192104-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:37.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:33:37.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:33:37.882+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [fc192104-28] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:37.883+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:37.884+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:37.884+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.http.client.HttpClientConnect    : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T13:33:37.884+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:33:37.884+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [fc192104-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:33:37.885+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.client.HttpClientOperations     : [7dc5d0df-2, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.resources.PooledConnectionProvider   : [7dc5d0df, L:/192.168.0.18:14658 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [fc192104-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] Last HTTP response frame
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [fc192104-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14664] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [fc192104-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14664] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:37.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [fc192104-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14664] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:39.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a96a9d1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] New http connection, requesting read
2025-08-10T13:33:39.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [5a96a9d1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:39.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a96a9d1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] Increasing pending responses count: 1
2025-08-10T13:33:39.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [5a96a9d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:39.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:33:39.602+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:33:39.603+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [5a96a9d1-29] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:39.603+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:39.604+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:39.604+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [bc206966] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:39.605+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConnector     : [bc206966] Connecting to [/172.22.64.1:58050].
2025-08-10T13:33:39.605+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:33:39.605+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:39.605+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:33:39.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:33:39.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:33:39.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:33:39.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [5a96a9d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:39.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-1, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:33:39.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:33:39.678+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:39.678+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a96a9d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] Last HTTP response frame
2025-08-10T13:33:39.678+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a96a9d1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14683] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:39.678+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [5a96a9d1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14683] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:39.678+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [5a96a9d1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14683] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f29abc55, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] New http connection, requesting read
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [f29abc55, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f29abc55, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] Increasing pending responses count: 1
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [f29abc55-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [f29abc55-30] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [f29abc55-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:33:39.682+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:33:39.761+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:39.761+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:33:39.761+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-2, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f29abc55-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] Last HTTP response frame
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f29abc55-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14686] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [f29abc55-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14686] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:39.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [f29abc55-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14686] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:43.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [be761747, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] New http connection, requesting read
2025-08-10T13:33:43.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [be761747, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:43.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [be761747, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] Increasing pending responses count: 1
2025-08-10T13:33:43.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [be761747-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:43.858+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:33:43.859+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:33:43.859+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [be761747-31] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:43.859+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:43.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:43.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T13:33:43.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:33:43.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [be761747-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:33:43.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-3, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [be761747-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] Last HTTP response frame
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [be761747-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14711] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [be761747-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14711] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:43.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [be761747-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14711] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:43.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [044106a3, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] New http connection, requesting read
2025-08-10T13:33:43.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [044106a3, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:43.960+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [044106a3, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] Increasing pending responses count: 1
2025-08-10T13:33:43.965+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [044106a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:43.965+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:33:43.965+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:33:43.965+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [044106a3-32] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:43.965+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:43.969+08:00  INFO 58228 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.http.client.HttpClientConnect    : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [60939de1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] New http connection, requesting read
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [60939de1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [044106a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [60939de1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] Increasing pending responses count: 1
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [60939de1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4ba00c67, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] New http connection, requesting read
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [4ba00c67, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [60939de1-33] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4ba00c67, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] Increasing pending responses count: 1
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [4ba00c67-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [4ba00c67-34] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:33:43.969+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:33:43.975+08:00  INFO 58228 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:33:43.975+08:00  INFO 58228 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:33:43.977+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [20777abf] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 1 pending acquire requests.
2025-08-10T13:33:43.977+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [20777abf] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [eecb03ee] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConnector     : [20777abf] Connecting to [/172.22.64.1:58050].
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [eecb03ee] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConnector     : [eecb03ee] Connecting to [/172.22.64.1:58050].
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Channel connected, now: 2 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.http.client.HttpClientConnect    : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [60939de1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [4ba00c67-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:33:43.978+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:33:44.048+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:44.048+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:33:44.048+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.client.HttpClientOperations     : [20777abf-1, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [60939de1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] Last HTTP response frame
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [60939de1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14717] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [60939de1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14717] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [60939de1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14717] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:33:44.050+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.resources.PooledConnectionProvider   : [20777abf, L:/172.22.64.1:14719 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [eecb03ee-1, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [eecb03ee, L:/172.22.64.1:14720 - R:/172.22.64.1:58050] Channel cleaned, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4ba00c67-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] Last HTTP response frame
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4ba00c67-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14718] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4ba00c67-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14718] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:44.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [4ba00c67-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14718] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.client.HttpClientOperations     : [bc206966-4, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.resources.PooledConnectionProvider   : [bc206966, L:/172.22.64.1:14684 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [044106a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] Last HTTP response frame
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [044106a3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:14714] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [044106a3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14714] Last HTTP packet was sent, terminating the channel
2025-08-10T13:33:44.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [044106a3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:14714] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:34:38.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.r.DefaultPooledConnectionProvider    : [7dc5d0df, L:/192.168.0.18:14658 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x7dc5d0df, L:/192.168.0.18:14658 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T13:34:44.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.r.DefaultPooledConnectionProvider    : [bc206966, L:/172.22.64.1:14684 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xbc206966, L:/172.22.64.1:14684 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:34:44.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [eecb03ee, L:/172.22.64.1:14720 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xeecb03ee, L:/172.22.64.1:14720 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:34:44.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.r.DefaultPooledConnectionProvider    : [20777abf, L:/172.22.64.1:14719 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x20777abf, L:/172.22.64.1:14719 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:35:20.998+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [a25caa99, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] New http connection, requesting read
2025-08-10T13:35:20.999+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [a25caa99, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:20.999+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [a25caa99, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] Increasing pending responses count: 1
2025-08-10T13:35:20.999+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [a25caa99-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:21.000+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:35:21.000+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:35:21.000+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [a25caa99-35] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:21.000+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:21.003+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:21.005+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.005+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [95bbb928] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:21.005+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConnector     : [95bbb928] Connecting to [/192.168.0.18:58070].
2025-08-10T13:35:21.005+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T13:35:21.005+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.005+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T13:35:21.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T13:35:21.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T13:35:21.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:35:21.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [a25caa99-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:21.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-1, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [a25caa99-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] Last HTTP response frame
2025-08-10T13:35:21.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [a25caa99-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1199] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:21.073+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [a25caa99-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1199] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:21.073+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [a25caa99-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1199] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5c66a501, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] New http connection, requesting read
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [5c66a501, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5c66a501, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] Increasing pending responses count: 1
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [5c66a501-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [5c66a501-36] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:21.078+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:21.083+08:00  INFO 58228 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:21.084+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.084+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T13:35:21.084+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:35:21.084+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [5c66a501-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:21.085+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-2, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5c66a501-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] Last HTTP response frame
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5c66a501-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1202] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [5c66a501-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1202] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:21.118+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [5c66a501-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1202] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [d4975233, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] New http connection, requesting read
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [d4975233, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [d4975233, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] Increasing pending responses count: 1
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [d4975233-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [d4975233-37] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:21.124+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:21.128+08:00  INFO 58228 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:21.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T13:35:21.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:35:21.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d4975233-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:21.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-3, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [d4975233-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] Last HTTP response frame
2025-08-10T13:35:21.163+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [d4975233-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1204] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:21.165+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [d4975233-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1204] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:21.165+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [d4975233-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1204] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [c34a813b, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] New http connection, requesting read
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [c34a813b, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [c34a813b, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] Increasing pending responses count: 1
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [c34a813b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [c34a813b-38] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:22.428+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:22.432+08:00  INFO 58228 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:22.432+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:22.432+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.http.client.HttpClientConnect    : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, method=GET}
2025-08-10T13:35:22.432+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:35:22.432+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [c34a813b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:22.432+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:35:22.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:22.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.client.HttpClientOperations     : [95bbb928-4, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history-conversation/77911914-cb63-4bce-9961-a83696a5db6b, connection=PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.resources.PooledConnectionProvider   : [95bbb928, L:/192.168.0.18:1200 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [c34a813b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] Last HTTP response frame
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [c34a813b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1209] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [c34a813b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1209] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:22.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [c34a813b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1209] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:26.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [f9c3b025, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] New http connection, requesting read
2025-08-10T13:35:26.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [f9c3b025, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:26.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [f9c3b025, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] Increasing pending responses count: 1
2025-08-10T13:35:26.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [f9c3b025-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:26.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:35:26.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:26.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [f9c3b025-39] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:26.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:26.424+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [9b7d5f3c] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:26.424+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [9b7d5f3c] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [9b7d5f3c] Connecting to [/192.168.0.18:58012].
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:35:26.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [f9c3b025-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:26.426+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [9b7d5f3c-1, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [f9c3b025-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] Last HTTP response frame
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [f9c3b025-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1235] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [f9c3b025-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1235] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:26.484+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [f9c3b025-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1235] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [5bec4c3e, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] New http connection, requesting read
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [5bec4c3e, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [5bec4c3e, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] Increasing pending responses count: 1
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [5bec4c3e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [5bec4c3e-40] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [5bec4c3e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:26.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [9b7d5f3c-2, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [9b7d5f3c, L:/192.168.0.18:1236 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [5bec4c3e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] Last HTTP response frame
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [5bec4c3e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1238] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [5bec4c3e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1238] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:26.532+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [5bec4c3e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1238] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:29.342+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75a2f8da, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] New http connection, requesting read
2025-08-10T13:35:29.342+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [75a2f8da, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:29.348+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75a2f8da, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] Increasing pending responses count: 1
2025-08-10T13:35:29.348+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [75a2f8da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:29.348+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:35:29.348+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:29.349+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [75a2f8da-41] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:29.349+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [ee0c7394] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [ee0c7394] Connecting to [/172.22.64.1:58050].
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [75a2f8da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:29.351+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-1, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:29.415+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:29.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:29.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75a2f8da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] Last HTTP response frame
2025-08-10T13:35:29.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75a2f8da-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1250] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:29.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [75a2f8da-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1250] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:29.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [75a2f8da-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1250] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:29.421+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [e5c3de5f, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] New http connection, requesting read
2025-08-10T13:35:29.421+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [e5c3de5f, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [e5c3de5f, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] Increasing pending responses count: 1
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [e5c3de5f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [e5c3de5f-42] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [e5c3de5f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:29.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:29.480+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:29.480+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:29.480+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-2, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [e5c3de5f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] Last HTTP response frame
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [e5c3de5f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1254] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [e5c3de5f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1254] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:29.481+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [e5c3de5f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1254] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:45.659+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cc82c61e, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] New http connection, requesting read
2025-08-10T13:35:45.660+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [cc82c61e, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:45.660+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cc82c61e, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] Increasing pending responses count: 1
2025-08-10T13:35:45.660+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [cc82c61e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:45.660+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:35:45.661+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:45.661+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [cc82c61e-43] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:45.661+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:45.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:35:45.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:45.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [cc82c61e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.662+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-3, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cc82c61e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] Last HTTP response frame
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cc82c61e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1368] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [cc82c61e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1368] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:45.724+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [cc82c61e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1368] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [f2048e07, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] New http connection, requesting read
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [f2048e07, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [f2048e07, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] Increasing pending responses count: 1
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [f2048e07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [f2048e07-44] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [f2048e07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.732+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:45.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:45.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:45.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-4, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:45.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:45.826+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:45.827+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:45.827+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.827+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [f2048e07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] Last HTTP response frame
2025-08-10T13:35:45.827+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [f2048e07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1371] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:45.827+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [f2048e07-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1371] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:45.827+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [f2048e07-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1371] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:45.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [728aadb2, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] New http connection, requesting read
2025-08-10T13:35:45.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [728aadb2, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:45.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [728aadb2, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] Increasing pending responses count: 1
2025-08-10T13:35:45.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [728aadb2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:45.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:35:45.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:35:45.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [728aadb2-45] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:45.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:45.857+08:00  INFO 58228 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:45.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:35:45.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:45.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [728aadb2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-5, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [728aadb2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] Last HTTP response frame
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [728aadb2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1390] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [728aadb2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1390] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:45.908+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [728aadb2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1390] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [39ed1bda, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] New http connection, requesting read
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [39ed1bda, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [39ed1bda, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] Increasing pending responses count: 1
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [39ed1bda-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [39ed1bda-46] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:45.917+08:00  INFO 58228 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:35:45.917+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:45.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [39ed1bda-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:45.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-6, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [39ed1bda-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] Last HTTP response frame
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [39ed1bda-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1392] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [39ed1bda-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1392] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:46.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [39ed1bda-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1392] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [fc547716, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] New http connection, requesting read
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [fc547716, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [fc547716, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] Increasing pending responses count: 1
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [fc547716-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [fc547716-47] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:46.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:46.022+08:00  INFO 58228 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:46.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:35:46.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:46.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [fc547716-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-7, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:46.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [fc547716-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] Last HTTP response frame
2025-08-10T13:35:46.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [fc547716-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1394] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:46.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [fc547716-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1394] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:46.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [fc547716-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1394] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:46.071+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [4d7b9ab4, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] New http connection, requesting read
2025-08-10T13:35:46.071+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [4d7b9ab4, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:46.071+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [4d7b9ab4, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] Increasing pending responses count: 1
2025-08-10T13:35:46.072+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [4d7b9ab4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:46.072+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:35:46.072+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:35:46.072+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [4d7b9ab4-48] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:46.072+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:46.074+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:46.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:35:46.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:46.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [4d7b9ab4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-8, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [4d7b9ab4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] Last HTTP response frame
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [4d7b9ab4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1396] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [4d7b9ab4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1396] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:46.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [4d7b9ab4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1396] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:46.116+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [714e1db4, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] New http connection, requesting read
2025-08-10T13:35:46.116+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [714e1db4, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:46.116+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [714e1db4, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] Increasing pending responses count: 1
2025-08-10T13:35:46.116+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [714e1db4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:46.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:35:46.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:35:46.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [714e1db4-49] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:46.117+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:46.119+08:00  INFO 58228 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:46.121+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.121+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:35:46.121+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:46.122+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [714e1db4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.122+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:46.158+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-9, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [714e1db4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] Last HTTP response frame
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [714e1db4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1398] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [714e1db4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1398] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:46.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [714e1db4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1398] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:46.162+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [9c85dafd, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] New http connection, requesting read
2025-08-10T13:35:46.162+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [9c85dafd, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:46.162+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [9c85dafd, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] Increasing pending responses count: 1
2025-08-10T13:35:46.162+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [9c85dafd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:46.164+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:35:46.164+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:35:46.164+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [9c85dafd-50] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:46.164+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:46.166+08:00  INFO 58228 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:35:46.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:35:46.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:46.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [9c85dafd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:46.204+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:46.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:46.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-10, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [9c85dafd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] Last HTTP response frame
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [9c85dafd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1400] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [9c85dafd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1400] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:46.207+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [9c85dafd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1400] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:52.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [57ab2e12, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] New http connection, requesting read
2025-08-10T13:35:52.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [57ab2e12, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:52.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [57ab2e12, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] Increasing pending responses count: 1
2025-08-10T13:35:52.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [57ab2e12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:52.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:35:52.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:52.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [57ab2e12-51] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:52.783+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:52.785+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:52.785+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:35:52.785+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:52.785+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [57ab2e12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:52.785+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:52.865+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:52.865+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-11, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [57ab2e12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] Last HTTP response frame
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [57ab2e12-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1430] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [57ab2e12-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1430] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:52.866+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [57ab2e12-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1430] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:35:52.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [0ba7d726, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] New http connection, requesting read
2025-08-10T13:35:52.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [0ba7d726, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:35:52.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [0ba7d726, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] Increasing pending responses count: 1
2025-08-10T13:35:52.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [0ba7d726-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:35:52.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:35:52.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:35:52.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [0ba7d726-52] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:35:52.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:35:52.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:52.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:35:52.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:35:52.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [0ba7d726-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:35:52.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:35:52.927+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:35:52.927+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [ee0c7394-12, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [0ba7d726-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] Last HTTP response frame
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [0ba7d726-1, L:/127.0.0.1:57070 - R:/127.0.0.1:1432] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:35:52.928+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [ee0c7394, L:/172.22.64.1:1251 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:35:52.929+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [0ba7d726-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1432] Last HTTP packet was sent, terminating the channel
2025-08-10T13:35:52.929+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [0ba7d726-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:1432] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:36:22.902+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.r.DefaultPooledConnectionProvider    : [95bbb928, L:/192.168.0.18:1200 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x95bbb928, L:/192.168.0.18:1200 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T13:36:26.923+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [9b7d5f3c, L:/192.168.0.18:1236 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x9b7d5f3c, L:/192.168.0.18:1236 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T13:36:53.308+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [ee0c7394, L:/172.22.64.1:1251 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xee0c7394, L:/172.22.64.1:1251 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:40:51.290+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [524cb44c, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] New http connection, requesting read
2025-08-10T13:40:51.290+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [524cb44c, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:51.291+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [524cb44c, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] Increasing pending responses count: 1
2025-08-10T13:40:51.291+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [524cb44c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:51.292+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:51.292+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/add] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:51.292+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [524cb44c-53] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:51.292+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:51.295+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:51.297+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:51.297+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [0289f1d9] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:51.297+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConnector     : [0289f1d9] Connecting to [/172.22.64.1:58050].
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/add, method=POST}
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/add, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:51.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [524cb44c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:51.299+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/add, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/add, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-1, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/add, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/add, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [524cb44c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] Last HTTP response frame
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [524cb44c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3004] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [524cb44c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3004] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:51.438+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [524cb44c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3004] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:52.377+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [66f82c86, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] New http connection, requesting read
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [66f82c86, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [66f82c86, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] Increasing pending responses count: 1
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [66f82c86-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [66f82c86-54] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [66f82c86-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:52.379+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-2, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [66f82c86-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] Last HTTP response frame
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [66f82c86-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3015] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [66f82c86-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3015] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:52.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [66f82c86-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3015] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b1285057, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] New http connection, requesting read
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [b1285057, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b1285057, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] Increasing pending responses count: 1
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [b1285057-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [b1285057-55] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:52.476+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:52.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:52.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:40:52.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:52.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [b1285057-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:52.479+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-3, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b1285057-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] Last HTTP response frame
2025-08-10T13:40:52.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b1285057-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3018] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:52.568+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [b1285057-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3018] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:52.568+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [b1285057-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3018] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6a546d2f, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] New http connection, requesting read
2025-08-10T13:40:57.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [6a546d2f, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6a546d2f, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] Increasing pending responses count: 1
2025-08-10T13:40:57.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [6a546d2f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.625+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:40:57.625+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:40:57.625+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [6a546d2f-56] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.625+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.628+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.628+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:40:57.628+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.628+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [6a546d2f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:57.692+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:57.692+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-4, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6a546d2f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] Last HTTP response frame
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6a546d2f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3047] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6a546d2f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3047] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:57.693+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [6a546d2f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3047] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.698+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [a8a3e95e, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] New http connection, requesting read
2025-08-10T13:40:57.698+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [a8a3e95e, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.698+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [a8a3e95e, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] Increasing pending responses count: 1
2025-08-10T13:40:57.698+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [a8a3e95e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.698+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [a8a3e95e-57] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [a8a3e95e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.699+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:57.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:57.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:57.746+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-5, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [a8a3e95e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] Last HTTP response frame
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [a8a3e95e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3049] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [a8a3e95e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3049] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:57.751+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [a8a3e95e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3049] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.778+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ce695a7e, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] New http connection, requesting read
2025-08-10T13:40:57.778+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [ce695a7e, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ce695a7e, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] Increasing pending responses count: 1
2025-08-10T13:40:57.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [ce695a7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:57.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:57.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [ce695a7e-58] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.781+08:00  INFO 58228 --- [gateway] [reactor-http-nio-8] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:57.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:57.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [ce695a7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.782+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:57.816+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:57.816+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-6, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ce695a7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] Last HTTP response frame
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ce695a7e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3065] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [ce695a7e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3065] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:57.818+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [ce695a7e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3065] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [6cb07903, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] New http connection, requesting read
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [6cb07903, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [6cb07903, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] Increasing pending responses count: 1
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [6cb07903-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [6cb07903-59] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.823+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.827+08:00  INFO 58228 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:57.828+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.828+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:57.828+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.828+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [6cb07903-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.828+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-7, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [6cb07903-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] Last HTTP response frame
2025-08-10T13:40:57.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [6cb07903-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3069] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:57.865+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [6cb07903-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3069] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:57.865+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [6cb07903-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3069] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [724039dd, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] New http connection, requesting read
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [724039dd, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [724039dd, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] Increasing pending responses count: 1
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [724039dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [724039dd-60] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.868+08:00  INFO 58228 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [724039dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.868+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:57.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:57.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:57.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-8, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:57.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:57.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:57.909+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:57.909+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [724039dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] Last HTTP response frame
2025-08-10T13:40:57.909+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [724039dd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3071] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:57.909+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.909+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [724039dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3071] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:57.909+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [724039dd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3071] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [0c7517c1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] New http connection, requesting read
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [0c7517c1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [0c7517c1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] Increasing pending responses count: 1
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [0c7517c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [0c7517c1-61] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.918+08:00  INFO 58228 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:57.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:57.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [0c7517c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.918+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:57.951+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [0c7517c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] Last HTTP response frame
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [0c7517c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3073] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [0c7517c1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3073] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:57.953+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [0c7517c1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3073] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4787c2e1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] New http connection, requesting read
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [4787c2e1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4787c2e1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] Increasing pending responses count: 1
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [4787c2e1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [4787c2e1-62] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:57.958+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:57.961+08:00  INFO 58228 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:57.962+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:57.962+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:57.962+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:57.962+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [4787c2e1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:57.962+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:58.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:58.006+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-10, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4787c2e1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] Last HTTP response frame
2025-08-10T13:40:58.007+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4787c2e1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3075] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:58.008+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [4787c2e1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3075] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:58.008+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [4787c2e1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3075] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [79b6332e, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] New http connection, requesting read
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [79b6332e, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [79b6332e, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] Increasing pending responses count: 1
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [79b6332e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [79b6332e-63] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:58.014+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:58.018+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:58.019+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:58.019+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:58.019+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:58.019+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [79b6332e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:58.019+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-11, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:58.055+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:58.056+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:58.056+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [79b6332e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] Last HTTP response frame
2025-08-10T13:40:58.056+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [79b6332e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3077] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:58.056+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [79b6332e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3077] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:58.056+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [79b6332e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3077] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:40:58.061+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ed358db0, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] New http connection, requesting read
2025-08-10T13:40:58.061+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [ed358db0, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:40:58.061+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ed358db0, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] Increasing pending responses count: 1
2025-08-10T13:40:58.061+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [ed358db0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:40:58.062+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:40:58.062+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:40:58.062+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [ed358db0-64] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:40:58.062+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:40:58.064+08:00  INFO 58228 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:40:58.065+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:58.065+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:40:58.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:40:58.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [ed358db0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:40:58.066+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-12, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ed358db0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] Last HTTP response frame
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ed358db0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3079] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [ed358db0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3079] Last HTTP packet was sent, terminating the channel
2025-08-10T13:40:58.097+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [ed358db0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3079] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:01.183+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [6dfade29, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] New http connection, requesting read
2025-08-10T13:41:01.183+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [6dfade29, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:01.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [6dfade29, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] Increasing pending responses count: 1
2025-08-10T13:41:01.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [6dfade29-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:01.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:01.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:01.185+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [6dfade29-65] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:01.185+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:01.187+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.187+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T13:41:01.187+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:01.187+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [6dfade29-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.188+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:01.259+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:01.259+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:01.260+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.260+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-13, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:01.260+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:01.260+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:01.261+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:01.261+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.261+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [6dfade29-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] Last HTTP response frame
2025-08-10T13:41:01.261+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [6dfade29-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3091] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:01.261+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [6dfade29-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3091] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:01.261+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [6dfade29-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3091] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:01.448+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [8b052feb, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] New http connection, requesting read
2025-08-10T13:41:01.448+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [8b052feb, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:01.449+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [8b052feb, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] Increasing pending responses count: 1
2025-08-10T13:41:01.449+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [8b052feb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:01.449+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:01.449+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:01.449+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [8b052feb-66] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:01.449+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:01.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/get-count, method=POST}
2025-08-10T13:41:01.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:01.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [8b052feb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.452+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:01.493+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:01.493+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:01.493+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-14, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [8b052feb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] Last HTTP response frame
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [8b052feb-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3099] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [8b052feb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3099] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:01.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [8b052feb-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3099] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:01.497+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [59e6b4ae, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] New http connection, requesting read
2025-08-10T13:41:01.497+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [59e6b4ae, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:01.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [59e6b4ae, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] Increasing pending responses count: 1
2025-08-10T13:41:01.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [59e6b4ae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:01.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:01.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:01.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [59e6b4ae-67] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:01.498+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:01.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/list, method=POST}
2025-08-10T13:41:01.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:01.501+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [59e6b4ae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.501+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:01.536+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:01.536+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-15, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [59e6b4ae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] Last HTTP response frame
2025-08-10T13:41:01.537+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [59e6b4ae-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3103] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:01.538+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [59e6b4ae-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3103] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:01.538+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [59e6b4ae-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3103] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:01.577+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9ea2ef97, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] New http connection, requesting read
2025-08-10T13:41:01.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [9ea2ef97, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:01.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9ea2ef97, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] Increasing pending responses count: 1
2025-08-10T13:41:01.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [9ea2ef97-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:01.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:01.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:01.578+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [9ea2ef97-68] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:01.579+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:01.580+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:01.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:01.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:01.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [9ea2ef97-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:01.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:01.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:01.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:01.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-16, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:01.621+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9ea2ef97-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] Last HTTP response frame
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9ea2ef97-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3105] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [9ea2ef97-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3105] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:01.622+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [9ea2ef97-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3105] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:18.987+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bb10b77a, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] New http connection, requesting read
2025-08-10T13:41:18.987+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [bb10b77a, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:18.987+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bb10b77a, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] Increasing pending responses count: 1
2025-08-10T13:41:18.987+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [bb10b77a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:18.987+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [bb10b77a-69] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:18.994+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [bb10b77a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:18.996+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:19.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:19.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:19.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-17, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:19.067+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:19.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:19.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:19.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bb10b77a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] Last HTTP response frame
2025-08-10T13:41:19.075+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bb10b77a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3207] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:19.076+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [bb10b77a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3207] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:19.076+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [bb10b77a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3207] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:19.125+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [bf99793f, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] New http connection, requesting read
2025-08-10T13:41:19.125+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [bf99793f, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.125+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [bf99793f, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] Increasing pending responses count: 1
2025-08-10T13:41:19.125+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [bf99793f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:19.126+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:19.126+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:19.126+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [bf99793f-70] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:19.126+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:19.127+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [52256de9, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] New http connection, requesting read
2025-08-10T13:41:19.127+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [52256de9, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.127+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [7ca30fa0, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] New http connection, requesting read
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [7ca30fa0, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [52256de9, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] Increasing pending responses count: 1
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [52256de9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [7ca30fa0, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] Increasing pending responses count: 1
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [7ca30fa0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [52256de9-71] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:19.128+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [7ca30fa0-72] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:19.129+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:19.130+08:00  INFO 58228 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:19.130+08:00  INFO 58228 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:19.130+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:19.130+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [bf99793f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [bda8fcb7] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256] Created a new pooled channel, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConnector     : [bda8fcb7] Connecting to [/172.22.64.1:58050].
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [c5ee3256] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConnector     : [c5ee3256] Connecting to [/172.22.64.1:58050].
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel connected, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [7ca30fa0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [52256de9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:19.132+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:19.160+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:19.160+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:19.160+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.160+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-18, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:19.160+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:19.167+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:19.167+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:19.167+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.167+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [bf99793f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] Last HTTP response frame
2025-08-10T13:41:19.167+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [bf99793f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3213] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:19.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [bf99793f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3213] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:19.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [bf99793f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3213] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-1, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:19.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-1, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [52256de9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] Last HTTP response frame
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [7ca30fa0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] Last HTTP response frame
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [52256de9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3215] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [7ca30fa0-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3216] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [52256de9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3215] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [7ca30fa0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3216] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [52256de9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3215] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [7ca30fa0-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3216] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.199+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [52537291, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] New http connection, requesting read
2025-08-10T13:41:19.779+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [52537291, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [52537291, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] Increasing pending responses count: 1
2025-08-10T13:41:19.780+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [52537291-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [52537291-73] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [52537291-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-19, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [52537291-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] Last HTTP response frame
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [52537291-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3231] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [52537291-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3231] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:19.851+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [52537291-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3231] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:19.859+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [089a848a, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] New http connection, requesting read
2025-08-10T13:41:19.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [089a848a, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [089a848a, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] Increasing pending responses count: 1
2025-08-10T13:41:19.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [089a848a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:19.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:19.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:19.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [089a848a-74] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:19.861+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:19.862+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.862+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:41:19.862+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:19.863+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [089a848a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.863+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-2, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [089a848a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] Last HTTP response frame
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [089a848a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3233] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [089a848a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3233] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:19.954+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [089a848a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3233] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [52c2b491, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] New http connection, requesting read
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [52c2b491, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [52c2b491, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] Increasing pending responses count: 1
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [52c2b491-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [52c2b491-75] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:19.979+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:19.979+08:00  INFO 58228 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:19.983+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:19.984+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:19.984+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:19.984+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [52c2b491-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:19.985+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.029+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.029+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.029+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-2, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [52c2b491-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] Last HTTP response frame
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [52c2b491-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3235] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [52c2b491-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3235] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.030+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [52c2b491-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3235] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:20.036+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [d2c48f2d, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] New http connection, requesting read
2025-08-10T13:41:20.036+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [d2c48f2d, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:20.036+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [d2c48f2d, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] Increasing pending responses count: 1
2025-08-10T13:41:20.036+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [d2c48f2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:20.037+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:20.037+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:20.037+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [d2c48f2d-76] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:20.037+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:20.039+08:00  INFO 58228 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:20.040+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.040+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:20.040+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:20.041+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [d2c48f2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.041+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-20, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [d2c48f2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] Last HTTP response frame
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [d2c48f2d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3237] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [d2c48f2d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3237] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [d2c48f2d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3237] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:20.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [7393187f, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] New http connection, requesting read
2025-08-10T13:41:20.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [7393187f, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:20.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [7393187f, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] Increasing pending responses count: 1
2025-08-10T13:41:20.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [7393187f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:20.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:20.100+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:20.100+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [7393187f-77] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:20.100+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:20.104+08:00  INFO 58228 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:20.106+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.106+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:20.106+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:20.107+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [7393187f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.107+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.151+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.151+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-3, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [7393187f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] Last HTTP response frame
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [7393187f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3240] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [7393187f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3240] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [7393187f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3240] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [25404730, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] New http connection, requesting read
2025-08-10T13:41:20.153+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [25404730, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:20.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [25404730, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] Increasing pending responses count: 1
2025-08-10T13:41:20.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [25404730-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:20.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:20.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:20.159+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [25404730-78] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:20.160+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:20.161+08:00  INFO 58228 --- [gateway] [reactor-http-nio-12] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:20.161+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.161+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:20.161+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:20.161+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [25404730-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.161+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-3, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [25404730-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] Last HTTP response frame
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [25404730-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3242] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [25404730-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3242] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.193+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [25404730-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3242] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1b148b56, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] New http connection, requesting read
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [1b148b56, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1b148b56, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] Increasing pending responses count: 1
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [1b148b56-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [1b148b56-79] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:20.203+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:20.211+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:20.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.213+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:20.213+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:20.213+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [1b148b56-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.213+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-21, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1b148b56-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] Last HTTP response frame
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1b148b56-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3244] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [1b148b56-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3244] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.245+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [1b148b56-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3244] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:20.252+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [54f2a1d2, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] New http connection, requesting read
2025-08-10T13:41:20.252+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [54f2a1d2, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:20.252+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [54f2a1d2, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] Increasing pending responses count: 1
2025-08-10T13:41:20.252+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [54f2a1d2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [54f2a1d2-80] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:20.253+08:00  INFO 58228 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [54f2a1d2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.253+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.294+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.294+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-4, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [54f2a1d2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] Last HTTP response frame
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [54f2a1d2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3246] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [54f2a1d2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3246] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.295+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [54f2a1d2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3246] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:20.301+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [d905e3c4, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] New http connection, requesting read
2025-08-10T13:41:20.301+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [d905e3c4, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:20.301+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [d905e3c4, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] Increasing pending responses count: 1
2025-08-10T13:41:20.301+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [d905e3c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:20.302+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:20.302+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:20.302+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [d905e3c4-81] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:20.302+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:20.304+08:00  INFO 58228 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:20.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:20.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:20.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [d905e3c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:20.362+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:20.362+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-4, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:20.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [d905e3c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] Last HTTP response frame
2025-08-10T13:41:20.368+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [d905e3c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3248] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:20.368+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [d905e3c4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3248] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:20.368+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [d905e3c4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3248] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:26.447+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [9a48f9e7, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] New http connection, requesting read
2025-08-10T13:41:26.447+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [9a48f9e7, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:26.447+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [9a48f9e7, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] Increasing pending responses count: 1
2025-08-10T13:41:26.447+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [9a48f9e7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:26.448+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:26.448+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/shift-top] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:26.448+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [9a48f9e7-82] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:26.448+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:26.450+08:00  INFO 58228 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:26.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:26.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/shift-top, method=POST}
2025-08-10T13:41:26.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/shift-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:26.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [9a48f9e7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:26.451+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/shift-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/shift-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-22, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/shift-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/shift-top, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [9a48f9e7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] Last HTTP response frame
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [9a48f9e7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3286] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [9a48f9e7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3286] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:26.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [9a48f9e7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3286] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6572b7c1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] New http connection, requesting read
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [6572b7c1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6572b7c1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] Increasing pending responses count: 1
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [6572b7c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:26.646+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [6572b7c1-83] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:26.648+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:26.649+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:26.649+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:41:26.649+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:26.649+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [6572b7c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:26.649+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-5, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6572b7c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] Last HTTP response frame
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6572b7c1-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3289] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6572b7c1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3289] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:26.718+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [6572b7c1-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3289] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3a76c967, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] New http connection, requesting read
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [3a76c967, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3a76c967, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] Increasing pending responses count: 1
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [3a76c967-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [3a76c967-84] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:26.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:26.726+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:26.726+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:41:26.726+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:26.726+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [3a76c967-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:26.726+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-5, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3a76c967-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] Last HTTP response frame
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3a76c967-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3291] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3a76c967-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3291] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:26.784+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [3a76c967-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3291] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:41.130+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [13bd218a, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] New http connection, requesting read
2025-08-10T13:41:41.130+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [13bd218a, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:41.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [13bd218a, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] Increasing pending responses count: 1
2025-08-10T13:41:41.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [13bd218a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:41.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:41.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:41.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [13bd218a-85] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:41.131+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:41.133+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.133+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T13:41:41.133+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:41.133+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [13bd218a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.133+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:41.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:41.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:41.208+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-23, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [13bd218a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] Last HTTP response frame
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [13bd218a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3361] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [13bd218a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3361] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:41.209+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [13bd218a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3361] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:41.287+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e6db0601, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] New http connection, requesting read
2025-08-10T13:41:41.287+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [e6db0601, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e6db0601, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] Increasing pending responses count: 1
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [e6db0601-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [e6db0601-86] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/get-count, method=POST}
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [e6db0601-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.288+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:41.324+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-6, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e6db0601-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] Last HTTP response frame
2025-08-10T13:41:41.325+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e6db0601-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3366] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:41.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e6db0601-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3366] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:41.326+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [e6db0601-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3366] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:41.329+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c177b178, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] New http connection, requesting read
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [c177b178, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c177b178, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] Increasing pending responses count: 1
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [c177b178-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [c177b178-87] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:41.330+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:41.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/list, method=POST}
2025-08-10T13:41:41.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:41.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [c177b178-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:41.364+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:41.364+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:41.364+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.364+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-6, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:41.364+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c177b178-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] Last HTTP response frame
2025-08-10T13:41:41.364+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c177b178-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3369] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:41.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [c177b178-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3369] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:41.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [c177b178-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3369] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:41.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:41.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:41.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:41.367+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6b7b9ec3, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] New http connection, requesting read
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [6b7b9ec3, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6b7b9ec3, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] Increasing pending responses count: 1
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [6b7b9ec3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [6b7b9ec3-88] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:41.380+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:41.385+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:41.385+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.385+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:41.385+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:41.385+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [6b7b9ec3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.385+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:41.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:41.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:41.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-24, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6b7b9ec3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] Last HTTP response frame
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6b7b9ec3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3371] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [6b7b9ec3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3371] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:41.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [6b7b9ec3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3371] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [b346f3e8, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] New http connection, requesting read
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [b346f3e8, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [b346f3e8, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] Increasing pending responses count: 1
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [b346f3e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list-top] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [b346f3e8-89] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:58.077+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:58.082+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.082+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list-top, method=POST}
2025-08-10T13:41:58.082+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:58.083+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [b346f3e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.083+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-7, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list-top, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [b346f3e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] Last HTTP response frame
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [b346f3e8-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3430] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [b346f3e8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3430] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:58.155+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [b346f3e8-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3430] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [040ffb0b, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] New http connection, requesting read
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [040ffb0b, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [040ffb0b, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] Increasing pending responses count: 1
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [040ffb0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [040ffb0b-90] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [eb7078f9, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] New http connection, requesting read
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [eb7078f9, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [699b88ad, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] New http connection, requesting read
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [eb7078f9, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] Increasing pending responses count: 1
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [699b88ad, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [eb7078f9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [699b88ad, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] Increasing pending responses count: 1
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [699b88ad-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [eb7078f9-91] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [699b88ad-92] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:41:58.200+08:00  INFO 58228 --- [gateway] [reactor-http-nio-8] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.200+08:00  INFO 58228 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:58.200+08:00  INFO 58228 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [040ffb0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 3 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:58.200+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:41:58.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [eb7078f9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [699b88ad-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:58.206+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [040ffb0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] Last HTTP response frame
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 2 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [040ffb0b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3435] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [040ffb0b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3435] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:58.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [040ffb0b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3435] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:58.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:58.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:41:58.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:58.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:41:58.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-8, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-25, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [eb7078f9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] Last HTTP response frame
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [699b88ad-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] Last HTTP response frame
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [eb7078f9-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3436] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [699b88ad-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3437] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [eb7078f9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3436] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [699b88ad-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3437] Last HTTP packet was sent, terminating the channel
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [eb7078f9-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3436] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:41:58.270+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [699b88ad-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3437] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d91fe7c5, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] New http connection, requesting read
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [d91fe7c5, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d91fe7c5, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] Increasing pending responses count: 1
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [d91fe7c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [d91fe7c5-93] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:01.867+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:01.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:01.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:42:01.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:01.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [d91fe7c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:01.871+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:01.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:01.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:01.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:01.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-8, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:01.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:01.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:01.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:01.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:01.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d91fe7c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] Last HTTP response frame
2025-08-10T13:42:01.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d91fe7c5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3459] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:01.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [d91fe7c5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3459] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:01.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [d91fe7c5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3459] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:01.948+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [90754419, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] New http connection, requesting read
2025-08-10T13:42:01.948+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [90754419, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:01.948+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [90754419, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] Increasing pending responses count: 1
2025-08-10T13:42:01.949+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [90754419-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:01.949+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:42:01.949+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:42:01.949+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [90754419-94] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:01.949+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:01.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:01.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:42:01.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:01.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [90754419-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:01.950+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.015+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.015+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-9, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.016+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [90754419-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] Last HTTP response frame
2025-08-10T13:42:02.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [90754419-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3461] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [90754419-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3461] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [90754419-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3461] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.038+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [8ac72c63, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] New http connection, requesting read
2025-08-10T13:42:02.038+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [8ac72c63, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.038+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [8ac72c63, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] Increasing pending responses count: 1
2025-08-10T13:42:02.038+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [8ac72c63-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.038+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.041+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.041+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [8ac72c63-95] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.041+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.042+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.042+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.042+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.042+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.042+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [8ac72c63-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.042+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.088+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-26, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [8ac72c63-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] Last HTTP response frame
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [8ac72c63-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3463] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [8ac72c63-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3463] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.089+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [8ac72c63-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3463] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.095+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [63a0c85d, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] New http connection, requesting read
2025-08-10T13:42:02.095+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [63a0c85d, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.095+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [63a0c85d, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] Increasing pending responses count: 1
2025-08-10T13:42:02.095+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [63a0c85d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.096+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.096+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.096+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [63a0c85d-96] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.096+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.098+08:00  INFO 58228 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [63a0c85d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.099+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.139+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.139+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.140+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.140+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-9, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [63a0c85d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] Last HTTP response frame
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [63a0c85d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3465] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [63a0c85d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3465] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.141+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [63a0c85d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3465] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.146+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [f94ae0cd, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] New http connection, requesting read
2025-08-10T13:42:02.146+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [f94ae0cd, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.146+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [f94ae0cd, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] Increasing pending responses count: 1
2025-08-10T13:42:02.146+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [f94ae0cd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.146+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.146+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.147+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [f94ae0cd-97] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.147+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.148+08:00  INFO 58228 --- [gateway] [reactor-http-nio-15] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.149+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.149+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.149+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.149+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [f94ae0cd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.150+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-10, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [f94ae0cd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] Last HTTP response frame
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [f94ae0cd-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3467] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [f94ae0cd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3467] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [f94ae0cd-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3467] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2554c394, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] New http connection, requesting read
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [2554c394, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2554c394, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] Increasing pending responses count: 1
2025-08-10T13:42:02.184+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [2554c394-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.191+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.191+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.191+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [2554c394-98] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.191+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.192+08:00  INFO 58228 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [2554c394-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.192+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-27, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2554c394-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] Last HTTP response frame
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2554c394-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3469] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [2554c394-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3469] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.228+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [2554c394-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3469] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.233+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [711c999b, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] New http connection, requesting read
2025-08-10T13:42:02.233+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [711c999b, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [711c999b, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] Increasing pending responses count: 1
2025-08-10T13:42:02.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [711c999b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [711c999b-99] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.234+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.237+08:00  INFO 58228 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.237+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [711c999b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.238+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [bda8fcb7-10, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [bda8fcb7, L:/172.22.64.1:3217 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [711c999b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] Last HTTP response frame
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [711c999b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3471] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [711c999b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3471] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.269+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [711c999b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3471] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3de8f3e4, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] New http connection, requesting read
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [3de8f3e4, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3de8f3e4, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] Increasing pending responses count: 1
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [3de8f3e4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [3de8f3e4-100] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.275+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.http.client.HttpClientConnect    : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [3de8f3e4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.275+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.client.HttpClientOperations     : [c5ee3256-11, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.resources.PooledConnectionProvider   : [c5ee3256, L:/172.22.64.1:3218 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3de8f3e4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] Last HTTP response frame
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3de8f3e4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3473] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [3de8f3e4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3473] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.311+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [3de8f3e4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3473] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.317+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [078fbbe7, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] New http connection, requesting read
2025-08-10T13:42:02.317+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [078fbbe7, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:42:02.317+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [078fbbe7, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] Increasing pending responses count: 1
2025-08-10T13:42:02.317+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [078fbbe7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:42:02.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:42:02.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:42:02.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [078fbbe7-101] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:42:02.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:42:02.319+08:00  INFO 58228 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:42:02.322+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 2 inactive connections and 0 pending acquire requests.
2025-08-10T13:42:02.322+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.http.client.HttpClientConnect    : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:42:02.322+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:42:02.322+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [078fbbe7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.322+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:42:02.384+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:42:02.384+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.client.HttpClientOperations     : [0289f1d9-28, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [078fbbe7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] Last HTTP response frame
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [078fbbe7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:3475] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [078fbbe7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3475] Last HTTP packet was sent, terminating the channel
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [078fbbe7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:3475] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:42:02.386+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.resources.PooledConnectionProvider   : [0289f1d9, L:/172.22.64.1:3005 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 3 inactive connections and 0 pending acquire requests.
2025-08-10T13:43:02.814+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.r.DefaultPooledConnectionProvider    : [c5ee3256, L:/172.22.64.1:3218 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xc5ee3256, L:/172.22.64.1:3218 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:43:02.814+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [bda8fcb7, L:/172.22.64.1:3217 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xbda8fcb7, L:/172.22.64.1:3217 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:43:02.814+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.r.DefaultPooledConnectionProvider    : [0289f1d9, L:/172.22.64.1:3005 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x0289f1d9, L:/172.22.64.1:3005 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T13:53:30.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9b45a19d, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] New http connection, requesting read
2025-08-10T13:53:30.855+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [9b45a19d, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:30.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9b45a19d, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] Increasing pending responses count: 1
2025-08-10T13:53:30.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [9b45a19d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:53:30.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:53:30.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:53:30.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [9b45a19d-102] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:53:30.856+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:53:30.858+08:00  INFO 58228 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [6915ccb5] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConnector     : [6915ccb5] Connecting to [/192.168.0.18:58070].
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [9b45a19d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:30.860+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [6915ccb5-1, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9b45a19d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] Last HTTP response frame
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9b45a19d-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6823] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [9b45a19d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6823] Last HTTP packet was sent, terminating the channel
2025-08-10T13:53:31.039+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [9b45a19d-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6823] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [617198df, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] New http connection, requesting read
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [617198df, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [617198df, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] Increasing pending responses count: 1
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [617198df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:53:31.047+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [617198df-103] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:53:31.049+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:53:31.049+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:53:31.049+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:31.049+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T13:53:31.049+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:53:31.049+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [617198df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:31.049+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:53:31.202+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:53:31.202+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [6915ccb5-2, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [617198df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] Last HTTP response frame
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [617198df-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6826] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [617198df-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6826] Last HTTP packet was sent, terminating the channel
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [617198df-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6826] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:53:31.205+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [c569be37, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] New http connection, requesting read
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [c569be37, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [c569be37, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] Increasing pending responses count: 1
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [c569be37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [c569be37-104] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:53:31.212+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:53:31.215+08:00  INFO 58228 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:53:31.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:31.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.http.client.HttpClientConnect    : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T13:53:31.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:53:31.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [c569be37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:53:31.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.client.HttpClientOperations     : [6915ccb5-3, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.resources.PooledConnectionProvider   : [6915ccb5, L:/192.168.0.18:6824 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [c569be37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] Last HTTP response frame
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [c569be37-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6828] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [c569be37-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6828] Last HTTP packet was sent, terminating the channel
2025-08-10T13:53:31.381+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [c569be37-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6828] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [3ecee2b6, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] New http connection, requesting read
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [3ecee2b6, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [3ecee2b6, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] Increasing pending responses count: 1
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [3ecee2b6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [3ecee2b6-105] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [6037470f] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [6037470f] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConnector     : [6037470f] Connecting to [/192.168.0.18:58012].
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [3ecee2b6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:32.441+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:53:32.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:53:32.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:53:32.566+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [6037470f-1, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [3ecee2b6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] Last HTTP response frame
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [3ecee2b6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6835] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [3ecee2b6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6835] Last HTTP packet was sent, terminating the channel
2025-08-10T13:53:32.567+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [3ecee2b6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6835] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [0eaa6276, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] New http connection, requesting read
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [0eaa6276, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [0eaa6276, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] Increasing pending responses count: 1
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [0eaa6276-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [0eaa6276-106] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:53:32.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:53:32.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:32.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.http.client.HttpClientConnect    : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T13:53:32.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T13:53:32.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [0eaa6276-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:53:32.580+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.client.HttpClientOperations     : [6037470f-2, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.resources.PooledConnectionProvider   : [6037470f, L:/192.168.0.18:6836 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [0eaa6276-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] Last HTTP response frame
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [0eaa6276-1, L:/127.0.0.1:57070 - R:/127.0.0.1:6838] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [0eaa6276-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6838] Last HTTP packet was sent, terminating the channel
2025-08-10T13:53:32.641+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [0eaa6276-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:6838] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:54:31.796+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.r.DefaultPooledConnectionProvider    : [6915ccb5, L:/192.168.0.18:6824 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x6915ccb5, L:/192.168.0.18:6824 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T13:54:33.010+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.r.DefaultPooledConnectionProvider    : [6037470f, L:/192.168.0.18:6836 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0x6037470f, L:/192.168.0.18:6836 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T13:56:44.391+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [767332c4, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] New http connection, requesting read
2025-08-10T13:56:44.391+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [767332c4, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:44.391+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [767332c4, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] Increasing pending responses count: 1
2025-08-10T13:56:44.391+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [767332c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:44.392+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:56:44.392+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:56:44.392+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [767332c4-107] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:44.392+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:44.394+08:00  INFO 58228 --- [gateway] [reactor-http-nio-11] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:44.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [88501e73] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:44.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConnector     : [88501e73] Connecting to [/192.168.0.18:58070].
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [767332c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:44.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [88501e73-1, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [767332c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] Last HTTP response frame
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [767332c4-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7917] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [767332c4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7917] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:44.460+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [767332c4-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7917] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [7553403b, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] New http connection, requesting read
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [7553403b, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [7553403b, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] Increasing pending responses count: 1
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [7553403b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [7553403b-108] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:44.469+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [7553403b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:44.469+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [88501e73-2, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [7553403b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] Last HTTP response frame
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [7553403b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7920] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [7553403b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7920] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:44.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [7553403b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7920] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:44.528+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07e0adcc, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] New http connection, requesting read
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [07e0adcc, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07e0adcc, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] Increasing pending responses count: 1
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [07e0adcc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [07e0adcc-109] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:44.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:44.533+08:00  INFO 58228 --- [gateway] [reactor-http-nio-14] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:44.533+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T13:56:44.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T13:56:44.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [07e0adcc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:44.536+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [88501e73-3, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07e0adcc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] Last HTTP response frame
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07e0adcc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7922] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [88501e73, L:/192.168.0.18:7918 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [07e0adcc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7922] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:44.570+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [07e0adcc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7922] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [03e7f55c, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] New http connection, requesting read
2025-08-10T13:56:46.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [03e7f55c, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.419+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [03e7f55c, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] Increasing pending responses count: 1
2025-08-10T13:56:46.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [03e7f55c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:56:46.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:56:46.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [03e7f55c-110] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.420+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.421+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.421+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [d0193937] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.421+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConnector     : [d0193937] Connecting to [/172.22.64.1:58050].
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [03e7f55c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.423+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-1, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [03e7f55c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] Last HTTP response frame
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [03e7f55c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7939] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [03e7f55c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7939] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.486+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [03e7f55c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7939] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6c4e55c6, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] New http connection, requesting read
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [6c4e55c6, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6c4e55c6, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] Increasing pending responses count: 1
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [6c4e55c6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [6c4e55c6-111] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.494+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T13:56:46.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [6c4e55c6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-2, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6c4e55c6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] Last HTTP response frame
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6c4e55c6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7942] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [6c4e55c6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7942] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.546+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [6c4e55c6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7942] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [a2407007, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] New http connection, requesting read
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [a2407007, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [a2407007, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] Increasing pending responses count: 1
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [a2407007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [a2407007-112] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.594+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [a2407007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-3, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [a2407007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] Last HTTP response frame
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [a2407007-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7960] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [a2407007-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7960] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.629+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [a2407007-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7960] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [0f23a098, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] New http connection, requesting read
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [0f23a098, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [0f23a098, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] Increasing pending responses count: 1
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [0f23a098-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [0f23a098-113] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.636+08:00  INFO 58228 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [0f23a098-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.636+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-4, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [0f23a098-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] Last HTTP response frame
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [0f23a098-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7962] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [0f23a098-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7962] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [0f23a098-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7962] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e20618d6, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] New http connection, requesting read
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [e20618d6, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e20618d6, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] Increasing pending responses count: 1
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [e20618d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [e20618d6-114] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.686+08:00  INFO 58228 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.687+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.687+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.687+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.687+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [e20618d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.687+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-5, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e20618d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] Last HTTP response frame
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e20618d6-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7964] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [e20618d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7964] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.721+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [e20618d6-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7964] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.728+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [f748beed, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] New http connection, requesting read
2025-08-10T13:56:46.728+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [f748beed, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.728+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [f748beed, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] Increasing pending responses count: 1
2025-08-10T13:56:46.728+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [f748beed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.729+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.729+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.729+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [f748beed-115] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.729+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.730+08:00  INFO 58228 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [f748beed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.734+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.766+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.766+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.766+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.767+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-6, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.767+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [f748beed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] Last HTTP response frame
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [f748beed-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7966] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [f748beed-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7966] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.768+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [f748beed-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7966] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [544d30ec, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] New http connection, requesting read
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [544d30ec, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [544d30ec, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] Increasing pending responses count: 1
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [544d30ec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [544d30ec-116] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.774+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.777+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.777+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.777+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.777+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.777+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [544d30ec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.777+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-7, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [544d30ec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] Last HTTP response frame
2025-08-10T13:56:46.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [544d30ec-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7968] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [544d30ec-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7968] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [544d30ec-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7968] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [51fe0d43, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] New http connection, requesting read
2025-08-10T13:56:46.852+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [51fe0d43, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.853+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [51fe0d43, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] Increasing pending responses count: 1
2025-08-10T13:56:46.853+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [51fe0d43-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.854+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.854+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.854+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [51fe0d43-117] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.854+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.856+08:00  INFO 58228 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.857+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.857+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.857+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.857+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [51fe0d43-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.857+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-8, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [51fe0d43-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] Last HTTP response frame
2025-08-10T13:56:46.890+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [51fe0d43-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7970] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [51fe0d43-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7970] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.891+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [51fe0d43-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7970] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [629f0307, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] New http connection, requesting read
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [629f0307, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [629f0307, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] Increasing pending responses count: 1
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.http.server.HttpServer     : [629f0307-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.h.RoutePredicateHandlerMapping   : [629f0307-118] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T13:56:46.898+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T13:56:46.901+08:00  INFO 58228 --- [gateway] [reactor-http-nio-8] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T13:56:46.903+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.903+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.http.client.HttpClientConnect    : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T13:56:46.903+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T13:56:46.904+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [629f0307-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.904+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.client.HttpClientOperations     : [d0193937-9, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T13:56:46.941+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T13:56:46.943+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.resources.PooledConnectionProvider   : [d0193937, L:/172.22.64.1:7940 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T13:56:46.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [629f0307-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] Last HTTP response frame
2025-08-10T13:56:46.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [629f0307-1, L:/127.0.0.1:57070 - R:/127.0.0.1:7972] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T13:56:46.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.server.HttpServerOperations     : [629f0307-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7972] Last HTTP packet was sent, terminating the channel
2025-08-10T13:56:46.944+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.channel.ChannelOperations        : [629f0307-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:7972] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T13:57:45.091+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [88501e73, L:/192.168.0.18:7918 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x88501e73, L:/192.168.0.18:7918 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T13:57:47.296+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.r.DefaultPooledConnectionProvider    : [d0193937, L:/172.22.64.1:7940 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0xd0193937, L:/172.22.64.1:7940 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T17:25:39.474+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e5360782, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] New http connection, requesting read
2025-08-10T17:25:39.475+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [e5360782, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:39.477+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e5360782, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] Increasing pending responses count: 1
2025-08-10T17:25:39.477+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [e5360782-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:39.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:25:39.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/get] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:39.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [e5360782-119] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:39.478+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:39.485+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:39.485+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [3b8bf09b] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:39.485+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConnector     : [3b8bf09b] Connecting to [/172.22.64.1:58050].
2025-08-10T17:25:39.489+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Registering pool release on close event for channel
2025-08-10T17:25:39.490+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:39.490+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}, [connected])
2025-08-10T17:25:39.491+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [configured])
2025-08-10T17:25:39.491+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get, method=POST}
2025-08-10T17:25:39.491+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:39.491+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [e5360782-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:39.492+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:39.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:39.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:39.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-1, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/get, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e5360782-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] Last HTTP response frame
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e5360782-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4724] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [e5360782-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4724] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:39.686+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [e5360782-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4724] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:40.359+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [de4b7b8f, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] New http connection, requesting read
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [de4b7b8f, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [de4b7b8f, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] Increasing pending responses count: 1
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [de4b7b8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [de4b7b8f-120] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:40.360+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:40.361+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:40.362+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/get-count, method=POST}
2025-08-10T17:25:40.362+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:40.362+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [de4b7b8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:40.362+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-2, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:40.495+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:40.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [de4b7b8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] Last HTTP response frame
2025-08-10T17:25:40.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [de4b7b8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4735] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:40.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [de4b7b8f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4735] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:40.496+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [de4b7b8f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4735] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8aa502e5, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] New http connection, requesting read
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [8aa502e5, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8aa502e5, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] Increasing pending responses count: 1
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.http.server.HttpServer     : [8aa502e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/comment/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.h.RoutePredicateHandlerMapping   : [8aa502e5-121] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:40.499+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:40.503+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:40.503+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/comment/list, method=POST}
2025-08-10T17:25:40.503+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:40.504+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [8aa502e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:40.504+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-3, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8aa502e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] Last HTTP response frame
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8aa502e5-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4737] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.server.HttpServerOperations     : [8aa502e5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4737] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.channel.ChannelOperations        : [8aa502e5-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4737] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:40.590+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:40.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/comment/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:40.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:40.595+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f4a75533, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] New http connection, requesting read
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [f4a75533, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f4a75533, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] Increasing pending responses count: 1
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [f4a75533-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:40.624+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [f4a75533-122] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:40.625+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:40.632+08:00  INFO 58228 --- [gateway] [reactor-http-nio-13] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:40.634+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:40.634+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:40.634+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:40.634+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [f4a75533-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:40.634+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:40.667+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:40.667+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:40.667+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:40.667+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-4, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f4a75533-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] Last HTTP response frame
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f4a75533-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4743] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [f4a75533-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4743] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:40.668+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [f4a75533-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4743] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [17046887, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] New http connection, requesting read
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [17046887, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [17046887, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] Increasing pending responses count: 1
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [17046887-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:50.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [17046887-123] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.217+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.219+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.219+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T17:25:50.219+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.219+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [17046887-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.219+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.318+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-5, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.319+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [17046887-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] Last HTTP response frame
2025-08-10T17:25:50.320+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [17046887-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4794] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.320+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [17046887-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4794] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.320+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [17046887-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4794] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.331+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [48202ea3, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] New http connection, requesting read
2025-08-10T17:25:50.331+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [48202ea3, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [48202ea3, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] Increasing pending responses count: 1
2025-08-10T17:25:50.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [48202ea3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:25:50.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:50.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [48202ea3-124] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.332+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T17:25:50.333+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.334+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [48202ea3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.334+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.396+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-6, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [48202ea3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] Last HTTP response frame
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [48202ea3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4797] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.397+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [48202ea3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4797] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.398+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [48202ea3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4797] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [5aeed51a, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] New http connection, requesting read
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [5aeed51a, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [5aeed51a, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] Increasing pending responses count: 1
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [5aeed51a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [5aeed51a-125] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.422+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.425+08:00  INFO 58228 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.425+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.427+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [5aeed51a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.427+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.524+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-7, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [5aeed51a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] Last HTTP response frame
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [5aeed51a-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4810] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [5aeed51a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4810] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.525+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [5aeed51a-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4810] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.529+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d063a89c, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] New http connection, requesting read
2025-08-10T17:25:50.529+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [d063a89c, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.530+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d063a89c, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] Increasing pending responses count: 1
2025-08-10T17:25:50.530+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [d063a89c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [d063a89c-126] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.531+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.534+08:00  INFO 58228 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [d063a89c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.535+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-8, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d063a89c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] Last HTTP response frame
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d063a89c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4813] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [d063a89c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4813] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.574+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [d063a89c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4813] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6cfccb07, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] New http connection, requesting read
2025-08-10T17:25:50.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [6cfccb07, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6cfccb07, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] Increasing pending responses count: 1
2025-08-10T17:25:50.581+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [6cfccb07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [6cfccb07-127] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.582+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.584+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.585+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.585+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.585+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.586+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [6cfccb07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.586+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-9, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6cfccb07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] Last HTTP response frame
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6cfccb07-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4815] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [6cfccb07-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4815] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.618+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [6cfccb07-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4815] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2e92845c, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] New http connection, requesting read
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [2e92845c, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2e92845c, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] Increasing pending responses count: 1
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [2e92845c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [2e92845c-128] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.623+08:00  INFO 58228 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [2e92845c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.623+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.674+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.674+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.674+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-10, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2e92845c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] Last HTTP response frame
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2e92845c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4817] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [2e92845c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4817] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.675+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [2e92845c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4817] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.677+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [08a16574, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] New http connection, requesting read
2025-08-10T17:25:50.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [08a16574, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [08a16574, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] Increasing pending responses count: 1
2025-08-10T17:25:50.680+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [08a16574-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.681+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.681+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.681+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [08a16574-129] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.681+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.684+08:00  INFO 58228 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [08a16574-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.685+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.730+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-11, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [08a16574-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] Last HTTP response frame
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [08a16574-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4820] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [08a16574-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4820] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.731+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [08a16574-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4820] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [819f1e8f, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] New http connection, requesting read
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [819f1e8f, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [819f1e8f, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] Increasing pending responses count: 1
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [819f1e8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [819f1e8f-130] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.735+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.739+08:00  INFO 58228 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.741+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.741+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.741+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.741+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [819f1e8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.741+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-12, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [819f1e8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] Last HTTP response frame
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [819f1e8f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4824] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [819f1e8f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4824] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.781+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [819f1e8f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4824] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [f67a3d8c, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] New http connection, requesting read
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [f67a3d8c, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [f67a3d8c, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] Increasing pending responses count: 1
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [f67a3d8c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [f67a3d8c-131] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:50.790+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:50.790+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:50.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:25:50.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:25:50.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [f67a3d8c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.794+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-13, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [f67a3d8c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] Last HTTP response frame
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [f67a3d8c-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4826] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [f67a3d8c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4826] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:50.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [f67a3d8c-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4826] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:54.297+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cce848e3, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] New http connection, requesting read
2025-08-10T17:25:54.297+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.transport.TransportConfig        : [cce848e3, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:54.297+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cce848e3, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] Increasing pending responses count: 1
2025-08-10T17:25:54.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.http.server.HttpServer     : [cce848e3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:54.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T17:25:54.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T17:25:54.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.h.RoutePredicateHandlerMapping   : [cce848e3-132] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:54.298+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:54.301+08:00  INFO 58228 --- [gateway] [reactor-http-nio-7] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:54.303+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.303+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConfig        : [8018654d] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:54.303+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.transport.TransportConnector     : [8018654d] Connecting to [/192.168.0.18:58070].
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Registering pool release on close event for channel
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}, [connected])
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [configured])
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/list, method=GET}
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] reactor.netty.channel.FluxReceive        : [cce848e3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:54.304+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T17:25:54.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:54.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T17:25:54.606+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8018654d-1, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cce848e3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] Last HTTP response frame
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cce848e3-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4842] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.n.http.server.HttpServerOperations     : [cce848e3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4842] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:54.609+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-7] r.netty.channel.ChannelOperations        : [cce848e3-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4842] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [fc465120, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] New http connection, requesting read
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.transport.TransportConfig        : [fc465120, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [fc465120, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] Increasing pending responses count: 1
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.http.server.HttpServer     : [fc465120-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/llm/model/history/9] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.h.RoutePredicateHandlerMapping   : [fc465120-133] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:54.614+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:54.616+08:00  INFO 58228 --- [gateway] [reactor-http-nio-9] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:54.616+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.616+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/model/history/9, method=GET}
2025-08-10T17:25:54.616+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T17:25:54.616+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] reactor.netty.channel.FluxReceive        : [fc465120-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:54.616+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T17:25:54.748+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:54.748+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8018654d-2, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(GET{uri=/model/history/9, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [fc465120-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] Last HTTP response frame
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [fc465120-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4848] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.n.http.server.HttpServerOperations     : [fc465120-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4848] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:54.749+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-9] r.netty.channel.ChannelOperations        : [fc465120-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4848] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [575f3f1e, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] New http connection, requesting read
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.transport.TransportConfig        : [575f3f1e, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [575f3f1e, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] Increasing pending responses count: 1
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.http.server.HttpServer     : [575f3f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: ai-route
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/llm/rag/list] to Route{id='ai-route', uri=lb://ai-service, order=0, predicate=Paths: [/api/llm/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2]], metadata={}}
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.h.RoutePredicateHandlerMapping   : [575f3f1e-134] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:54.757+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/llm/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@6dfbc2ed, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:54.760+08:00  INFO 58228 --- [gateway] [reactor-http-nio-10] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:25:54.760+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.760+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.netty.http.client.HttpClientConnect    : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Handler is being applied: {uri=http://192.168.0.18:58070/rag/list, method=POST}
2025-08-10T17:25:54.760+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [request_prepared])
2025-08-10T17:25:54.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [575f3f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:54.762+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [request_sent])
2025-08-10T17:25:54.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:54.831+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [response_received])
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] reactor.netty.channel.FluxReceive        : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.http.client.HttpClientOperations     : [8018654d-3, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Received last HTTP packet
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [response_completed])
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] onStateChange(POST{uri=/rag/list, connection=PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070]}}, [disconnecting])
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Releasing channel
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.resources.PooledConnectionProvider   : [8018654d, L:/192.168.0.18:4845 - R:/192.168.0.18:58070] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [575f3f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] Last HTTP response frame
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [575f3f1e-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4850] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.server.HttpServerOperations     : [575f3f1e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4850] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:54.833+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.channel.ChannelOperations        : [575f3f1e-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4850] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [3526754f, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] New http connection, requesting read
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.transport.TransportConfig        : [3526754f, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [3526754f, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] Increasing pending responses count: 1
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.http.server.HttpServer     : [3526754f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/resources/oss/public/count] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.h.RoutePredicateHandlerMapping   : [3526754f-135] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [e9f3d50d] Created a new pooled channel, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConfig        : [e9f3d50d] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.transport.TransportConnector     : [e9f3d50d] Connecting to [/192.168.0.18:58012].
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Registering pool release on close event for channel
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Channel connected, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}, [connected])
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(GET{uri=null, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [configured])
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/count, method=GET}
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] reactor.netty.channel.FluxReceive        : [3526754f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:56.772+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [e9f3d50d-1, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(GET{uri=/oss/public/count, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [3526754f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] Last HTTP response frame
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [3526754f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4862] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.n.http.server.HttpServerOperations     : [3526754f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4862] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:56.906+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-11] r.netty.channel.ChannelOperations        : [3526754f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4862] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [33ea35b7, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] New http connection, requesting read
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.transport.TransportConfig        : [33ea35b7, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [33ea35b7, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Increasing pending responses count: 1
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.http.server.HttpServer     : [33ea35b7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-resource-route
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/resources/oss/public/list] to Route{id='public-resource-route', uri=lb://resource-service, order=0, predicate=Paths: [/api/resources/oss/public/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.h.RoutePredicateHandlerMapping   : [33ea35b7-136] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/resources/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.netty.http.client.HttpClientConnect    : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Handler is being applied: {uri=http://192.168.0.18:58012/oss/public/list, method=POST}
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [request_prepared])
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] reactor.netty.channel.FluxReceive        : [33ea35b7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:25:56.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [request_sent])
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [response_received])
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] reactor.netty.channel.FluxReceive        : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.http.client.HttpClientOperations     : [e9f3d50d-2, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Received last HTTP packet
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [response_completed])
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] onStateChange(POST{uri=/oss/public/list, connection=PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012]}}, [disconnecting])
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Releasing channel
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.resources.PooledConnectionProvider   : [e9f3d50d, L:/192.168.0.18:4863 - R:/192.168.0.18:58012] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [33ea35b7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Last HTTP response frame
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [33ea35b7-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4866] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.n.http.server.HttpServerOperations     : [33ea35b7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4866] Last HTTP packet was sent, terminating the channel
2025-08-10T17:25:56.968+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-13] r.netty.channel.ChannelOperations        : [33ea35b7-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4866] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [428726dc, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] New http connection, requesting read
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.transport.TransportConfig        : [428726dc, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [428726dc, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] Increasing pending responses count: 1
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.http.server.HttpServer     : [428726dc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://127.0.0.1:57070/api/blogs/blog/get-count] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.h.RoutePredicateHandlerMapping   : [428726dc-137] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:02.630+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/get-count, method=GET}
2025-08-10T17:26:02.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:02.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] reactor.netty.channel.FluxReceive        : [428726dc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] [terminated=true, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.639+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-14, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(GET{uri=/blog/get-count, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [428726dc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] Last HTTP response frame
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [428726dc-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4895] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.n.http.server.HttpServerOperations     : [428726dc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4895] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:02.703+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-14] r.netty.channel.ChannelOperations        : [428726dc-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4895] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:02.710+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [2abdcf3f, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] New http connection, requesting read
2025-08-10T17:26:02.710+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.transport.TransportConfig        : [2abdcf3f, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:02.710+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [2abdcf3f, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] Increasing pending responses count: 1
2025-08-10T17:26:02.710+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.http.server.HttpServer     : [2abdcf3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:02.712+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: public-blog-route
2025-08-10T17:26:02.712+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/blog/list] to Route{id='public-blog-route', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/blog/list-top, /api/blogs/blog/get-count, /api/blogs/blog/list, /api/blogs/comment/get-count, /api/blogs/comment/list, /api/blogs/blog/get], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2]], metadata={}}
2025-08-10T17:26:02.712+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.h.RoutePredicateHandlerMapping   : [2abdcf3f-138] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:02.712+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:02.713+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.713+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/blog/list, method=POST}
2025-08-10T17:26:02.713+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:02.713+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] reactor.netty.channel.FluxReceive        : [2abdcf3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.713+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:02.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:02.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:02.847+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-15, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/blog/list, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [2abdcf3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] Last HTTP response frame
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [2abdcf3f-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4897] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.n.http.server.HttpServerOperations     : [2abdcf3f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4897] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:02.848+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-15] r.netty.channel.ChannelOperations        : [2abdcf3f-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4897] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [86a9c074, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] New http connection, requesting read
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.transport.TransportConfig        : [86a9c074, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [86a9c074, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] Increasing pending responses count: 1
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.http.server.HttpServer     : [86a9c074-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.h.RoutePredicateHandlerMapping   : [86a9c074-139] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:02.869+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:02.873+08:00  INFO 58228 --- [gateway] [reactor-http-nio-16] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:02.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:02.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:02.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] reactor.netty.channel.FluxReceive        : [86a9c074-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.873+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:02.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:02.915+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-16, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [86a9c074-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] Last HTTP response frame
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [86a9c074-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4899] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.n.http.server.HttpServerOperations     : [86a9c074-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4899] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:02.916+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-16] r.netty.channel.ChannelOperations        : [86a9c074-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4899] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:02.920+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [33316296, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] New http connection, requesting read
2025-08-10T17:26:02.920+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.transport.TransportConfig        : [33316296, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:02.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [33316296, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] Increasing pending responses count: 1
2025-08-10T17:26:02.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.http.server.HttpServer     : [33316296-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:02.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:02.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:02.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.h.RoutePredicateHandlerMapping   : [33316296-140] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:02.921+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:02.924+08:00  INFO 58228 --- [gateway] [reactor-http-nio-1] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:02.925+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:02.926+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:02.926+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:02.926+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] reactor.netty.channel.FluxReceive        : [33316296-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:02.926+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:03.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:03.017+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-17, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [33316296-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] Last HTTP response frame
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [33316296-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4901] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.n.http.server.HttpServerOperations     : [33316296-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4901] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:03.018+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-1] r.netty.channel.ChannelOperations        : [33316296-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4901] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:03.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [75ee1fd2, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] New http connection, requesting read
2025-08-10T17:26:03.024+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.transport.TransportConfig        : [75ee1fd2, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:03.025+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [75ee1fd2, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] Increasing pending responses count: 1
2025-08-10T17:26:03.025+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.http.server.HttpServer     : [75ee1fd2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:03.025+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:03.025+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:03.025+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : [75ee1fd2-141] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:03.025+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:03.027+08:00  INFO 58228 --- [gateway] [reactor-http-nio-2] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:03.028+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.028+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:03.028+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:03.029+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] reactor.netty.channel.FluxReceive        : [75ee1fd2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.029+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:03.102+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:03.102+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-18, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [75ee1fd2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] Last HTTP response frame
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [75ee1fd2-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4903] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.n.http.server.HttpServerOperations     : [75ee1fd2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4903] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:03.103+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-2] r.netty.channel.ChannelOperations        : [75ee1fd2-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4903] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:03.108+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4bf47652, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] New http connection, requesting read
2025-08-10T17:26:03.108+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.transport.TransportConfig        : [4bf47652, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:03.108+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4bf47652, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] Increasing pending responses count: 1
2025-08-10T17:26:03.108+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.http.server.HttpServer     : [4bf47652-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:03.108+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.h.RoutePredicateHandlerMapping   : [4bf47652-142] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:03.109+08:00  INFO 58228 --- [gateway] [reactor-http-nio-3] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] reactor.netty.channel.FluxReceive        : [4bf47652-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.109+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-19, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4bf47652-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] Last HTTP response frame
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4bf47652-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4905] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.n.http.server.HttpServerOperations     : [4bf47652-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4905] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:03.157+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-3] r.netty.channel.ChannelOperations        : [4bf47652-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4905] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:03.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e19d554, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] New http connection, requesting read
2025-08-10T17:26:03.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.transport.TransportConfig        : [4e19d554, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:03.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e19d554, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] Increasing pending responses count: 1
2025-08-10T17:26:03.166+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.http.server.HttpServer     : [4e19d554-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.h.RoutePredicateHandlerMapping   : [4e19d554-143] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:03.168+08:00  INFO 58228 --- [gateway] [reactor-http-nio-4] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:03.168+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:03.171+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] reactor.netty.channel.FluxReceive        : [4e19d554-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.172+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:03.214+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:03.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:03.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.215+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-20, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e19d554-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] Last HTTP response frame
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e19d554-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4908] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.n.http.server.HttpServerOperations     : [4e19d554-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4908] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:03.216+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-4] r.netty.channel.ChannelOperations        : [4e19d554-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4908] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:03.220+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [54710332, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] New http connection, requesting read
2025-08-10T17:26:03.220+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.transport.TransportConfig        : [54710332, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:03.221+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [54710332, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] Increasing pending responses count: 1
2025-08-10T17:26:03.221+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.http.server.HttpServer     : [54710332-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:03.221+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:03.221+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:03.221+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.h.RoutePredicateHandlerMapping   : [54710332-144] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:03.221+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:03.224+08:00  INFO 58228 --- [gateway] [reactor-http-nio-5] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:03.225+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.225+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:03.225+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:03.225+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] reactor.netty.channel.FluxReceive        : [54710332-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.225+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-21, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [54710332-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] Last HTTP response frame
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [54710332-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4910] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.n.http.server.HttpServerOperations     : [54710332-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4910] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:03.256+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-5] r.netty.channel.ChannelOperations        : [54710332-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4910] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:03.264+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [82be3d2b, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] New http connection, requesting read
2025-08-10T17:26:03.264+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.transport.TransportConfig        : [82be3d2b, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] Initialized pipeline DefaultChannelPipeline{(reactor.left.httpCodec = io.netty.handler.codec.http.HttpServerCodec), (reactor.left.httpTrafficHandler = reactor.netty.http.server.HttpTrafficHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [82be3d2b, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] Increasing pending responses count: 1
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.http.server.HttpServer     : [82be3d2b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] Handler is being applied: org.springframework.http.server.reactive.ReactorHttpHandlerAdapter@4aa814dd
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: blog-service
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: POST http://127.0.0.1:57070/api/blogs/like/is-liked] to Route{id='blog-service', uri=lb://blog-service, order=0, predicate=Paths: [/api/blogs/**], match trailing slash: true, gatewayFilters=[[[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2]], metadata={}}
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.h.RoutePredicateHandlerMapping   : [82be3d2b-145] Mapped to org.springframework.cloud.gateway.handler.FilteringWebHandler@27d4c7c1
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [[GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RemoveCachedBodyFilter@5ea7bc4}, order = -2147483648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@3a0b6a}, order = -2147482648], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@4cc12db2}, order = -1], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardPathFilter@2c06b113}, order = 0], [[AddResponseHeader X-Response-Default = 'Default'], order = 1], [[RewritePath /api/blogs/(?<segment>.*) = '/${segment}'], order = 1], [[RewritePath /api/(?<segment>.*) = '/${segment}'], order = 2], [com.atguigu.bloggateway.filter.RouteBasedAuthFilter$$Lambda/0x000001443a75c7f8@59a14ff2, order = 2], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@39d77de9}, order = 10000], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ReactiveLoadBalancerClientFilter@c48b543}, order = 10150], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.LoadBalancerServiceInstanceCookieFilter@75793f17}, order = 10151], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@7a64cb0c}, order = 2147483646], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@4652c74d}, order = 2147483647], [GatewayFilterAdapter{delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@696fad31}, order = 2147483647]]
2025-08-10T17:26:03.265+08:00  INFO 58228 --- [gateway] [reactor-http-nio-6] com.atguigu.bloggateway.util.JwtUtil     : claim auth: [ROLE_ADMIN, ROLE_USER]
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel acquired, now: 1 active connections, 0 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.netty.http.client.HttpClientConnect    : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Handler is being applied: {uri=http://172.22.64.1:58050/like/is-liked, method=POST}
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_prepared])
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] reactor.netty.channel.FluxReceive        : [82be3d2b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] [terminated=true, cancelled=false, pending=1, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.265+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [request_sent])
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received response (auto-read:false) : RESPONSE(decodeResult: success, version: HTTP/1.1)
HTTP/1.1 200 
Content-Type: <filtered>
Transfer-Encoding: <filtered>
Date: <filtered>
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_received])
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] reactor.netty.channel.FluxReceive        : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] [terminated=false, cancelled=false, pending=0, error=null]: subscribing inbound receiver
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.http.client.HttpClientOperations     : [3b8bf09b-22, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Received last HTTP packet
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [response_completed])
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] onStateChange(POST{uri=/like/is-liked, connection=PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050]}}, [disconnecting])
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Releasing channel
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.resources.PooledConnectionProvider   : [3b8bf09b, L:/172.22.64.1:4725 - R:/172.22.64.1:58050] Channel cleaned, now: 0 active connections, 1 inactive connections and 0 pending acquire requests.
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [82be3d2b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] Last HTTP response frame
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [82be3d2b-1, L:/127.0.0.1:57070 - R:/127.0.0.1:4912] Detected non persistent http connection, preparing to close. Pending responses count: 1
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.n.http.server.HttpServerOperations     : [82be3d2b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4912] Last HTTP packet was sent, terminating the channel
2025-08-10T17:26:03.395+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-6] r.netty.channel.ChannelOperations        : [82be3d2b-1, L:/127.0.0.1:57070 ! R:/127.0.0.1:4912] [HttpServer] Channel inbound receiver cancelled (channel disconnected).
2025-08-10T17:26:55.217+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-8] r.n.r.DefaultPooledConnectionProvider    : [8018654d, L:/192.168.0.18:4845 ! R:/192.168.0.18:58070] onStateChange(PooledConnection{channel=[id: 0x8018654d, L:/192.168.0.18:4845 ! R:/192.168.0.18:58070]}, [disconnecting])
2025-08-10T17:26:57.274+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-12] r.n.r.DefaultPooledConnectionProvider    : [e9f3d50d, L:/192.168.0.18:4863 ! R:/192.168.0.18:58012] onStateChange(PooledConnection{channel=[id: 0xe9f3d50d, L:/192.168.0.18:4863 ! R:/192.168.0.18:58012]}, [disconnecting])
2025-08-10T17:27:03.789+08:00 DEBUG 58228 --- [gateway] [reactor-http-nio-10] r.n.r.DefaultPooledConnectionProvider    : [3b8bf09b, L:/172.22.64.1:4725 ! R:/172.22.64.1:58050] onStateChange(PooledConnection{channel=[id: 0x3b8bf09b, L:/172.22.64.1:4725 ! R:/172.22.64.1:58050]}, [disconnecting])
2025-08-10T18:29:53.133+08:00  WARN 58228 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2025-08-10T18:29:53.133+08:00  WARN 58228 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2025-08-10T18:29:53.133+08:00  WARN 58228 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Start destroying ThreadPool
2025-08-10T18:29:53.134+08:00  WARN 58228 --- [gateway] [Thread-17] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2025-08-10T18:29:53.135+08:00  WARN 58228 --- [gateway] [Thread-2] c.a.n.common.executor.ThreadPoolManager  : [ThreadPoolManager] Destruction of the end
2025-08-10T18:29:53.136+08:00  WARN 58228 --- [gateway] [Thread-19] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2025-08-10T18:29:53.149+08:00 DEBUG 58228 --- [gateway] [SpringApplicationShutdownHook] r.netty.transport.ServerTransport        : [5bf4dd36, L:/[0:0:0:0:0:0:0:0]:57070] Server is about to be disposed with timeout: PT3S
2025-08-10T18:29:55.242+08:00  INFO 58228 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2025-08-10T18:29:55.253+08:00  INFO 58228 --- [gateway] [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
